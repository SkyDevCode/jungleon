/*!
 * 
 * Product name/Version: SynapDocumentViewer 2019.19.12.1
 * 
 */!function(e){function t(t){for(var i,a,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);h.length;)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={1:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([114,0]),n()}([,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.getVersion=function(t){var n=e.userAgent.match(t);if(n&&n.length<2)return-1;try{return parseInt(n[1])}catch(e){return-1}},this.getIEVersion=function(){var t=e.getVersion("Trident/([0-9]+)");return t>2?t+4:e.getVersion("MSIE ([0-9]+)")},this.getChromeVersion=function(){return e.getVersion("Chrome/([0-9]+)")},this.getFirefoxVersion=function(){return e.getVersion("Firefox/([0-9]+)")},this.getAndroidVersion=function(){return e.getVersion("Android ([0-9]+)")},this.getIOSVersion=function(){return e.getVersion("OS ([0-9]+)")},this.getOperaVersion=function(){var t=e.getVersion("OPR/([0-9]+)");return t>-1?t:e.getVersion("Opera/([0-9]+)")},this.getEdgeVersion=function(){return e.getVersion("Edge/([0-9]+)")},this.isIE9Lower=function(){return e.isIE&&e.getIEVersion()<=9},this.isIOS12Lower=function(){return e.isIOS&&e.getIOSVersion()<13},this.appName=navigator.appName,this.userAgent=navigator.userAgent,this.isAndroid=this.userAgent.indexOf("Android")>-1,this.isiPad=this.userAgent.indexOf("iPad")>-1||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this.isIOS=this.isiPad||this.userAgent.indexOf("iPhone")>-1||this.userAgent.indexOf("iPod")>-1,this.isWindowMobile=this.userAgent.indexOf("IEMobile")>-1,this.isMobile=this.isAndroid||this.isIOS||this.isWindowMobile,this.isIPhoneX=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&375===window.screen.width&&812===window.screen.height,this.isIPhoneXS=this.isIPhoneX,this.isIPhoneXSMax=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&3===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,this.isIPhoneXR=/iphone/gi.test(window.navigator.userAgent)&&window.devicePixelRatio&&2===window.devicePixelRatio&&414===window.screen.width&&896===window.screen.height,this.isIE=!this.isMobile&&("Microsoft Internet Explorer"===this.appName||this.userAgent.indexOf("MSIE")>-1||this.userAgent.indexOf("Trident")>-1),this.isFirefox=!this.isMobile&&this.userAgent.indexOf("Firefox")>-1,this.isOpera=!this.isMobile&&(this.userAgent.indexOf("Opera")>-1||this.userAgent.indexOf("OPR")>-1),this.isEdge=!this.isMobile&&this.userAgent.indexOf("Edge")>-1,this.isChrome=!this.isMobile&&!this.isOpera&&!this.isEdge&&this.userAgent.indexOf("Chrome")>-1,this.isSafari=!this.isMobile&&!this.isChrome&&!this.isEdge&&this.userAgent.indexOf("Safari")>-1,this.isWebkit=this.userAgent.indexOf("AppleWebKit")>-1,this.version=this.getBrowserVersion()}return e.prototype.getBrowserVersion=function(){if(this.isMobile){if(this.isAndroid)return this.getAndroidVersion();if(this.isIOS)return this.getIOSVersion();if(this.isWindowMobile)return this.getIEVersion()}else{if(this.isIE)return this.getIEVersion();if(this.isChrome)return this.getChromeVersion();if(this.isFirefox)return this.getFirefoxVersion();if(this.isSafari)return this.getIOSVersion();if(this.isOpera)return this.getOperaVersion();if(this.isEdge)return this.getEdgeVersion()}return-1},Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e}();t.Browser=i},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(2),s=n(49),l=function(){function t(){}return t.ajaxCall=function(t,n,i,o){return void 0===n&&(n="GET"),void 0===i&&(i=null),void 0===o&&(o=null),new e((function(e,r){var s="";if(i&&"object"==typeof i.param)for(var l in s.length>0&&(s+="&"),i.param)s+=l+"="+encodeURIComponent(i.param[l])+"&";if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraParam)for(var l in s.length>0&&(s+="&"),window.localSynap.config.extraParam)s+=l+"="+encodeURIComponent(window.localSynap.config.extraParam[l])+"&";var c=new XMLHttpRequest;if("POST"===n)c.open("POST",t,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");else{var d=a.Browser.instance.isIE9Lower()?encodeURI(t):t;d.indexOf("?")>-1?d+="&"+s:d+="?"+s,c.open("GET",d,!0)}if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraHeader)for(var l in window.localSynap.config.extraHeader)c.setRequestHeader(l,window.localSynap.config.extraHeader[l]);c.onreadystatechange=function(){4===c.readyState&&(c.status>=200&&c.status<400?e(null!==o&&"xml"===o?c.responseXML:c.responseText):null!==o&&"xml"===o&&500===c.status?e(null):r(new Error(c.status.toString())))},c.send(s)}))},t.getJson=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"GET",t)];case 1:return n=i.sent(),[2,JSON.parse(n)]}}))}))},t.getJsonPost=function(e,t,n,a){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){return o(this,(function(i){return r.ajax({type:"POST",url:e,data:t,contentType:"application/json",async:!1,success:function(e){n(e)},error:function(){a()}}),[2]}))}))},t.postJson=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"POST",t)];case 1:return n=i.sent(),[2,JSON.parse(n)]}}))}))},t.getXml=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n;return o(this,(function(i){switch(i.label){case 0:return[4,this.ajaxCall(e,"GET",t,"xml")];case 1:return n=i.sent(),[2,this.xmlToJson(n)]}}))}))},t.getThumbnailXml=function(e,t){return void 0===t&&(t=null),i(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return[4,this.ajaxCall(e,"GET",t,"xml")];case 1:return(n=o.sent())?[3,4]:(i=e.replace("thumbnailxml","thumbnail"),[4,this.ajaxCall(i,"GET",t)]);case 2:return o.sent(),[4,this.ajaxCall(e,"GET",t,"xml")];case 3:n=o.sent(),o.label=4;case 4:return[2,this.xmlParse(n)]}}))}))},t.xmlParse=function(e){var t={};if(e.hasChildNodes()){var n=e.getElementsByTagName("page")[0];if("page"!=n.tagName)return;if(n.attributes.length>0){t.page={};for(var i=0;i<n.attributes.length;i++){var o=n.attributes.item(i);t.page[o.nodeName]=o.nodeValue}}for(var r=a.Browser.instance.isIE9Lower(),s="",l=[],c=0,d=0,u=e.getElementsByTagName("text");d<u.length;d++){var h=u[d];if(r||0!==h.textContent.length){var m={};for(i=0;i<h.attributes.length;i++){m[(o=h.attributes.item(i)).nodeName]=Number(o.nodeValue).toFixed(2)}var f="";f=r?0===h.text.length?" ":h.text:h.textContent,l[c]={"@attributes":m,text:f},r&&(s+=f),c++}}t.text=l,t.result=r?s:n.textContent.replace(/\n/gi,"")}return t},t.xmlToJson=function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else if(3===e.nodeType){var o=e.nodeValue.trim();if(o.length)return o}else if(4===e.nodeType)return e.data;if(e.hasChildNodes())for(var r=0,a=e.childNodes.length;r<a;r++){var s=e.childNodes.item(r),l=s.nodeName;if(void 0===t[l]){var c=this.xmlToJson(s);Object.keys(new Object(c)).length&&(l[0]&&"#"===l[0]?t=c:t[l]=c)}else{var d=this.xmlToJson(s);if(0===Object.keys(new Object(d)).length)continue;void 0===t[l].push?t[l]=[t[l],d]:t[l].push(d)}}return t},t.getDpi=function(e){return e||this.normalDPI},t.isMobileMode=function(e){return e!==s.CONV_TYPE.IMAGE&&a.Browser.instance.isMobile?a.Browser.instance.isMobile:document.documentElement.clientWidth<=768},t.isFullScreen=function(){return r("#container").hasClass("wrap__container--presentation")},t.isBrowserFullScreen=function(){return t.isFullScreen()&&!r(".wrap__header").hasClass("wrap__header--presentation")},t.isSupportFullScreen=function(){var e=top.document;return top.document.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled||e.msFullscreenEnabled},t.getThumbPath=function(e,t,n,i){void 0===i&&(i=null);var o=n||this.thumbDPI,r="";if(i)for(var s in i)r+="&"+s+"="+encodeURIComponent(i[s]);if(window.localSynap&&window.localSynap.config&&"object"==typeof window.localSynap.config.extraParam)for(var s in window.localSynap.config.extraParam)r+="&"+s+"="+encodeURIComponent(window.localSynap.config.extraParam[s]);return!window.localSynap.config.search&&!window.localSynap.config.useAnnotation||o==this.thumbDPI||a.Browser.instance.isIE?e.contextPath+"/thumbnail/"+e.jobId+"/"+t+"?dpi="+o+"&withXml=false"+r:e.contextPath+"/thumbnail/"+e.jobId+"/"+t+"?dpi="+o+"&withXml=true"+r+"&dispAnnot=0"},t.getResultPath=function(e,t){return e.resultPath+"/"+t},t.printConsoleLog=function(e){window.console&&console.log(e)},t.clone=function(e){var t={};for(var n in e)t[n]=e[n];return e},t.getMouseHandlerDispatch=function(e,t){return void 0===t&&(t=function(e){return!0}),function(n){if(t(n))if(a.Browser.instance.isIE){(i=document.createEvent("MouseEvent")).initMouseEvent(n.type,!0,!0,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),e.dispatchEvent(i)}else{var i=new MouseEvent(n.type,n);e.dispatchEvent(i)}}},t.getKeybordHandlerDispatch=function(e){return function(t){if(a.Browser.instance.isIE||a.Browser.instance.isEdge){(n=document.createEvent("KeyboardEvent")).initKeyboardEvent(t.type,!0,!0,t.view,t.key,t.location,t.modifiersList,t.repeat,t.locale),e.dispatchEvent(n)}else{var n=new KeyboardEvent(t.type,t);e.dispatchEvent(n)}}},t.getTouchHandlerDispatch=function(e){return function(t){var n=new TouchEvent(t.type,t);e.dispatchEvent(n)}},t.fill=function(e,t){for(var n=0;n<e.length;n++)e[n]=t;return e},t.thumbDPI="L",t.normalDPI="M",t.highDPI="H",t.AdvancedDPI="150",t.mostHighDPI="300",t.getServerDpi=function(t){return i(void 0,void 0,e,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=96,[4,r.ajax({type:"GET",url:t+"/config/dpi",async:!0,success:function(t){e=parseInt(t)},error:function(){}})];case 1:return n.sent(),[2,e]}}))}))},t.isSupportKeyFrame=function(){var e=getComputedStyle(document.querySelector(".wrap__contents"));return!(!e.animation&&!e.webkitAnimation)},t.sleep=function(t){return new e((function(e){return setTimeout(e,t)}))},t.bindClickOrTouchEvent=function(e,t,n,i){void 0===n&&(n=function(e){}),void 0===i&&(i=function(){e.removeClass(t)}),e.on(a.Browser.instance.isMobile?"touchstart":"mouseover",(function(){e.prop("disabled")||e.addClass(t)})).on(a.Browser.instance.isMobile?"click touchend":"mouseout click",(function(t){(a.Browser.instance.isMobile&&"click"===t.type||"touchend"===t.type||"mouseout"===t.type)&&i(),"click"===t.type&&(e.prop("disabled")||n(t))}))},t.getDimensionHtmlForPDF=function(e){var t=[];if(1==e.index.pdf_cnt){var n={index:0,width:e.index.pdf_list.pdf.w,height:e.index.pdf_list.pdf.h,path:e.index.pdf_list.pdf.path_html};return t[0]=n,t}return r.each(e.index.pdf_list.pdf,(function(e,n){var i={index:e,width:n.w,height:n.h,path:n.path_html};t[e]=i})),t},t.getDimensionHtmlForImage=function(e){var t=[];if(1==e.index.image_cnt){var n={index:0,width:e.index.width,height:e.index.height,path:e.index.image_list.image.path_image};t[0]=n}else r.each(e.index.image_list.image,(function(e,n){var i={index:e,width:n.w,height:n.h,path:n.path_image};t[e]=i}));return t},t.isServer=function(e){return e.productType===s.PRODUCT_TYPE.SERVER},t.isHtmlSkin=function(e){return t.isHtmlWordSkin(e)||t.isHtmlCellSkin(e)||t.isHtmlSlideSkin(e)},t.isHtmlWordSkin=function(e){return t.isConvHtml(e)&&"word"===e.skinType},t.isHtmlCellSkin=function(e){return t.isConvHtml(e)&&"cell"===e.skinType},t.isHtmlSlideSkin=function(e){return t.isConvHtml(e)&&"slide"===e.skinType},t.isConvHtml=function(e){return e.status.convertType===s.CONV_TYPE.HTML},t.isConvImg=function(e){return e.status.convertType===s.CONV_TYPE.IMAGE},t.useSingle=function(e){return t.isHtmlSkin(e)&&e.status.single},t.getHeadScale=function(e){var t="string"==typeof r(e).css("transform")?r(e).css("transform").replace("matrix(","").split(","):[];return 6===t.length?parseFloat(t[0]):1},t.isUseAnnotation=function(e){return!t.isConvHtml(e)&&!!window.localSynap.config.useAnnotation&&!a.Browser.instance.isIE},t.getSize=function(e,t){var n=e,i="B";return t||-1===e?"-":(e>1073741824?(n=e/1073741824,i="GB"):e>1048576?(n=e/1048576,i="MB"):e>1024&&(n=e/1024,i="KB"),""+n.toFixed(1)+i)},t.addClass=function(e,t){if(e)if(e.classList)e.classList.add(t);else{for(var n=!1,i=e.className.trim().split(" "),o=0;o<i.length;o++)if(i[o]===t){n=!0;break}n||(e.className=e.className.trim()+" "+t)}},t.removeClass=function(e,t){if(e)if(e.classList)e.classList.remove(t);else{var n="";e.className.trim().split(" ").forEach((function(e){e!==t&&(n+=e+" ")})),e.className=n.trim()}},t.getClickEventName=function(){return a.Browser.instance.isMobile?"touchend":"click"},t.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},t.hasClassForEventTargetEl=function(e,t){var n=e.parentElement;return e.classList.contains(t)||!!n&&(n.classList.contains(t)||!!n.parentElement&&n.parentElement.classList.contains(t))},t.nonPassiveEventListenerOption={passive:!1},t.isSelected=function(){var e=window.getSelection();return!!(e&&e.rangeCount>0&&e.toString())},t.cancelSelection=function(){var e=window.getSelection();e&&e.rangeCount>0&&e.getRangeAt(0).getClientRects().length>0&&e.removeAllRanges()},t.getSelectedTextElIdRange=function(){var e=window.getSelection().getRangeAt(0),n=e.startContainer,i=e.endContainer,o=1===n.nodeType?n:n.parentNode;if(a.Browser.instance.isIOS){if(o.id.indexOf("page-area")>-1){var r=o.id.substring("page-area".length);o=document.getElementById("text-"+r+"-0")}}var s=1===i.nodeType?i:i.parentNode;return o&&o.className&&-1!==o.className.indexOf("text")&&s&&s.className&&-1!==s.className.indexOf("text")?{startTextId:o.id,endTextId:s.id}:(t.cancelSelection(),null)},t.blendColors=function(e,t,n){var i=e.match(/\w\w/g).map((function(e){return parseInt(e,16)})),o=i[0],r=i[1],a=i[2],s=t.match(/\w\w/g).map((function(e){return parseInt(e,16)})),l=s[0],c=s[1],d=s[2];return"#"+Math.round(o+(l-o)*n).toString(16).padStart(2,"0")+Math.round(r+(c-r)*n).toString(16).padStart(2,"0")+Math.round(a+(d-a)*n).toString(16).padStart(2,"0")},t}();t.Util=l}).call(this,n(6))},,,,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(49),s=n(2),l=n(28),c=n(29),d=n(3),u=n(1),h=n(24),m=n(35),f=n(106),p=n(34);!function(e){e[e.PageFit=0]="PageFit",e[e.PageWidthFit=1]="PageWidthFit",e[e.PageZoom=2]="PageZoom",e[e.SlidePageFit=3]="SlidePageFit"}(r=t.RESIZE_TYPE||(t.RESIZE_TYPE={})),function(e){e[e.desktop=0]="desktop",e[e.mobile=1]="mobile"}(t.VIEW_MODE||(t.VIEW_MODE={}));var g=function(){function t(){var n=this;this.starterLen=20,this.eventObserver=null,this.docInfo=null,this.transparentImg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",this.containerTop=function(){return parseInt(u("#container").css("top"))},this.lastTop=null,this.curZoomFactor=l.DetectZoom.getRatio(),this.scrollContentAreaEl=s.Browser.instance.isIOS?u(document):u("#contents"),this.DEFAULT_LOADING_CNT=5,this.androidVirtualKeyboardMode=f.ANDROID_VK_MODE.deactive,this.getDefaultLadingCnt=function(){return n.DEFAULT_LOADING_CNT},this.setDefaultLadingCnt=function(e){n.DEFAULT_LOADING_CNT=e},this.updatePageFocus=function(){var e=n.docInfo.status.pageNum;if(s.Browser.instance.isIOS)for(var i=n.scrollContentAreaEl.scrollTop()+n.containerTop(),o=0;o<e;++o){if(i<u("#page-area"+o).offset().top+t.CURRENT_SIZE[o].height/2)return void n.eventObserver.page.notify({pageNum:o,isScroll:!0})}else for(o=0;o<e;++o){var r=t.CURRENT_SIZE[o].height,a=document.getElementById("page-area"+o).getBoundingClientRect().top+r;if(a>0&&a-r/2>n.containerTop())return void(o!==n.docInfo.currentPage&&n.eventObserver.page.notify({pageNum:o,isScroll:!0}))}n.eventObserver.page.notify({pageNum:n.docInfo.status.pageNum-1,isScroll:!0})},this.scrollEventBind=function(){var e;n.scrollContentAreaEl.on("scroll",(function(i){if(clearTimeout(e),n.androidVirtualKeyboardMode!==f.ANDROID_VK_MODE.deactivating)if(Math.round(document.getElementById("contents").offsetHeight+document.getElementById("contents").scrollTop)>=document.getElementById("contents").scrollHeight&&u("#page-area"+n.docInfo.currentPage).position().top>0&&!n.lastTop)n.lastTop=n.scrollContentAreaEl.scrollTop();else{if(n.scrollContentAreaEl.scrollTop()!==n.lastTop){var o=d.Util.isFullScreen()||!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement);return!o||o&&(!s.Browser.instance.isMobile&&100!==n.curZoomFactor||s.Browser.instance.isMobile&&t.RESIZE_OBJ.type!=r.PageFit)?(e=setTimeout(n.updatePageFocus,80),void n.eventObserver.scroll.notify()):void 0}n.eventObserver.page.notify({pageNum:n.docInfo.status.pageNum-1,isScroll:!1})}}))},this.focusPage=function(e){s.Browser.instance.isMobile&&n.docInfo.currentPage!==e.pageNum&&u("#thumb-area"+n.docInfo.currentPage).addClass("thumb--nohover"),n.docInfo.currentPage=e.pageNum,n.loadPageImg(n.docInfo.currentPage),n.eventObserver.moveBtn.notify(),!0!==e.isScroll&&n.scrollContentAreaEl.scrollTop(n.getPageScrollTop(e.pageNum))},this.checkMoveControlbar=function(){0===n.docInfo.currentPage?(u("#page-prev").removeClass("controlbar--enable"),u("#page-prev").removeClass("controlbar-prev--hover"),u("#page-prev").prop("disabled",!0)):(u("#page-prev").addClass("controlbar--enable"),u("#page-prev").prop("disabled",!1)),n.docInfo.currentPage===n.docInfo.status.pageNum-1?(u("#page-next").removeClass("controlbar--enable"),u("#page-next").removeClass("controlbar-next--hover"),u("#page-next").prop("disabled",!0)):(u("#page-next").addClass("controlbar--enable"),u("#page-next").prop("disabled",!1))},this.moveBackPage=function(){0!==n.docInfo.currentPage&&n.eventObserver.page.notify({pageNum:n.docInfo.currentPage-1,isScroll:!1})},this.moveNextPage=function(){n.docInfo.currentPage!==n.docInfo.status.pageNum-1&&n.eventObserver.page.notify({pageNum:n.docInfo.currentPage+1,isScroll:!1})},this.orientationchange=function(){return i(n,void 0,void 0,(function(){return o(this,(function(e){return d.Util.isBrowserFullScreen()&&this._resizePage(),[2]}))}))},this.resizeWindow=function(){return i(n,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return e=l.DetectZoom.getRatio(),t=!0,this.curZoomFactor!==e&&(this.curZoomFactor=e,t=!1),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(this._innerResizeWindow(),[2]):s.Browser.instance.isIOS?[4,this._resizePageForIOS()]:[3,2];case 1:return n.sent(),[3,3];case 2:this._resizePage(t),n.label=3;case 3:return this.checkResizeControlBar(),this.lastTop=null,this.eventObserver.resizePage.notify(),[2]}}))}))},this._resizePage=function(e){return void 0===e&&(e=!0),i(n,void 0,void 0,(function(){return o(this,(function(t){return this._innerResizeWindow(),e&&this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(this.docInfo.currentPage)),[2]}))}))},this._resizePageForIOS=function(){return i(n,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return d.Util.isFullScreen()&&(document.getElementById("fullscreen-close").style.top=""),e=this.docInfo.currentPage,u("#wrap__index").css("height",""),[4,this.syncTimer((function(){if(u("#thumbnail").height()>u("#wrap__index").height()){s.Browser.instance.isiPad?u("#wrap__index").css("height",0===window.orientation?768*screen.height/screen.width-85:768*screen.width/screen.height-85):u("#wrap__index").css("height",0===window.orientation?screen.height-85:screen.width)}u("#contents-area").css("visibility","hidden"),u("#wrap__index").css("visibility","hidden"),u("#page__input").css("color","#333333"),t.scrollContentAreaEl.scrollTop(t.getPageScrollTop("0"))}),500)];case 1:return n.sent(),[4,this.syncTimer((function(){return t._innerResizeWindow()}),100)];case 2:return n.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){u("#contents-area").css("visibility",""),u("#wrap__index").css("visibility",""),u("#page__input").css("color","")}),100)];case 3:return n.sent(),[2]}}))}))},this.syncTimer=function(t,r){return i(n,void 0,void 0,(function(){return o(this,(function(n){return[2,new e((function(e){setTimeout((function(){t(),e()}),r)}))]}))}))},this.notSupportFullscreenIN=function(){return i(n,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(i){switch(i.label){case 0:return e=this.docInfo.currentPage,s.Browser.instance.isIOS?[4,this.syncTimer((function(){return n.pageResizeAction.resizePage(0,n.getRotateMap())}),200)]:[3,3];case 1:return i.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){return u("#contents-area").css("visibility","")}),100)];case 2:return i.sent(),!s.Browser.instance.isiPad&&s.Browser.instance.getIOSVersion()>=11&&(document.getElementById("fullscreen-close").style.top="",(t=u("#fullscreen-close").position().top)<0&&(document.getElementById("fullscreen-close").style.top=Math.abs(t)+"px")),[3,4];case 3:this.pageResizeAction.resizePage(0,this.getRotateMap()),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),i.label=4;case 4:return this.checkResizeControlBar(),this.lastTop=null,[2]}}))}))},this.notSupportFullscreenOUT=function(){return i(n,void 0,void 0,(function(){var e,n=this;return o(this,(function(i){switch(i.label){case 0:return e=this.docInfo.currentPage,s.Browser.instance.isIOS?[4,this.syncTimer((function(){return n.pageResizeAction.resizePage(n.preResizeObj.percent,n.getRotateMap())}),t.IOS_WAITTIME_FOR_PREVENT_RELOAD)]:[3,3];case 1:return i.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){u("#contents-area").css("visibility",""),u("#wrap__index").css("visibility",""),u("#page__input").css("color","")}),100)];case 2:return i.sent(),[3,4];case 3:this.pageResizeAction.resizePage(this.preResizeObj.percent,this.getRotateMap()),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),i.label=4;case 4:return this.checkResizeControlBar(),this.lastTop=null,[2]}}))}))},this.markerMode=function(e){return i(n,void 0,void 0,(function(){return o(this,(function(t){return e?u("#contents").addClass("wrap__contents--marker-mode"):u("#contents").removeClass("wrap__contents--marker-mode"),this.scrollEventBind(),[2]}))}))},this.fullScreen=function(e){return i(n,void 0,void 0,(function(){var n;return o(this,(function(i){return"cell"===e.skinType||(n=m.Head.bgColorMode===m.BGCOLOR_MODE.lightScreen?"img-loading-bright":"img-loading",e.isFullScreen?(u(document.body).addClass("wrap__contents--page-fullscreen"),u("#contents").addClass("wrap__contents--page-fullscreen"),s.Browser.instance.isIOS&&(u("#contents-area").css("visibility","hidden"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0"))),u("#container").addClass("wrap__container--presentation"),u("#contents").addClass("wrap__contents--presentation"),u("#thumbnailbar").addClass("wrap__thumbnailbar--presentation"),u("."+n).addClass("img-loading-black"),e.isSupport||u(".wrap__header").addClass("wrap__header--presentation"),this.setFitAction(),e.isSupport||(u(".wrap__header").addClass("wrap__header--presentation"),this.notSupportFullscreenIN())):(u(document.body).removeClass("wrap__contents--page-fullscreen"),d.Util.isFullScreen()&&(s.Browser.instance.isIOS&&(u("#contents-area").css("visibility","hidden"),u("#wrap__index").css("visibility","hidden"),u("#page__input").css("color","#333333"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0"))),this.eventObserver.bgColor.notify(m.Head.bgColorMode),u("#container").removeClass("wrap__container--presentation"),u("#contents").removeClass("wrap__contents--presentation"),u("#thumbnailbar").removeClass("wrap__thumbnailbar--presentation"),u("#contents").removeClass("wrap__contents--page-fullscreen"),u(".contents-page").removeClass("img-loading-black"),u(".contents-page__img").removeClass("img-loading-black"),u(".contents-page > img").removeAttr("style"),u(".contents-page > iframe").removeAttr("style"),t.RESIZE_OBJ=this.preResizeObj,this.pageResizeAction=this.prePageAction,e.isSupport||(u(".wrap__header").removeClass("wrap__header--presentation"),this.notSupportFullscreenOUT()),d.Util.isMobileMode(a.CONV_TYPE.IMAGE)&&h.Thumbnail.THUMB_STATUS===h.THUMB_FLAG.off&&(this.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC),this.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE3SEC)),this.fullscreenAfterEvent()))),[2]}))}))},this.mouseEventBind=function(){u("#contents-area").on("click",(function(){s.Browser.instance.isMobile||d.Util.isFullScreen()||window.setTimeout((function(){n.toggleMobileHeaderAndThumb()}),0)}))},this.toggleMobileHeaderAndThumb=function(){!d.Util.isMobileMode(n.docInfo.status.convertType)||p.default.isMarkerMode||p.default.isSelected||("none"===u(".wrap__header").css("display")?n.isThumbnailOn()?(n.eventObserver.mobileThumb.notify(c.ShowActionType.SHOW),n.eventObserver.mobileHeader.notify(c.ShowActionType.SHOW)):(n.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE3SEC),n.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC)):(n.eventObserver.mobileThumb.notify(c.ShowActionType.HIDE),n.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE)))},this.singleTap=function(){n.toggleMobileHeaderAndThumb()},this.androidVirtualKeyboard=function(e){n.androidVirtualKeyboardMode=e}}return t.prototype.getPageScrollTop=function(e){var t=document.getElementById("page-area"+e);return null===t?0:t.offsetTop-(s.Browser.instance.isIOS?this.containerTop():0)},t.RESIZE_OBJ={type:r.PageFit,percent:0},t.ORIGIN_SIZE=[],t.CURRENT_SIZE=[],t.isOutFullscreen=!1,t.IOS_WAITTIME_FOR_PREVENT_RELOAD=700,t}();t.Page=g}).call(this,n(6))},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(102),o=n.n(i);n.d(t,"ImageThumbnail",(function(){return o.a}));var r=n(104),a=n.n(r);n.d(t,"SlideThumbnail",(function(){return a.a}));var s=n(31);n.d(t,"Thumbnail",(function(){return s.Thumbnail})),n.d(t,"THUMB_FLAG",(function(){return s.THUMB_FLAG}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n(1),r=function(){var e=this;this.remove=function(){e.jqDialog.hide(),e.jqModal.hide(),e.jqCommitButton.off("click"),e.jqCancelButton.off("click"),e.jqPassword.off("keyup"),e.jqCommitButton.off("keyup"),o(".infoDialogOpen").removeClass("infoDialogOpen"),o(".infoDialogOpenBtn").removeClass("infoDialogOpenBtn")},this.removeSheetDialog=function(){e.jqSheetModal.hide()},this.passwdDialog=function(t,n,o){e.jqPassword.css("border","1px solid #e6e6e6"),null!==t?(e.jqPassword.css("border","1px solid #ff0000"),e.jqMessage.html(""+i.LocaleMessage.getMessage(t)),e.jqMessage.show()):e.jqMessage.hide(),e.jqDialog.show(),e.jqModal.show(),e.jqPassword.trigger("focus"),e.jqPassword.on("keyup",(function(t){"Enter"===t.key?(e.remove(),n()):"Escape"===t.key&&o()})),e.jqCancelButton.on("click",(function(){o()})),e.jqCommitButton.on("click",(function(){e.remove(),n()}))},this.openFailDialog=function(){e.jqContent.html(""+i.LocaleMessage.getMessage("msg_exception_open_failed")),e.jqPassword.hide(),e.jqMessage.hide(),e.jqCancelButton.hide(),e.jqCommitButton.text(i.LocaleMessage.getMessage("msg_refresh")),e.jqCommitButton.attr("title",i.LocaleMessage.getMessage("msg_refresh")),e.jqDialog.show(),e.jqModal.show(),e.jqCommitButton.on("click",(function(){e.remove(),location.reload()}))},this.deleteMarkerDialog=function(t,n,o){void 0===o&&(o=function(){}),e.jqDialog.show(),e.jqPassword.hide(),e.jqMessage.hide(),e.jqModal.show(),e.jqCommitButton.show(),e.jqCancelButton.show(),e.jqContent.html(""+i.LocaleMessage.getMessage(t)),e.jqCancelButton.on("click",(function(){e.remove(),o()})),e.jqCommitButton.on("click",(function(){e.remove(),n()})),e.jqCommitButton.attr("tabindex",0),e.jqCommitButton.trigger("focus"),e.jqCommitButton.on("keyup",(function(t){"Enter"===t.key?(e.jqCommitButton.attr("tabindex",""),e.remove(),n()):"Escape"===t.key&&(e.jqCommitButton.attr("tabindex",""),e.remove(),o())}))},this.infoDialog=function(t,n){if(t&&(e.jqCompanyKey.text(""+i.LocaleMessage.getMessage("info_company_name")),e.jqCompanyValue.text(""+t),e.jqCompanyValue.attr("title",""+t),e.jqCompany.show()),e.jqContent.html(""),e.jqVersionKey.text(""+i.LocaleMessage.getMessage("info_product_name_version_key")),e.jqVersionValue.text(""+i.LocaleMessage.getMessage("info_product_name_version_value")),e.jqVersion.show(),e.jqCopyright.html(""+i.LocaleMessage.getMessage("into_product_copyright")),e.jqContent.css("text-align","left"),e.jqCopyright.css("text-align","left"),e.jqDialog.css("width","auto"),o(".dialog-contents").addClass("infoDialogOpen"),o(".dialog-buttons").addClass("infoDialogOpenBtn"),e.jqLogo.show(),e.jqPassword.hide(),e.jqMessage.hide(),e.jqCommitButton.show(),e.jqCancelButton.hide(),e.jqDialog.show(),e.jqModal.show(),e.jqCopyright.show(),e.jqCompany.css("width",document.getElementById("dialog-contents__content").clientWidth),t){var r=Math.max(e.jqVersionKey.innerWidth(),e.jqCompanyKey.innerWidth());e.jqCompanyKey.css("width",r),e.jqVersionKey.css("width",r)}var a=document.getElementById("dialog").clientWidth/2;e.jqDialog.css("margin-left","-"+a+"px"),e.jqCommitButton.on("click",(function(){n(),e.remove(),e.jqCompanyKey.css("width",""),e.jqVersionKey.css("width",""),e.jqCompany.hide(),e.jqVersion.hide(),e.jqLogo.hide(),e.jqCopyright.hide(),e.jqContent.css("text-align",""),e.jqCopyright.css("text-align",""),e.jqDialog.css("width",""),e.jqCompany.css("width","")}))},this.alertDialog=function(t){e.jqContent.html(i.LocaleMessage.getMessage(t)),e.jqPassword.hide(),e.jqMessage.hide(),o(".dialog-buttons").hide(),e.jqDialog.show(),e.jqModal.show()},this.sheetAlertDialog=function(t){e.jqSheetContent.html(i.LocaleMessage.getMessage(t)),e.jqSheetModal.show()},this.confirmDialog=function(t,n){void 0===n&&(n=function(){}),e.jqContent.html(i.LocaleMessage.getMessage(t)),e.jqPassword.hide(),e.jqMessage.hide(),e.jqDialog.show(),e.jqCancelButton.hide(),e.jqModal.show(),e.jqCommitButton.on("click",(function(){e.remove(),n()})),e.jqCommitButton.attr("tabindex",0),e.jqCommitButton.trigger("focus"),e.jqCommitButton.on("keyup",(function(t){"Enter"===t.key&&(e.jqCommitButton.attr("tabindex",""),e.remove(),n())}))},this.defaultDialog=function(){e.jqLogo.hide(),e.jqContent.html(i.LocaleMessage.getMessage("msg_exception_doc")),e.jqMessage.html(i.LocaleMessage.getMessage("msg_input_retry")),e.jqCancelButton.text(i.LocaleMessage.getMessage("msg_cancel")),e.jqCommitButton.text(i.LocaleMessage.getMessage("msg_submit"))},this.jqModal=o(".modal"),this.jqDialog=o(".dialog"),this.jqCommitButton=o("#commit-btn"),this.jqCancelButton=o("#cancel-btn"),this.jqPassword=o(".dialog-contents__password",this.jqModal),this.jqMessage=o(".dialog-contents__msg",this.jqModal),this.jqCompany=o(".dialog-contents__company",this.jqModal),this.jqCompanyKey=o(".dialog-contents__company-key",this.jqModal),this.jqCompanyValue=o(".dialog-contents__company-value",this.jqModal),this.jqVersion=o(".dialog-contents__version",this.jqModal),this.jqVersionKey=o(".dialog-contents__version-key",this.jqModal),this.jqVersionValue=o(".dialog-contents__version-value",this.jqModal),this.jqContent=o(".dialog-contents__content",this.jqModal),this.jqCopyright=o(".dialog-contents__copyright",this.jqModal),this.jqLogo=o(".dialog-logo"),this.jqSheetContent=o(".sheetdialog-contents"),this.jqSheetModal=o(".sheetmodal")};t.Dialog=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=function(){function e(){}return e.getMessage=function(t){return e.messages[t]},e.defaultLanguage="en",e.currentLanguage=null,e.messages=null,e.setLocale=function(t){return i(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return n={ZH_CN:"zh",ZH_TW:"zh",ZH:"zh",JA_JP:"ja",JA:"ja",EN_US:"en",EN:"en",KO:"ko",KO_KR:"ko"},e.currentLanguage=n[t.toUpperCase()]||e.defaultLanguage,i=e,[4,r.Util.getJson("locales/"+e.currentLanguage+".js?"+(new Date).getTime())];case 1:return i.messages=o.sent(),[2,e.currentLanguage]}}))}))},e.setLocaleMessage=function(){document.getElementById("mobile-download-btn").innerText=e.getMessage("msg_download"),document.getElementById("mobile-bgcolor-btn").innerText=e.getMessage("msg_light_backgroundcolor"),document.getElementById("mobile-sns-btn").innerText=e.getMessage("sns_title"),document.getElementById("mobile-info-btn").innerText=e.getMessage("info_menu"),document.getElementById("mobile-print-btn").innerText=e.getMessage("print_menu"),document.getElementById("total-page").setAttribute("data-content",""+e.getMessage("page_total")),document.getElementById("mobile-download-btn").title=e.getMessage("icon_download"),document.getElementById("mobile-bgcolor-btn").title=e.getMessage("icon_backgroundcolor"),document.getElementById("mobile-info-btn").title=e.getMessage("info_menu"),document.getElementById("mobile-print-btn").title=e.getMessage("print_menu"),document.getElementById("sns-btn").title=e.getMessage("sns_title"),document.getElementById("sns-btn__img").alt=e.getMessage("sns_title"),document.getElementById("info-btn").title=e.getMessage("info_menu"),document.getElementById("info-btn__img").alt=e.getMessage("info_menu"),document.getElementById("select-arrow").title=e.getMessage("icon_move_page_open"),document.getElementById("select-arrow-img").alt=e.getMessage("icon_move_page_open"),document.getElementById("header-tablist").title=e.getMessage("icon_move_sheet_open"),document.getElementById("header-tablist__input").alt=e.getMessage("icon_move_sheet_open"),document.getElementById("tabmore").title=e.getMessage("icon_move_sheet_open"),document.getElementById("tabmore__img").alt=e.getMessage("icon_move_sheet_open"),document.getElementById("sheet-prev").title=e.getMessage("icon_prev_sheet"),document.getElementById("sheet-prev__img").alt=e.getMessage("icon_prev_sheet"),document.getElementById("sheet-next").title=e.getMessage("icon_next_sheet"),document.getElementById("sheet-next__img").alt=e.getMessage("icon_next_sheet"),document.getElementById("thumbnailview-btn").title=e.getMessage("icon_thumbnail_open"),document.getElementById("thumbnail-btn").title=e.getMessage("icon_thumbnail_open"),document.getElementById("mobile-thumbnailbar").title=e.getMessage("icon_thumbnail_close"),document.getElementById("web-thumbnailbar").title=e.getMessage("icon_thumbnail_drag"),document.getElementById("download-btn").title=e.getMessage("icon_download"),document.getElementById("download-btn__img").alt=e.getMessage("icon_download"),document.getElementById("backgroundcolor-btn").title=e.getMessage("icon_backgroundcolor"),document.getElementById("backgroundcolor-btn__img").alt=e.getMessage("icon_backgroundcolor"),document.getElementById("print-btn").title=e.getMessage("print_menu"),document.getElementById("print-btn__img").alt=e.getMessage("print_menu"),document.getElementById("presentation-btn").title=e.getMessage("icon_fullscreen_open"),document.getElementById("desktop-fullscreen-btn__img").alt=e.getMessage("icon_fullscreen_open"),document.getElementById("fullscreen").title=e.getMessage("icon_fullscreen_open"),document.getElementById("mobile-fullscreen-btn__img").alt=e.getMessage("icon_fullscreen_open"),document.getElementById("more").title=e.getMessage("icon_more"),document.getElementById("more-btn").title=e.getMessage("icon_more"),document.getElementById("search-btn").title=e.getMessage("icon_search"),document.getElementById("search-btn__img").alt=e.getMessage("icon_search"),document.getElementById("marker-btn").title=e.getMessage("icon_marker"),document.getElementById("marker-btn__img").alt=e.getMessage("icon_marker"),document.getElementById("save-annotation-btn").title=e.getMessage("icon_save_annotation"),document.getElementById("save-annotation-btn__img").alt=e.getMessage("icon_save_annotation"),document.getElementById("page-prev").title=e.getMessage("icon_prev_page"),document.getElementById("page-next").title=e.getMessage("icon_next_page"),document.getElementById("page-zoomout").title=e.getMessage("icon_zoomout"),document.getElementById("page-zoomin").title=e.getMessage("icon_zoomin"),document.getElementById("page-originsize").title=e.getMessage("icon_originsize"),document.getElementById("page-pagewidthfit").title=e.getMessage("icon_pagewidthfit"),document.getElementById("page-pagefit").title=e.getMessage("icon_pagefit"),document.getElementById("page-rotate").title=e.getMessage("icon_rotate_clockwise"),document.getElementById("cell-first").title=e.getMessage("icon_first_sheet"),document.getElementById("cell-prev").title=e.getMessage("icon_prev_sheet"),document.getElementById("cell-next").title=e.getMessage("icon_next_sheet"),document.getElementById("cell-end").title=e.getMessage("icon_end_sheet"),document.getElementById("cell-zoomout").title=e.getMessage("icon_zoomout"),document.getElementById("cell-zoomin").title=e.getMessage("icon_zoomin"),document.getElementById("fullscreen-close").title=e.getMessage("icon_fullscreen_close"),document.getElementById("fullscreen-close__img").alt=e.getMessage("icon_fullscreen_close"),document.getElementById("fullscreen-prev").title=e.getMessage("icon_prev"),document.getElementById("fullscreen-next").title=e.getMessage("icon_next"),document.getElementById("dialog").title=e.getMessage("dialog"),document.getElementById("dialog-logo").alt=e.getMessage("dialog_logo"),document.getElementById("dialog-passwd").title=e.getMessage("dialog-passwd"),document.getElementById("cancel-btn").title=e.getMessage("msg_cancel"),document.getElementById("commit-btn").title=e.getMessage("msg_submit"),document.getElementById("search__label").textContent=e.getMessage("input-searchword"),document.getElementById("marker-color-btn").title=e.getMessage("icon_marker_color"),document.getElementById("marker-color-btn__img").alt=e.getMessage("icon_marker_color"),document.getElementById("marker-thickness-btn").title=e.getMessage("icon_marker_thickness"),document.getElementById("marker-thickness-btn__img").alt=e.getMessage("icon_marker_thickness"),document.getElementById("marker-delete-btn").title=e.getMessage("icon_delete_marker"),document.getElementById("marker-delete-btn__img").alt=e.getMessage("icon_delete_marker"),document.getElementById("annotation-popup__highlight").title=e.getMessage("icon_text_highlight"),document.getElementsByClassName("annotation-popup__img--highlight")[0].alt=e.getMessage("icon_text_highlight"),document.getElementById("annotation-popup__memo").title=e.getMessage("icon_memo"),document.getElementsByClassName("annotation-popup__img--memo")[0].alt=e.getMessage("icon_memo"),document.getElementById("annotation-memo__author-label").innerText=e.getMessage("input_author")+" : ",document.getElementById("annotation-memo__delete-btn").title=e.getMessage("icon_delete_memo"),document.getElementById("annotation-memo__delete-btn").alt=e.getMessage("icon_delete_memo"),document.getElementById("annotation-th-memo__delete-btn").title=e.getMessage("icon_delete_memo"),document.getElementById("annotation-th-memo__delete-btn").alt=e.getMessage("icon_delete_memo"),document.getElementById("annotation-th-memo__author-label").innerText=e.getMessage("input_author")+" : ",document.getElementById("annotation-color-picker__color--yellow").title=e.getMessage("hightlight_color_yellow"),document.getElementById("annotation-color-picker__color--yellow").alt=e.getMessage("hightlight_color_yellow"),document.getElementById("annotation-color-picker__color--green").title=e.getMessage("hightlight_color_green"),document.getElementById("annotation-color-picker__color--green").alt=e.getMessage("hightlight_color_green"),document.getElementById("annotation-color-picker__color--blue").title=e.getMessage("hightlight_color_blue"),document.getElementById("annotation-color-picker__color--blue").alt=e.getMessage("hightlight_color_blue"),document.getElementById("annotation-color-picker__color--pink").title=e.getMessage("hightlight_color_pink"),document.getElementById("annotation-color-picker__color--pink").alt=e.getMessage("hightlight_hightlight_color_pinkcolor_pink"),document.getElementById("annotation-color-picker__color--transparent").title=e.getMessage("hightlight_color_none"),document.getElementById("annotation-color-picker__color--transparent").alt=e.getMessage("hightlight_color_none")},e}();t.LocaleMessage=a}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(2),r=function(){function e(){}return e.getRatio=function(){return this._zoom||(this._zoom=this.detectFunction()),Math.round(100*this._zoom())},e.detectFunction=function(){return window.devicePixelRatio?function(){if(o.Browser.instance.isIE||o.Browser.instance.isFirefox||o.Browser.instance.isEdge)return window.devicePixelRatio;var e=Math.abs(window.top.outerWidth-window.top.innerWidth),t=window.top.innerWidth,n=e>=1&&e<=20||e==t?t:window.top.outerWidth;return Math.round((i.Util.isFullScreen()?screen.width:n)/t*100)/100}:isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?function(){return Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100}:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?function(){return Math.round(window.top.outerWidth/window.top.innerWidth*100)/100}:"orientation"in window&&"webkitRequestAnimationFrame"in window?function(){var e="string"==typeof window.orientation?Number.parseInt(window.orientation):window.orientation;return(90===Math.abs(e)?screen.height:screen.width)/window.innerWidth}:"webkitRequestAnimationFrame"in window?function(){var e=function(e){return e.replace(/;/g," !important;")},t=document.createElement("div");t.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",t.setAttribute("style",e("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var n=document.createElement("div");n.setAttribute("style",e("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),n.appendChild(t),document.body.appendChild(n);var i=1e3/t.clientHeight;return i=Math.round(100*i)/100,document.body.removeChild(n),i}:navigator.userAgent.indexOf("Opera")>=0?function(){return Math.round(window.top.outerWidth/window.top.innerWidth*100)/100}:function(){return 1}:function(){return Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100}},e}();t.DetectZoom=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHOW="show",e.HIDE="hide",e.HIDE3SEC="hide3sec"}(t.ShowActionType||(t.ShowActionType={}))},,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),s=n(27),l=n(28),c=n(3),d=n(1),u=n(148),h=n(149),m=n(34);!function(e){e[e.on=0]="on",e[e.off=1]="off"}(r=t.THUMB_FLAG||(t.THUMB_FLAG={}));var f=function(){function e(){var t=this;this.eventObserver=null,this.docInfo=null,this.transparentImg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",this.THUMB_SIZE=[],this.initThumbNum=21,this.isWindowCSS=window.CSS&&window.CSS.supports&&window.CSS.supports("--page-width",0),this.protectedObj={timer:this.thumbBtnTimer},this.thumbnailMobile=new u.ThumbnailMobile(this.protectedObj),this.thumbnailDesktop=new h.ThumbnailDesktop(this.protectedObj),this.webThumbnailResize=function(){var n=!1;d("#web-thumbnailbar").on(a.Browser.instance.isMobile?"touchstart":"mousedown",(function(e){n=!0,d("#container").css("pointer-events","none")}));var i=0;d(document).on(a.Browser.instance.isMobile?"touchmove":"mousemove",(function(e){if(n){var i=a.Browser.instance.isMobile?e.changedTouches[0].pageX:e.clientX,o=i>0?i:0;o<520&&(t.jqContents.css("left",o),d(".wrap__thumbnail").css({width:o,"overflow-y":"scroll"}),t.jqThumbnailBar.css("left",o),t.eventObserver.resizeContents.notify())}else d("#container").css("pointer-events","auto")})).on(a.Browser.instance.isMobile?"touchend":"mouseup",(function(o){if(d("#container").css("pointer-events","auto"),n){n=!1;var l=a.Browser.instance.isMobile?o.changedTouches[0].pageX:o.clientX,c=l-i;c>0&&l<100||c<0&&l<160||0===i&&0===l?(i=0,e.THUMB_STATUS=r.off,t.thumbnailDesktop.hideThumb(),t.eventObserver.resizeContents.notify()):(t.loadThumbImg(t.getThumbIndex()),i=l>520?520:l,c>0&&l>=100?i=385<i&&i<=520?520:231<i&&i<=385?355:200:c<0&&l<520&&(i=320<=l&&l<480?355:160<=l&&l<320?200:520),t.jqContents.css("left",i),d(".wrap__thumbnail").css({width:i,"overflow-y":"scroll"}),t.jqThumbnailBar.css("left",i),e.THUMB_STATUS=r.on,t.focusPage({pageNum:t.docInfo.currentPage}),t.jqThumbnailButton.addClass("thumbnail-btn__img--on"),document.getElementById("thumbnailview-btn").title=s.LocaleMessage.getMessage("icon_thumbnail_close"),document.getElementById("thumbnail-btn").title=s.LocaleMessage.getMessage("icon_thumbnail_close")),t.eventObserver.resizeWindow.notify()}}))},this.loadThumbImg=function(e){return i(t,void 0,void 0,(function(){var t,n,i,r,a,s,c,d,u;return o(this,(function(o){for(3,t=this.jqThumbnail.height(),n=this.docInfo.status.pageNum,0==(i=document.getElementById("thumb-content"+e).clientHeight)&&(i=this._getThumbHeight(this.THUMB_SIZE[e])),r=Math.ceil(t/i),document.getElementById("thumbnail").clientWidth>200&&(r+=20),a=e-3<0?0:e-3,s=e+r,c=l.DetectZoom?l.DetectZoom.getRatio():100,s!==n&&c<100&&(s+=Math.ceil(n*(c/100))),s=s>n||s===n-1?n:s,d=a;d<s;d++)(u=document.getElementById("thumb"+d)).src!==this.transparentImg&&""!==u.src||(this.onLoadImg(u,d),this.loadThumbDelay(d));return[2]}))}))},this.thumbMovePage=function(e){var n=parseInt(e.currentTarget.getAttribute("data-index"));if(t.docInfo.currentPage!==n){var i=t.docInfo.status.pageNum;isNaN(n)||n<0||n>i||t.eventObserver.page.notify({pageNum:n,isScroll:!1})}},this.toggleEvent=function(){if(!m.default.isMarkerMode&&(t.thumbnailActions.toggleAction(),e.THUMB_STATUS===r.on)){var n=t.docInfo.currentPage;t.focusPage({pageNum:n}),t.setThumbnailAreaHeightForIOS()}},this.focusPage=function(n){if(e.THUMB_STATUS!=r.off){d("#thumb-area"+n.pageNum).removeClass("thumb--nohover"),d(".thumb__div").removeClass("thumb__focus");var i=document.getElementById("thumbnail").clientHeight-d(".wrap__header").height(),o=document.getElementById("thumb-content"+n.pageNum).clientHeight,a=document.getElementById("thumbnail").scrollTop,s=d("#thumb-area"+n.pageNum).parent().position().top-d("#thumb-area0").parent().position().top;(a>s||s+o>=a+i)&&(document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+n.pageNum).offsetTop-i/4),d("#thumb-area"+n.pageNum).addClass("thumb__focus"),t.loadThumbImg(t.docInfo.currentPage)}},this.resizeWindow=function(){c.Util.isFullScreen()||(c.Util.isMobileMode(t.docInfo.status.convertType)&&t.thumbnailActions===t.thumbnailDesktop?(t.thumbnailActions.initThumb(),t.thumbnailActions=t.thumbnailMobile,t.thumbnailActions.changeMode(t.docInfo.currentPage),t.isWindowCSS||t.thumbSizeResize(0,t.docInfo.status.pageNum,t.docInfo.currentPage)):c.Util.isMobileMode(t.docInfo.status.convertType)||t.thumbnailActions!==t.thumbnailMobile||(t.thumbnailActions.initThumb(),t.thumbnailActions=t.thumbnailDesktop,t.thumbnailActions.changeMode(t.docInfo.currentPage),t.isWindowCSS||t.thumbSizeResize(0,t.docInfo.status.pageNum,t.docInfo.currentPage)))},this.fullScreen=function(e){"cell"!==e.skinType&&(e.isFullScreen?(t.jqThumbnail.addClass("wrap__thumbnail--presentation"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--presentation")):(t.jqThumbnail.removeClass("wrap__thumbnail--presentation"),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--presentation")))},this.markerMode=function(e){e?(t.jqThumbnail.addClass("wrap__thumbnail--marker-mode"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--marker-mode")):(t.jqThumbnail.removeClass("wrap__thumbnail--marker-mode"),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--marker-mode"))},this.getThumbIndex=function(){var e=document.getElementById("wrap__index").clientHeight,n=document.getElementById("thumbnail").scrollTop;return n<0&&(!l.DetectZoom||100===l.DetectZoom.getRatio())?t.docInfo.currentPage:Math.floor(t.docInfo.status.pageNum/(e/n))},this.scrollEventBind=function(){var n;d("#thumbnail").on("scroll",(function(i){clearTimeout(n),n=window.setTimeout((function(){if(e.THUMB_STATUS!=r.off){var n=t.getThumbIndex();t.loadThumbImg(n)}}),50)}))},this.thumbSizeResize=function(e,n,i){var o=t.docInfo.currentPage+t.initThumbNum;if(o=o>t.docInfo.status.pageNum?t.docInfo.status.pageNum:o,null!==i)for(var r=i=i-5<0?0:i-5;r<o;r++)t._thumbSizeRepeat(t.THUMB_SIZE[r],r);setTimeout((function(){for(var r=e;r<n;r++)null!=i?(r<i||r>=o)&&t._thumbSizeRepeat(t.THUMB_SIZE[r],r):t._thumbSizeRepeat(t.THUMB_SIZE[r],r)}),100)},this._thumbSizeRepeat=function(e,n){var i=t._getThumbHeight(e);document.getElementById("thumb"+n).style.height=i+"px"},this._getThumbHeight=function(e){return e&&void 0!==e.mobileHeight?!0===c.Util.isMobileMode(t.docInfo.status.convertType)?e.mobileHeight:e.desktopHeight:!0===c.Util.isMobileMode(t.docInfo.status.convertType)?t.THUMB_SIZE[0].mobileHeight:t.THUMB_SIZE[0].desktopHeight},this.setThumbnailAreaHeightForIOS=function(){if(a.Browser.instance.isIOS&&0!==d("#wrap__index").height()&&d("#thumbnail").height()>d("#wrap__index").height()){a.Browser.instance.isiPad?d("#wrap__index").css("height",0===window.orientation?768*screen.height/screen.width-85:768*screen.width/screen.height-85):d("#wrap__index").css("height",0===window.orientation?screen.height-85:screen.width)}},this.jqThumbnail=d("#thumbnail"),this.jqThumbnailButton=d("#thumbnail-btn"),this.jqThumbnailBar=d("#thumbnailbar"),this.jqContents=d("#contents")}return e.THUMB_STATUS=r.off,e}();t.Thumbnail=f}).call(this,n(6))},,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(197),s=n(26),l=n(3),c=n(2),d=n(29),u=n(40),h=n(68),m=n(51),f=n(24),p=function(){function e(){var t=this;this.tempPath=[],this.drawing=!1,this.MARKER_EVENT_BIND_RANGE=2,this.VIEWBOX_RANGE=5,this.MARKER_SELECT_RANGE=5,this.MARKER_INIT_LOAD=3,this.selectedMarkerSVGElm=null,this.SELECTION_STROKE_WIDTH={DEFAULT:"5",MOBILE:"30"},this.dialog=new s.Dialog,this.markerAttr={color:"ff0000",thickness:"4px",opacity:"ff"},this.cursorIcon="cursor-type2-icon",this.thicknessSelectedIcon="thickness-type2-btn__img",this.markerPath="",this.renewPathValue="",this.MARKER_TIMEOUT=1e3,this.prevMarkerSection=null,this.getPageIdxFromElmId=function(e,t){return parseInt(e.substring(t.length))},this.createMarkerLayerDiv=function(e){for(var n=0;n<t.docInfo.status.pageNum;n++){var i=document.createElement("div");i.id="markerlayer"+n,i.className="markerlayer";var o=document.getElementById("page"+n),a=o.offsetWidth,s=o.offsetHeight;i.style.cssText="width:"+a+"px;height:"+s+"px;";var l=document.createElement("section");l.className="marker-section",l.id="marker-section"+n,l.style.cssText="width:"+a+"px;height:"+s+"px;",i.appendChild(l);var c=document.createDocumentFragment();if(c.appendChild(i),r("#page-area"+n).append(c),n<t.MARKER_INIT_LOAD){var d=e[n+1];if(d){var u=d.marker;u&&t.appendMarker(n,u)}}}},this.appendMarker=function(e,n){for(var i in n)if(n[i].path){var o=document.getElementById("annotationlayer"+e),r=o.getElementsByClassName("marker-scale")[0];void 0===r&&(r=t.appendMarkerScaleElm(o));var a={top:"",left:"",width:"",height:"",color:"",path:"",wpath:""};a.left=n[i].left,a.top=n[i].top,a.width=n[i].width,a.height=n[i].height,a.color=n[i].color,a.path=n[i].path,a.wpath=n[i].wpath,t.createMarker(r,a)}},this.createMarker=function(e,n){var i=a.select(e).append("svg").attr("class","marker-svg").attr("viewBox",n.left+" "+n.top+" "+n.width+" "+n.height).style("left",n.left+"px").style("width",n.width+"px").style("top",n.top+"px").style("height",n.height+"px"),o=u.default.getColorInfoForArgb(n.color);i.append("path").attr("class","marker-svg__path").style("stroke",t.hexToRgb(o.hexColor)).style("stroke-width",""+n.wpath).style("opacity",""+(o.opacity/100).toFixed(2)).attr("d",""+n.path);var r=t.getSelectionStrokeWidth(n.wpath);i.append("path").attr("class","marker-svg__selection-path").style("stroke-width",""+r).style("stroke","transparent").attr("d",n.path)},this.appendMarkerScaleElm=function(e){var n=document.createElement("div");return n.className="marker-scale",e.appendChild(n),t.setMarkerScale(n),n},this.setMarkerScale=function(e){var n=t.getPageIdxFromElmId(e.parentElement.id,"annotationlayer"),i=m.default.instance.getRatio(n);e.style.transform="scale("+i*u.default.DPI_RATIO+")"},this.getSelectionStrokeWidth=function(e){var n=e;return l.Util.isMobileMode(t.docInfo.status.convertType)?n=t.SELECTION_STROKE_WIDTH.MOBILE:parseFloat(e)<=5&&(n=t.SELECTION_STROKE_WIDTH.DEFAULT),n},this.marker=function(e){t.loadMarker(e)},this.loadMarker=function(e){for(var n in e)if(parseInt(n)>=t.MARKER_INIT_LOAD){var i=e[n].marker;i&&t.appendMarker(parseInt(n)-1,i)}},this.fullScreen=function(e){e.isFullScreen?(r(".markerlayer").addClass("markerlayer--presentation"),t.markerDeselect()):r(".markerlayer").removeClass("markerlayer--presentation")},this.getMarkerEventBindRange=function(e){return{startIdx:e-t.MARKER_EVENT_BIND_RANGE<0?0:e-t.MARKER_EVENT_BIND_RANGE,endIdx:e+t.MARKER_EVENT_BIND_RANGE>t.docInfo.status.pageNum-1?t.docInfo.status.pageNum-1:e+t.MARKER_EVENT_BIND_RANGE}},this.disableTouch=function(e){if(c.Browser.instance.isMobile)for(var n=t.getMarkerEventBindRange(e),i=n.startIdx,o=n.endIdx,r=i;r<=o;r++){document.getElementById("marker-section"+r).addEventListener("touchmove",(function(e){e.preventDefault()}),l.Util.nonPassiveEventListenerOption)}},this.enableTouch=function(e){if(c.Browser.instance.isMobile)for(var n=t.getMarkerEventBindRange(e),i=n.startIdx,o=n.endIdx,r=i;r<=o;r++){document.getElementById("marker-section"+r).removeEventListener("touchmove",(function(e){e.preventDefault()}),l.Util.nonPassiveEventListenerOption)}},this.focusPage=function(n){e.isMarkerMode&&(t.pageNumWhenInMarkerMode=n.pageNum,t.markerDrawEventBind(t.pageNumWhenInMarkerMode),t.markerCursorEventBind(t.pageNumWhenInMarkerMode),c.Browser.instance.isIOS12Lower()&&t.disableTouch(t.pageNumWhenInMarkerMode))},this.resizeMarkerScale=function(){if(!u.default.isFullScreen){t.selectedMarkerSVGElm=null,t.markerDeselect();for(var e=0,n=Array.prototype.slice.call(document.getElementsByClassName("marker-scale"));e<n.length;e++){var i=n[e];t.setMarkerScale(i)}for(var o=0,r=Array.prototype.slice.call(document.getElementsByClassName("markerlayer"));o<r.length;o++){var s=r[o],l=s.parentElement.getElementsByClassName("contents-page__img")[0],c=l.offsetWidth,d=l.offsetHeight,h=s.getElementsByClassName("marker-section")[0];s.style.display="none",h.style.display="none",s.style.width=c+"px",s.style.height=d+"px",h.style.width=c+"px",h.style.height=d+"px";var m=h.getElementsByClassName("tmp-marker-svg");0!==m.length&&(m[0].style.display="none",a.select(m[0]).style("width",l.offsetWidth+"px").style("height",l.offsetHeight+"px"),m[0].style.display=""),s.style.display="",h.style.display=""}}},this.markerDeselect=function(){e.isSelected=!1,document.getElementById("selectedArea").style.display=""},this.markerDrawEventBind=function(e){for(var n=t.getMarkerEventBindRange(e),i=n.startIdx,o=n.endIdx,r=i;r<=o;r++){if(0===document.getElementById("marker-section"+r).getElementsByClassName("tmp-marker-svg").length){var a=t.createTempSVG(document.getElementById("marker-section"+r));t.markerEventBind(a)}}},this.markerCursorEventBind=function(e){for(var n=t.getMarkerEventBindRange(e),i=n.startIdx,o=n.endIdx,a=i;a<=o;a++)r("#marker-section"+a).addClass(t.cursorIcon)},this.createTempSVG=function(e){return a.select("#"+e.id).append("svg").style("width",e.offsetWidth).style("height",e.offsetHeight).attr("class","tmp-marker-svg")},this.markerEventBind=function(e){var n=t.markerListen,i=t.markerEnd;c.Browser.instance.isMobile?(e.on("touchstart",(function(){n(e)})),e.on("touchend",(function(){i(e,this)}))):(e.on("mousedown",(function(){n(e)})),e.on("mouseup",(function(){i(e,this)})),e.on("mouseleave",(function(){i(e,this)})))},this.markerListen=function(e){clearTimeout(t.stopHandler);var n=e,i=n._groups[0][0].parentElement.id;if(null!==t.prevMarkerSection){var o=t.prevMarkerSection.getElementsByClassName("tmp-marker-svg")[0],r=o.childElementCount;0!==r&&t.prevMarkerSection.id!==i&&t.isCorrectMarkerPath(o.getElementsByClassName("tmp-marker-path")[r-1])&&t.markerDrawAnnotationlayer()}var s=t.getPageIdxFromElmId(i,"marker-section"),l=t.markerDrawTmp;t.drawing=!0,t.tempPath=[],t.newPath=e.append("path").data([t.tempPath]).style("stroke",t.hexToRgb(t.markerAttr.color)).style("stroke-width",parseFloat(t.markerAttr.thickness)*m.default.instance.getRatio(s)).style("opacity",1).style("fill","none").attr("d",t.line).attr("class","tmp-marker-path");var c=t.markerEnd;"mousedown"===a.event.type?e.on("mousemove",(function(){l(this)})):e.on("touchmove",(function(){var t=parseFloat(n._groups[0][0].style.width),i=parseFloat(n._groups[0][0].style.height),o=a.touches(this)[0];o[0]<0||o[0]>t||o[1]<0||o[1]>i?c(e,this):l(this)}))},this.markerEnd=function(e,n){if(t.drawing){t.drawing=!1,e.on("mousemove",null),e.on("touchmove",null);var i=n.getElementsByClassName("tmp-marker-path")[n.childElementCount-1];t.isCorrectMarkerPath(i)?(t.prevMarkerSection=n.parentElement,t.markerPath+=i.getAttribute("d")+" ",t.stopHandler=window.setTimeout((function(){t.markerDrawAnnotationlayer()}),t.MARKER_TIMEOUT)):i.remove()}},this.line=a.line().curve(a.curveCardinal).x((function(e){return e.x})).y((function(e){return e.y})),this.reducePathRange=3,this.markerDrawTmp=function(e){"mousemove"===a.event.type?(3===t.reducePathRange&&(t.reducePathRange=0,t._drawMarkerInTemp(a.mouse(e))),t.reducePathRange++):t._drawMarkerInTemp(a.touches(e)[0])},this._drawMarkerInTemp=function(e){var n=t.line;t.tempPath.push({x:e[0],y:e[1]}),t.newPath.attr("d",(function(e){return n(e)}))},this.markerDrawAnnotationlayer=function(){if(t.markerPath){var e=t.prevMarkerSection.parentElement.parentElement.getElementsByClassName("marker-scale")[0],n=t.prevMarkerSection.parentElement.parentElement.getElementsByClassName("annotationlayer")[0];e||(e=t.appendMarkerScaleElm(n));var i=t.newPath._groups[0][0],o=t.getPageIdxFromElmId(n.id,"annotationlayer"),r=m.default.instance.getRatio(o)*u.default.DPI_RATIO;t.renewPathValue+=t.renewPath(t.markerPath,r);var a=(parseFloat(i.style.strokeWidth)/r).toFixed(2),s=t.getViewBox(t.renewPathValue),l={top:"",left:"",width:"",height:"",color:"",path:"",wpath:""};l.left=s.left,l.top=s.top,l.width=s.width,l.height=s.height,l.color=""+t.markerAttr.opacity+t.markerAttr.color,l.path=t.renewPathValue,l.wpath=a,t.createMarker(e,l),t.markerPath="",t.renewPathValue="";for(var c=0,d=Array.prototype.slice.call(t.prevMarkerSection.getElementsByClassName("tmp-marker-path"));c<d.length;c++){d[c].remove()}t.prevMarkerSection=null,t.eventObserver.modifyAnnotation.notify(o)}},this.renewPath=function(e,t){var n=e.split("M").join("M ");e.indexOf("C")>-1&&(n=n.split("C").join(" C ")),e.indexOf("L")>-1&&(n=n.split("L").join(" L "));for(var i="",o=0,r=(n=n.split(",").join(" ")).trim().split(" ");o<r.length;o++){var a=r[o],s=parseFloat(parseFloat(a).toFixed(2));isNaN(s)||(a=(s/t).toFixed(2)),i+=a+" "}return i},this.getViewBox=function(e){for(var n=[],i=[],o=!0,r=0,a=e.trim().split(" ");r<a.length;r++){var s=a[r],l=parseFloat(s);isNaN(l)||(o?(o=!1,n.push(l)):(o=!0,i.push(l)))}var c=Math.min.apply(null,n),d=Math.max.apply(null,n),u=Math.min.apply(null,i),h=Math.max.apply(null,i);return{left:(c-t.VIEWBOX_RANGE).toFixed(2),width:(d-c+2*t.VIEWBOX_RANGE).toFixed(2),top:(u-t.VIEWBOX_RANGE).toFixed(2),height:(h-u+2*t.VIEWBOX_RANGE).toFixed(2)}},this.isCorrectMarkerPath=function(e){var t=!0,n=e.getAttribute("d");return(null===n||n.indexOf("Z")>-1)&&(t=!1),t},this.isSelectedArea=function(e){var t=!1;return e===document.getElementById("marker-select-svg__rect")&&(t=!0),t},this.isMarkerClick=function(t){var n=!1;return!e.isMarkerMode&&t.classList.contains("marker-svg__selection-path")&&(n=!0),n},this.isDeleteMarkerClick=function(t){var n=!1;return e.isMarkerMode||(t.classList.contains("marker-delete-div__icon")||t.classList.contains("marker-delete-div__icon-div")||t.classList.contains("marker-delete-div"))&&(n=!0),n},this.isShowSelectedArea=function(){return"block"===document.getElementById("selectedArea").style.display},this.markerDeleteDialog=function(){t.dialog.deleteMarkerDialog("msg_delete_selected_marker",(function(){var e=t.selectedMarkerSVGElm.parentElement.parentElement,n=t.getPageIdxFromElmId(e.id,"annotationlayer");t.eventObserver.modifyAnnotation.notify(n),t.selectedMarkerSVGElm.remove(),t.selectedMarkerSVGElm=null,t.markerDeselect()}))},this.selectionEvent=function(e){var n=e.target;u.default.isFullScreen||(t.isDeleteMarkerClick(n)?t.markerDeleteDialog():(t.isShowSelectedArea()&&(t.isSelectedArea(n)||t.markerDeselect()),t.isMarkerClick(n)&&t.markerSelect(n.parentElement)))},this.markerSelect=function(n){e.isSelected=!0,t.selectedMarkerSVGElm=n;var i=t.getPageIdxFromElmId(n.parentElement.parentElement.id,"annotationlayer"),o=m.default.instance.getRatio(i)*u.default.DPI_RATIO,r=parseInt(n.style.left),a=parseInt(n.style.top),s=parseInt(n.style.width),l=parseInt(n.style.height),c=r-t.MARKER_SELECT_RANGE+document.getElementById("page"+i).offsetLeft/o,d=a-t.MARKER_SELECT_RANGE+document.getElementById("page-area"+i).offsetTop/o,h=s+2*t.MARKER_SELECT_RANGE,f=l+2*t.MARKER_SELECT_RANGE,p=document.getElementsByClassName("marker-select-svg")[0],g=document.getElementsByClassName("marker-select-svg__rect")[0],v=document.getElementsByClassName("marker-delete-div")[0],b=document.getElementById("selectedArea");b.setAttribute("style","left:"+c*o+"px; top:"+d*o+"px;"),p.setAttribute("style","width:"+h*o+"px; height:"+f*o+"px;"),g.setAttribute("style","x:0; y:0; width:"+h*o+"px; height:"+f*o+"px;"),v.setAttribute("style","left:"+(h/2-18)*o+"px; top:"+(f+10)*o+"px;"),b.style.display="block"},this.initMarkerAttributes=function(){l.Util.addClass(document.getElementById("color-type1-btn"),"color-type-btn--selected"),l.Util.addClass(document.getElementById("thickness-type2-btn__img"),"thickness-type2-btn__img__selected")},this.rgbToHex=function(e){for(var t="",n=0,i=e.replace(/[^%,.\d]/g,"").split(",");n<i.length;n++){var o=i[n],r=parseInt(o).toString(16);t+=1===r.length?"0"+r:r}return t},this.getMarkerInfosFromRenderedEl=function(e){var n=[],i=document.getElementById("page-area"+(e-1)).getElementsByClassName("marker-scale");if(i.length)for(var o=0,r=Array.prototype.slice.call(i[0].getElementsByClassName("marker-svg"));o<r.length;o++){var a=r[o],s=t.getMarkerInfoFromRenderedEl(a);n.push(s)}return n},this.getMarkerInfoFromRenderedEl=function(e){var n={top:"",left:"",width:"",height:"",color:"",path:"",wpath:""},i=e.getAttribute("viewBox").split(" ");n.left=i[0],n.top=i[1],n.width=i[2],n.height=i[3];var o=e.getElementsByClassName("marker-svg__path")[0];return n.wpath=o.style.strokeWidth,n.path=o.getAttribute("d"),n.color=u.default.opacityToHex(100*parseFloat(o.style.opacity))+t.rgbToHex(o.style.stroke),n},this.markerColorBtnEventBind=function(){t.bindMarkerColorClickOrTouchEvent(r(".color-submenu__block"),"color-type-btn--hover",(function(e){null!==t.prevMarkerSection&&t.markerDrawAnnotationlayer(),r(".color-type-btn--selected").removeClass("color-type-btn--selected");var n=e.target;switch(n.id.split("-")[1]){case"type1":t.markerAttr.color="ff0000";break;case"type2":t.markerAttr.color="ff8400";break;case"type3":t.markerAttr.color="ffd800";break;case"type4":t.markerAttr.color="f6ff00";break;case"type5":t.markerAttr.color="75ec0c";break;case"type6":t.markerAttr.color="14b95e";break;case"type7":t.markerAttr.color="00d1d3";break;case"type8":t.markerAttr.color="0060f0";break;case"type9":t.markerAttr.color="4f00f0";break;case"type10":t.markerAttr.color="c600f0";break;case"type11":t.markerAttr.color="000000";break;case"type12":t.markerAttr.color="898989";break;case"type13":t.markerAttr.color="ff9f9f";break;case"type14":t.markerAttr.color="ffddb8";break;case"type15":t.markerAttr.color="fff2ac";break;case"type16":t.markerAttr.color="faffa2";break;case"type17":t.markerAttr.color="d5ffb7";break;case"type18":t.markerAttr.color="c8fbc8";break;case"type19":t.markerAttr.color="b3feff";break;case"type20":t.markerAttr.color="c3dbff";break;case"type21":t.markerAttr.color="d4cafd";break;case"type22":t.markerAttr.color="f5c4ff";break;case"type23":t.markerAttr.color="e5e5e5";break;case"type24":t.markerAttr.color="ffffff"}r("#marker-color-btn__img").css("background-color","#"+t.markerAttr.color),l.Util.addClass(n,"color-type-btn--selected")}))},this.markerThicknessBtnEventBind=function(){t.bindMarkerThicknessClickOrTouchEvent(r(".thickness-type-btn"),(function(e){switch(r("."+t.cursorIcon).removeClass(t.cursorIcon),r("."+t.thicknessSelectedIcon+"__selected").removeClass(t.thicknessSelectedIcon+"__selected"),e.target.id.split("-")[1]){case"type1":t.markerAttr.thickness="2px",t.cursorIcon="cursor-type1-icon",t.thicknessSelectedIcon="thickness-type1-btn__img";break;case"type2":t.markerAttr.thickness="4px",t.cursorIcon="cursor-type2-icon",t.thicknessSelectedIcon="thickness-type2-btn__img";break;case"type3":t.markerAttr.thickness="6px",t.cursorIcon="cursor-type3-icon",t.thicknessSelectedIcon="thickness-type3-btn__img";break;case"type4":t.markerAttr.thickness="8px",t.cursorIcon="cursor-type4-icon",t.thicknessSelectedIcon="thickness-type4-btn__img";break;case"type5":t.markerAttr.thickness="10px",t.cursorIcon="cursor-type5-icon",t.thicknessSelectedIcon="thickness-type5-btn__img"}t.markerCursorEventBind(t.pageNumWhenInMarkerMode),r("."+t.thicknessSelectedIcon).addClass(t.thicknessSelectedIcon+"__selected")}))},this.bindMarkerColorClickOrTouchEvent=function(e,t,n){void 0===n&&(n=function(e){}),e.on(c.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){var n=e.target.className.indexOf("submenu__block")>-1?e.target:e.target.parentElement;r(n).addClass(t)})).on(c.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){if("touchend"===e.type||"mouseout"===e.type){var i=e.target.className.indexOf("submenu__block")>-1?e.target:e.target.parentElement;r(i).removeClass(t)}"touchend"!==e.type&&"click"!==e.type||n(e)}))},this.bindMarkerThicknessClickOrTouchEvent=function(e,t){void 0===t&&(t=function(e){}),e.on(c.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){var t=e.target.className.indexOf("submenu__block")>-1?e.target.firstElementChild:e.target;r(t).addClass(t.id+"__hover")})).on(c.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){if("touchend"===e.type||"mouseout"===e.type){var n=e.target.className.indexOf("submenu__block")>-1?e.target.firstElementChild:e.target;r(n).removeClass(n.id+"__hover")}"touchend"!==e.type&&"click"!==e.type||t(e)}))},this.markerSelectEventBind=function(){c.Browser.instance.isMobile?document.getElementById("contents").addEventListener("touchstart",t.selectionEvent,!1):document.getElementById("contents").addEventListener("click",t.selectionEvent,!1)},this.markerBtnEventBind=function(){var n=document.getElementById("marker-btn"),i=document.getElementById("marker-btn__img");n.addEventListener("click",(function(){e.isMarkerMode?(clearTimeout(t.stopHandler),t.markerDrawAnnotationlayer(),r(".tmp-marker-svg").remove(),l.Util.removeClass(i,"marker-btn__img--on"),e.isMarkerMode=!1,r(".markerlayer").css("z-index",""),r("."+t.cursorIcon).removeClass(t.cursorIcon),c.Browser.instance.isIOS12Lower()&&t.enableTouch(t.pageNumWhenInMarkerMode),l.Util.isMobileMode(t.docInfo.status.convertType)&&f.Thumbnail.THUMB_STATUS!==f.THUMB_FLAG.on&&(t.eventObserver.mobileThumb.notify(d.ShowActionType.HIDE3SEC),t.eventObserver.mobileHeader.notify(d.ShowActionType.HIDE3SEC))):(l.Util.addClass(i,"marker-btn__img--on"),e.isMarkerMode=!0,r(".markerlayer").css("z-index",17),t.markerDeselect(),t.pageNumWhenInMarkerMode=t.docInfo.currentPage,t.markerDrawEventBind(t.pageNumWhenInMarkerMode),t.markerCursorEventBind(t.pageNumWhenInMarkerMode),c.Browser.instance.isIOS12Lower()&&t.disableTouch(t.pageNumWhenInMarkerMode),t.eventObserver.mobileHeader.notify(d.ShowActionType.SHOW)),t.eventObserver.markerMode.notify(e.isMarkerMode)}))},this.markerDeleteKeyEventBind=function(){r(window).on("keydown",(function(e){t.isShowSelectedArea()&&e.keyCode===h.keyMap.DELETE&&t.markerDeleteDialog()}))},this.eventBind=function(e){t.markerBtnEventBind(),t.markerSelectEventBind(),t.markerColorBtnEventBind(),t.markerThicknessBtnEventBind(),t.markerDeleteKeyEventBind(),t.eventObserver=e,t.eventObserver.loadAnnotation.subscribe(t.marker),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.resizePage.subscribe(t.resizeMarkerScale),t.eventObserver.page.subscribe(t.focusPage)},this.load=function(e,n,r){return i(t,void 0,void 0,(function(){var t,i,a,s;return o(this,(function(o){for(this.docInfo=e,this.createMarkerLayerDiv(r),this.loadMarker(r),t=Array.prototype.slice.call(document.getElementsByClassName("marker-scale")),i=0,a=t;i<a.length;i++)s=a[i],this.setMarkerScale(s);return this.initMarkerAttributes(),this.eventBind(n),[2]}))}))}}return e.prototype.hexToRgb=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16):"#"+e},e.isMarkerMode=!1,e.isSelected=!1,e}();t.default=p}).call(this,n(6))},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(69),s=n(101),l=n(29),c=n(3),d=n(27),u=n(1),h=n(14),m=n(24),f=n(26),p=n(2),g=n(150),v=n(34);!function(e){e[e.lightScreen=0]="lightScreen",e[e.darkScreen=1]="darkScreen"}(r=t.BGCOLOR_MODE||(t.BGCOLOR_MODE={}));var b=function(){function e(){var t=this;this.docInfo=null,this.eventObserver=null,this.dialog=new f.Dialog,this.sns=new g.Sns,this.viewMode=h.VIEW_MODE.desktop,this.fileExtMap={xls:"cell-icon",xlsx:"cell-icon",csv:"cell-icon",nxls:"cell-icon",ppt:"slide-icon",pptx:"slide-icon",nppt:"slide-icon",doc:"word-icon",docx:"word-icon",ndoc:"word-icon",hwp2k:"hwp-icon",hwp97:"hwp-icon",txt:"txt-icon",text:"txt-icon",hwpml:"hwp-icon",jpeg:"img-icon",jpg:"img-icon",png:"img-icon",tiff:"img-icon",gif:"img-icon",bmp:"img-icon",pdf:"pdf-icon",odt:"odt-icon",default:"nosupport-icon"},this.load=function(e,n){return i(t,void 0,void 0,(function(){var t=this;return o(this,(function(i){switch(i.label){case 0:return this.docInfo=e,this.pageWidth=20+(String(this.docInfo.status.pageNum).length>2?5.5*(String(this.docInfo.status.pageNum).length-2):0)+"px",[4,this.initEvent()];case 1:return i.sent(),this.jqPageInput=u("#page__input"),this.jqPageInput.val(1),this.jqPageInput.on("change",this.movePage),this.jqPageInput.on("keyup",(function(e){"Enter"===e.key&&t.movePage(e)})),this.setTotalPageWidth(),this.eventBind(n),c.Util.isMobileMode(this.docInfo.status.convertType)&&(this.viewMode=h.VIEW_MODE.mobile),this.setTitle(),[2]}}))}))},this.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.bgColor.subscribe(t.bgColor),t.eventObserver.orientationchange.subscribe(t.orientationchange),t.eventObserver.markerMode.subscribe(t.markerMode),t.subscribeMobileHeader(),t.mouseoverEventBind(),(window.localSynap.config.search||window.localSynap.config.useAnnotation)&&(c.Util.bindClickOrTouchEvent(u("#search-prev"),"search-move--hover",t.searchTextNotify),c.Util.bindClickOrTouchEvent(u("#search-next"),"search-move--hover",t.searchTextNotify))},this.searchTextNotify=function(e){var n="search-next"===e.target.parentElement.id||"search-next"===e.target.id?s.SEARCH_TYPE.NEXT:s.SEARCH_TYPE.PREV;t.eventObserver.searchNext.notify(n)},this.setTotalPageWidth=function(){c.Util.isMobileMode(t.docInfo.status.convertType)?String(t.docInfo.status.pageNum).length>5?(t.jqPageInput.css("width","60px"),u("#select-arrow").css("left","53px"),u("#page-scroll-blind").css("width","73px")):t.jqPageInput.css("width",""):t.jqPageInput.css("width",t.pageWidth)},this.subscribeMobileHeader=function(){void 0!==window.localSynap&&!1===window.localSynap.config.isShowHeader?(u(".wrap__header").addClass("wrap__header--hide"),u("#container").addClass("wrap__container--option-on"),u("#thumbnail").addClass("wrap__thumbnail--option-on")):(t.eventObserver.mobileHeader.subscribe(t.mobileHeader),("cell"===t.docInfo.skinType||c.Util.isHtmlSkin(t.docInfo))&&c.Util.isMobileMode(t.docInfo.status.convertType)&&t.eventObserver.mobileHeader.notify(l.ShowActionType.HIDE3SEC))},this.initEvent=function(){return i(t,void 0,void 0,(function(){return o(this,(function(e){return c.Util.isHtmlSkin(this.docInfo)?"cell"===this.docInfo.skinType?(u("#backgroundcolor-btn").hide(),u("#mobile-bgcolor-btn").hide()):"slide"===this.docInfo.skinType&&(c.Util.useSingle(this.docInfo)||u("div").removeClass("cell"),p.Browser.instance.isMobile&&(u("#thumbnail").addClass("cell"),u("#thumbnailbar").addClass("cell")),this.mobilePageAreaLoad(this.docInfo.status.pageNum)):"cell"!==this.docInfo.skinType&&(u("div").removeClass("cell"),this.mobilePageAreaLoad(this.docInfo.status.pageNum),"image"!==this.docInfo.skinType&&(window.localSynap.config.search||window.localSynap.config.useAnnotation)&&this.searchTextLoad()),this.bindPrintBtn(),this.bindSnsBtn(),this.bindInfoBtn(),this.bindMoreBtn(),this.docInfo.downloadUrl&&this.downloadBtnLoad(this.docInfo.downloadUrl),p.Browser.instance.isMobile&&(this.initViewportContent(),this.adjustMobileDeviceViewport(),p.Browser.instance.isIOS&&this.bindWindowCloseBtnLoad()),u(".wrap__menu").removeClass("hide"),this.bindBgcolorBtn(),this.hasSubMenu()||u("#more").hide(),c.Util.isUseAnnotation(this.docInfo)&&"cell"!==this.docInfo.skinType&&(this.saveAnnotationLoad(),this.markerLoad(),this.bindMarkerDeleteBtn(),this.bindMarkerColorBtn(),this.bindMarkerThicknessBtn(),u("#more-arrow").css("left","89px"),u("#more-arrow__bolder").css("left","88px"),u("#more-content").css("left","0")),[2]}))}))},this.bindMarkerDeleteBtn=function(){var e=u("#marker-delete-btn"),n=document.getElementById("marker-delete-btn__img");e.on("click",(function(){c.Util.addClass(n,"marker-delete-btn__img--on"),t.dialog.deleteMarkerDialog("msg_delete_marker",(function(){c.Util.removeClass(n,"marker-delete-btn__img--on")}),(function(){c.Util.removeClass(n,"marker-delete-btn__img--on")}))}))},this.bindMarkerThicknessBtn=function(){var e=u("#thickness-submenu"),t=u("#marker-thickness-btn__img");u("#marker-thickness-btn").on(c.Util.getClickEventName(),(function(){if(e.is(":visible"))return e.hide(),void t.removeClass("marker-thickness-btn__img--on");e.show(),t.addClass("marker-thickness-btn__img--on")})),u(document).on(c.Util.getClickEventName(),(function(n){n.target.id.indexOf("marker-thickness-btn")>-1||(e.hide(),t.removeClass("marker-thickness-btn__img--on"))}))},this.bindMarkerColorBtn=function(){var e=u("#color-submenu");u("#marker-color-btn").on(c.Util.getClickEventName(),(function(){e.is(":visible")?e.hide():e.show()})),u(document).on(c.Util.getClickEventName(),(function(t){t.target.id.indexOf("marker-color-btn")>-1||e.hide()}))},this.saveAnnotationLoad=function(){var e=document.getElementById("save-annotation-btn"),n=document.getElementById("save-annotation-btn__img");c.Util.removeClass(e,"hide"),n.addEventListener("click",(function(){v.default.isMarkerMode||t.eventObserver.saveAnnotation.notify()}));var i=document.getElementById("mobile-save-annotation-btn");c.Util.removeClass(i,"hide"),i.innerText=d.LocaleMessage.getMessage("msg_save_annotation"),c.Util.bindClickOrTouchEvent(u("#mobile-save-annotation-btn"),"scroll-blind__more-item--hover",(function(e){c.Util.removeClass(document.getElementById("more-btn__img"),"more-btn__img--on"),u("#more-submenu").toggle(),t.eventObserver.saveAnnotation.notify()}))},this.markerLoad=function(){var e=document.getElementById("marker-btn");c.Util.removeClass(e,"hide"),c.Util.removeClass(document.getElementById("header-border"),"hide")},this.markerMode=function(e){var n=document.getElementById("contents"),i=u("#marker-header");e?(t.markerModeOn(),c.Util.addClass(n,"wrap__contents--marker-mode"),p.Browser.instance.isMobile&&t.jqPageInput.attr("disabled",!0),i.show()):(t.markerModeOff(),c.Util.removeClass(n,"wrap__contents--marker-mode"),p.Browser.instance.isMobile&&t.jqPageInput.removeAttr("disabled"),i.hide())},this.markerModeOn=function(){var e=u("#search");e.is(":visible")&&(e.hide(),t.eventObserver.searchDisplay.notify(a.SEARCH_DISPLAY.HIDE));var n="menu__block--deactivate";c.Util.addClass(document.getElementById("save-annotation-btn"),n),c.Util.addClass(document.getElementById("sns-btn"),n),c.Util.addClass(document.getElementById("info-btn"),n),c.Util.addClass(document.getElementById("thumbnailview-btn"),n),c.Util.addClass(document.getElementById("download-btn"),n),c.Util.addClass(document.getElementById("search-btn"),n),c.Util.addClass(document.getElementById("backgroundcolor-btn"),n),c.Util.addClass(document.getElementById("presentation-btn"),n),c.Util.addClass(document.getElementById("fullscreen"),n),c.Util.addClass(document.getElementById("more-btn"),n),u("#save-annotation-btn").prop("disabled",!0),u("#sns-btn").prop("disabled",!0),u("#info-btn").prop("disabled",!0),u("#thumbnailview-btn").prop("disabled",!0),u("#download-btn").prop("disabled",!0),u("#search-btn").prop("disabled",!0),u("#search-btn").prop("disabled",!0),u("#backgroundcolor-btn").prop("disabled",!0),u("#presentation-btn").prop("disabled",!0),u("#fullscreen").prop("disabled",!0),u("#more-btn").prop("disabled",!0),u("#download-btn").click((function(e){e.preventDefault()}))},this.markerModeOff=function(){var e="menu__block--deactivate";c.Util.removeClass(document.getElementById("save-annotation-btn"),e),c.Util.removeClass(document.getElementById("sns-btn"),e),c.Util.removeClass(document.getElementById("info-btn"),e),c.Util.removeClass(document.getElementById("thumbnailview-btn"),e),c.Util.removeClass(document.getElementById("download-btn"),e),c.Util.removeClass(document.getElementById("search-btn"),e),c.Util.removeClass(document.getElementById("backgroundcolor-btn"),e),c.Util.removeClass(document.getElementById("presentation-btn"),e),c.Util.removeClass(document.getElementById("fullscreen"),e),c.Util.removeClass(document.getElementById("more-btn"),e),u("#save-annotation-btn").prop("disabled",!1),u("#sns-btn").prop("disabled",!1),u("#info-btn").prop("disabled",!1),u("#thumbnailview-btn").prop("disabled",!1),u("#download-btn").prop("disabled",!1),u("#search-btn").prop("disabled",!1),u("#search-btn").prop("disabled",!1),u("#backgroundcolor-btn").prop("disabled",!1),u("#presentation-btn").prop("disabled",!1),u("#fullscreen").prop("disabled",!1),u("#more-btn").prop("disabled",!1),u("#download-btn").unbind("click"),m.Thumbnail.THUMB_STATUS===m.THUMB_FLAG.on&&c.Util.addClass(document.getElementById("thumbnail-btn"),"thumbnail-btn__img--on"),u("#search-btn__img").hasClass("search-btn__img--on")&&(u("#search").show(),t.eventObserver.searchDisplay.notify(a.SEARCH_DISPLAY.SHOW))},this.searchTextLoad=function(){u("#search-btn").removeClass("hide");var e=u("#search");u("#search-btn").on("click",(function(){if(!v.default.isMarkerMode){if(u("#search").is(":visible"))return e.hide(),u("#search-btn__img").removeClass("search-btn__img--on"),void t.eventObserver.searchDisplay.notify(a.SEARCH_DISPLAY.HIDE);e.show(),t.eventObserver.searchDisplay.notify(a.SEARCH_DISPLAY.SHOW),u("#search-btn__img").addClass("search-btn__img--on")}}))},this.hasSubMenu=function(){var e=!1;return u(".scroll-blind__more-item").each((function(t,n){"none"!==u(n).css("display")&&(e=!0)})),e},this.bindPrintBtn=function(){!0!==window.localSynap.config.isShowPrint||"image"!==t.docInfo.skinType||p.Browser.instance.isMobile||(u("#mobile-print-btn").removeClass("hide"),u("#print-btn").removeClass("hide"),u("#print-btn").on("click",(function(){t.eventObserver.printbefore.notify(),window.print()})),u("#mobile-print-btn").on("click",(function(){t.eventObserver.printbefore.notify(),window.print()})),c.Util.bindClickOrTouchEvent(u("#mobile-print-btn"),"scroll-blind__more-item--hover",(function(e){u("#more-submenu").toggle()})),u(window).on("afterprint",(function(){t.eventObserver.printafter.notify()})))},this.bindSnsBtn=function(){var e=window.localSynap.config;if(!0===e.isShowSns){if(void 0!==e.kakaoAPIKey){t.addScript("https://developers.kakao.com/sdk/js/kakao.min.js")}u("#mobile-sns-btn").removeClass("hide"),u("#sns-btn").removeClass("hide"),u("#sns-btn").on("click",(function(){v.default.isMarkerMode||t.sns.snsDesktopDialog(t.dialog)})),u("#mobile-sns-btn").on("click",(function(){v.default.isMarkerMode||t.sns.snsMobileDialog(t.dialog)})),c.Util.bindClickOrTouchEvent(u("#mobile-sns-btn"),"scroll-blind__more-item--hover",(function(e){u("#more-submenu").toggle()}))}},this.bindInfoBtn=function(){var e=window.localSynap.config;!1!==e.isShowInfo&&(u("#mobile-info-btn").removeClass("hide"),u("#info-btn").removeClass("hide"),u("#info-btn").on("click",(function(){v.default.isMarkerMode||(u("#info-btn__img").addClass("info-btn__img--on"),t.dialog.infoDialog(e.companyName?e.companyName:null,(function(){u("#info-btn__img").removeClass("info-btn__img--on")})))})),c.Util.bindClickOrTouchEvent(u("#mobile-info-btn"),"scroll-blind__more-item--hover",(function(n){u("#info-btn__img").addClass("info-btn__img--on"),u("#more-submenu").toggle(),t.dialog.infoDialog(e.companyName?e.companyName:null,(function(){u("#info-btn__img").removeClass("info-btn__img--on")}))})))},this.bindMoreBtn=function(){var e=u("#more-submenu");u("#more-btn").on(c.Util.getClickEventName(),(function(){if(!v.default.isMarkerMode){if(u("#more-submenu").is(":visible"))return e.hide(),void u("#more-btn__img").removeClass("more-btn__img--on");e.show(),u("#more-btn__img").addClass("more-btn__img--on")}})),u(document).on(c.Util.getClickEventName(),(function(e){"more-btn"===e.target.id||e.target.parentElement&&"more-btn"===e.target.parentElement.id||"string"==typeof e.target.className&&e.target.className.indexOf("scroll-blind__more-item")>-1||(u("#more-submenu").hide(),u("#more-btn__img").removeClass("more-btn__img--on"))}))},this.downloadBtnLoad=function(e){u("#download-btn > a").attr("href",e),u("#download-btn").removeClass("hide"),u("#mobile-download-btn").parent().attr("href",e),u("#mobile-download-btn").removeClass("hide"),c.Util.bindClickOrTouchEvent(u("#mobile-download-btn"),"scroll-blind__more-item--hover")},this.getHeaderCssName=function(e){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,i=n>t?t:n,o=n>t?n:t,r=[400,600,800,1e3],a=[500,700,900,1100,1300],s=Math.round((i-r[0])/200),l=Math.round((o-a[0])/200);return s<0?s=0:s>r.length-1&&(s=r.length-1),l<0?l=0:l>a.length-1&&(l=a.length-1),["html-"+e+"-"+r[s]+"-P","html-"+e+"-"+a[l]+"-L"]},this.setHeaderCss=function(e){var n=t.getHeaderCssName(e);u(".wrap").addClass("html").addClass(n[0]).addClass(n[1]),u(".modal").addClass("html").addClass(n[0]).addClass(n[1])},this.getDocumentWidth=function(){var e=[500,650,800,1e3],n=t.docInfo.status.documentWidth?Math.ceil(t.docInfo.status.documentWidth*(96/72)):e[e.length-1],i=Math.ceil((n-e[0])/150);return i<0?i=0:i>e.length-1&&(i=e.length-1),n=e[i]},this.bindWindowCloseBtnLoad=function(){var e=u("#mobile-window-close-btn");e.removeClass("hide"),e.on(c.Util.getClickEventName(),(function(e){e.preventDefault(),window.close()})),e.html(d.LocaleMessage.getMessage("msg_window_close"))},this.initViewportContent=function(){var e=c.Util.isHtmlSlideSkin(t.docInfo)&&p.Browser.instance.isAndroid&&p.Browser.instance.getChromeVersion()>=73;if(c.Util.isHtmlSkin(t.docInfo)&&!e){var n=t.getDocumentWidth();t.setHeaderCss(n),t.viewportContent="width="+n+", minimum-scale=0.3"}else if(c.Util.isHtmlSkin(t.docInfo)||!p.Browser.instance.isIPhoneX&&!p.Browser.instance.isIPhoneXS)if(c.Util.isHtmlSkin(t.docInfo)||!p.Browser.instance.isIPhoneXSMax&&!p.Browser.instance.isIPhoneXR){window.screen.width<=768&&window.screen.height<=768?t.viewportContent="width=device-width, initial-scale=1.0, minimum-scale=1.0":t.viewportContent="width=768, minimum-scale=1.0"}else t.viewportContent="width=414, minimum-scale=1.0";else t.viewportContent="width=375, minimum-scale=1.0"},this.adjustMobileDeviceViewport=function(){document.querySelector('meta[name="viewport"]').setAttribute("content",t.viewportContent)},this.bindBgcolorBtn=function(){var n=function(){v.default.isMarkerMode||(e.bgColorMode===r.lightScreen?(e.bgColorMode=r.darkScreen,"cell"===t.docInfo.skinType?u(".cell__piece").removeClass("img-loading-bright"):(u(".img-loading-bright").addClass("img-loading"),u(".img-loading").removeClass("img-loading-bright"))):(e.bgColorMode=r.lightScreen,"cell"===t.docInfo.skinType?u(".cell__piece").addClass("img-loading-bright"):(u(".img-loading").addClass("img-loading-bright"),u(".img-loading-bright").removeClass("img-loading"))),t.eventObserver.bgColor.notify(e.bgColorMode))};u("#backgroundcolor-btn").on("click",n),c.Util.bindClickOrTouchEvent(u("#mobile-bgcolor-btn"),"scroll-blind__more-item--hover",n)},this.bgColor=function(t){switch(t){case r.darkScreen:e.bgColorMode=r.darkScreen,u(document.body).removeClass("wrap__contents--bgcolor-light"),u("#contents").removeClass("wrap__contents--bgcolor-light"),u("#mobile-bgcolor-btn").html(d.LocaleMessage.getMessage("msg_light_backgroundcolor"));break;case r.lightScreen:e.bgColorMode=r.lightScreen,u(document.body).addClass("wrap__contents--bgcolor-light"),u("#contents").addClass("wrap__contents--bgcolor-light"),u("#mobile-bgcolor-btn").html(d.LocaleMessage.getMessage("msg_dark_backgroundcolor"))}},this.mobilePageAreaLoad=function(e){if(u("#total-page").html(String(e)),p.Browser.instance.isIOS){var n=document.createElement("select");n.id="page__select",n.className="page__select";for(var i=1;i<=e;i++){var o=document.createElement("option");o.value=i,o.innerHTML=i,n.appendChild(o)}document.getElementById("header-page").appendChild(n),document.getElementById("select-arrow").addEventListener("click",(function(){document.getElementById("page__select").focus()})),document.getElementById("page__select").addEventListener("change",(function(){t.eventObserver.page.notify({pageNum:document.getElementById("page__select").selectedIndex,isScroll:!1}),t.hide3secHeaderAndThumb()}))}else{var r=u("#page-content");u("#select-arrow, #page__input").on(c.Util.getClickEventName(),(function(e){if(c.Util.isMobileMode(t.docInfo.status.convertType)&&(r.toggle(),!r.is(":hidden"))){var n=c.Util.isHtmlSkin(t.docInfo)?c.Util.getHeadScale(".wrap__header__container"):1;u("#page-scroll-blind__list").scrollTop((u("#pagelist"+(t.docInfo.currentPage+1)).position().top-u("#pagelist1").position().top)/n),u(".page-scroll-blind__item").removeClass("page-scroll-blind--focus"),u("#pagelist"+(t.docInfo.currentPage+1)).addClass("page-scroll-blind--focus")}})),u(document).on("click",(function(e){"select-arrow"!==e.target.id&&"select-arrow-img"!==e.target.id&&"page__input"!==e.target.id&&r.hide()}));for(i=1;i<=e;i++)t.addPageSubmenuItem(i)}},this.addPageSubmenuItem=function(e){var n=u("<li/>",{id:"pagelist"+e,class:"page-scroll-blind__item","data-index":e,html:e});u(".page-scroll-blind__list").append(n),u("#pagelist"+e).on("click",(function(e){t.movePage(e),t.hide3secHeaderAndThumb()}))},this.hide3secHeaderAndThumb=function(){m.Thumbnail.THUMB_STATUS===m.THUMB_FLAG.off&&(t.eventObserver.mobileHeader.notify(l.ShowActionType.HIDE3SEC),t.eventObserver.mobileThumb.notify(l.ShowActionType.HIDE3SEC))},this.movePage=function(e){var n=typeof e.target.value,i=NaN;if("string"===n){/^[0-9]+$/.test(e.target.value)&&(i=parseInt(e.target.value))}else"number"===n&&(i=e.target.value);if(i-1!=t.docInfo.currentPage){i=0===e.currentTarget.id.indexOf("pagelist")?parseInt(e.currentTarget.getAttribute("data-index")):i;var o=t.docInfo.status.pageNum;isNaN(i)||i<=0||i>o?t.jqPageInput.val(t.docInfo.currentPage+1):t.eventObserver.page.notify({pageNum:i-1,isScroll:!1})}else t.jqPageInput.val(i)},this.focusPage=function(e){if(t.jqPageInput.val(e.pageNum+1),u("#page__input").attr("value",e.pageNum+1),p.Browser.instance.isIOS)document.getElementById("page__select").options[e.pageNum].selected=!0;else if(!u("#page-content").is(":hidden")){var n=c.Util.isHtmlSkin(t.docInfo)?c.Util.getHeadScale(".wrap__header__container"):1;u("#page-scroll-blind__list").scrollTop((u("#pagelist"+(e.pageNum+1)).position().top-u("#pagelist1").position().top)/n),u(".page-scroll-blind__item").removeClass("page-scroll-blind--focus"),u("#pagelist"+(e.pageNum+1)).addClass("page-scroll-blind--focus")}},this.mobileHeader=function(e){if(!v.default.isMarkerMode){clearTimeout(t.mobileHeaderTimer);var n=u(".wrap__header"),i=function(){n.removeClass("wrap__header--hide")};if(e!==l.ShowActionType.SHOW){var o=function(){n.addClass("wrap__header--hide")};e===l.ShowActionType.HIDE?o():e===l.ShowActionType.HIDE3SEC&&(i(),t.mobileHeaderTimer=window.setTimeout((function(){o()}),3e3))}else i()}},this.mobileHeaderHover=function(e){if(!v.default.isMarkerMode)switch(e){case"mouseover":t.mobileHeader(l.ShowActionType.SHOW);break;case"mouseleave":t.mobileHeader(l.ShowActionType.HIDE3SEC)}},this.mouseoverEventBind=function(){u(".wrap__header").on("mouseover.head",(function(){c.Util.isMobileMode(t.docInfo.status.convertType)&&!c.Util.isFullScreen()&&"none"===u("#thumbnail").css("display")&&t.mobileHeaderHover("mouseover")})).on("mouseleave.head",(function(){c.Util.isMobileMode(t.docInfo.status.convertType)&&!c.Util.isFullScreen()&&"none"===u("#thumbnail").css("display")&&t.mobileHeaderHover("mouseleave")}))},this.setTitle=function(){if(window.localSynap.config.isShowTitle){document.getElementById("header-title-text").textContent=t.docInfo.title,document.getElementById("header-title-text").title=t.docInfo.title;var e=t.fileExtMap[t.docInfo.fileType]?t.fileExtMap[t.docInfo.fileType]:t.fileExtMap[t.docInfo.default];document.getElementById("header-title-icon__img").className+=" "+e,"cell"===t.docInfo.skinType&&document.getElementById("container").clientWidth<330&&(document.getElementById("header-title-text").style.maxWidth="14%")}},this.orientationchange=function(){t.adjustMobileDeviceViewport()},this.resizeWindow=function(){c.Util.isFullScreen()||(c.Util.isMobileMode(t.docInfo.status.convertType)||u("#page-content").removeAttr("style"),document.getElementById("container").clientWidth<330?document.getElementById("header-title-text").style.maxWidth="14%":document.getElementById("header-title-text").style.maxWidth="",c.Util.isMobileMode(t.docInfo.status.convertType)&&t.viewMode!==h.VIEW_MODE.mobile?(t.subscribeMobileHeader(),m.Thumbnail.THUMB_STATUS===m.THUMB_FLAG.off&&t.eventObserver.mobileHeader.notify(l.ShowActionType.HIDE3SEC),t.viewMode=h.VIEW_MODE.mobile,t.setTotalPageWidth(),t.sns.getIsEnabled()&&(u("#dialog-contents__content").css("visibility","hidden"),setTimeout((function(){t.sns.resizeDialog(t.viewMode,t.dialog),u("#dialog-contents__content").css("visibility","")}),300))):c.Util.isMobileMode(t.docInfo.status.convertType)||t.viewMode===h.VIEW_MODE.desktop||(clearTimeout(t.mobileHeaderTimer),void 0!==window.localSynap&&!1!==window.localSynap.config.isShowHeader&&u(".wrap__header").removeClass("wrap__header--hide"),t.eventObserver.mobileHeader.unsubscribe(t.mobileHeader),t.viewMode=h.VIEW_MODE.desktop,t.setTotalPageWidth(),t.sns.getIsEnabled()&&(u("#dialog-contents__content").css("visibility","hidden"),setTimeout((function(){t.sns.resizeDialog(t.viewMode,t.dialog),u("#dialog-contents__content").css("visibility","")}),300))))}}return e.prototype.addScript=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,t.appendChild(n)},e.bgColorMode=r.darkScreen,e}();t.Head=b}).call(this,n(6))},,,,,function(e,t,n){"use strict";(function(e,i){var o=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),l=n(26),c=n(3),d=n(14),u=n(151),h=n(152),m=n(34),f=n(69),p=n(51),g=function(){function t(){var n=this;this.docInfo=null,this.eventObserver=null,this.textObj={},this.annotationInfos={},this.getNotReqPageNumsInRange=function(e,t){for(var i=[],o=e;o<=t;o++)n.checkReqAnnotationInfos[o]||i.push(o);return i},this.getAnnotationInfosInCurPageRange=function(){return o(n,void 0,e,(function(){var e,n,o,a,s,l,d,u,h,m,f,p;return r(this,(function(r){switch(r.label){case 0:return e=t.DEFAULT_LOADING_CNT,n=this.docInfo.currentPage,o=(n-e<0?n:n-e)+1,a=n+e>this.docInfo.status.pageNum?this.docInfo.status.pageNum:n+e,s={},(l=this.getNotReqPageNumsInRange(o,a)).length?(d=l[0],u=l[l.length-1],h=d===u?""+d:d+"-"+u,[4,c.Util.getJson(this.docInfo.contextPath+"/getAnnotation/"+this.docInfo.status.id+"/"+h)]):[3,2];case 1:for(m=r.sent(),i(this.annotationInfos,m),f=0;f<l.length;f++)p=l[f],this.checkReqAnnotationInfos[p]=!0,this.annotationInfos[p]&&(s[p]=this.annotationInfos[p]);r.label=2;case 2:return[2,s]}}))}))},this.parseTextInfo=function(e){var t=e["@attributes"],n=t.l,i=t.t,o=t.w,r=t.h;return{text:e.text,left:parseFloat(n),top:parseFloat(i),width:parseFloat(o),height:parseFloat(r)}},this.setCorrectValueToTextObjEl=function(e,t){var i=function(e){return!!e&&!/[,._]/.test(e.text)&&!!e.height},o=n.parseTextInfo(e.text[t]),r=o.left,a=o.width,s=o.top,l=o.height,c=o.text;if(l)if(a){if(/[\s]/.test(c)){d=t>0?n.parseTextInfo(e.text[t-1]):null,u=t+1<e.text.length?n.parseTextInfo(e.text[t+1]):null;i(d)&&d.left<r?r=d.left+d.width:i(u)&&r<u.left&&(r=u.left-u.width),e.text[t]["@attributes"].l=r}}else e.text[t]["@attributes"].w=l/3;else{var d=t>0?n.parseTextInfo(e.text[t-1]):null,u=t+1<e.text.length?n.parseTextInfo(e.text[t+1]):null;i(d)&&d.left<r?((l=s-d.top)<=0&&(l=d.height),s=d.top,r=d.left+d.width):i(u)&&r<u.left?((l=s-u.top)<=0&&(l=u.height),s=u.top,r=u.left-u.width):(l=5,s-=2/3*5),a=l/3,e.text[t]["@attributes"].h=l,e.text[t]["@attributes"].w=a,e.text[t]["@attributes"].t=s,e.text[t]["@attributes"].l=r}},this.createContentDiv=function(e,i){return o(n,void 0,void 0,(function(){var n,o,l,c,d,u,h,m,f,g,v;return r(this,(function(r){for(n=p.default.instance.getRatio(i),(o=document.createElement("div")).id="annotationlayer"+i,o.className="annotationlayer",o.style.cssText="width:"+e["@attributes"].w*n+"px;height:"+e["@attributes"].h*n+"px;",s.Browser.instance.isMobile&&(o.oncontextmenu=function(){return!1}),(l=document.createElement("div")).className="startOfContent",o.appendChild(l),c=0;c<e.text.length;c++)this.setCorrectValueToTextObjEl(e,c),d=this.parseTextInfo(e.text[c]),u=d.text,h=d.left,m=d.top,f=d.height,(g=document.createElement("span")).id=t.getTextId(i,c),g.className="text",g.textContent=u,g.style.cssText="left:"+h*n+"px;top:"+m*n+"px;font-size:"+f*n+"px;line-height:"+f*n+"px",g.setAttribute("data-char",u),g.setAttribute("data-hl-order","[]"),o.appendChild(g);return(v=document.createDocumentFragment()).appendChild(o),a("#page-area"+i).append(v),[2]}))}))},this.loadTextXml=function(e){return o(n,void 0,void 0,(function(){var n,i,o,a,s;return r(this,(function(r){switch(r.label){case 0:n=t.DEFAULT_LOADING_CNT,i=e-n<0?e:e-n,o=e+n>this.docInfo.status.pageNum?this.docInfo.status.pageNum:e+n,a=t.getLocalStorageText(this.docInfo.jobId),s=i,r.label=1;case 1:return s<o?[4,this.createTextDiv(s,a)]:[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},this.createTextDiv=function(e,i){return o(n,void 0,void 0,(function(){var n,o,a,s;return r(this,(function(r){switch(r.label){case 0:return null!=this.textObj&&null!=this.textObj[e]?[3,3]:[4,t.getXml(this.docInfo,e)];case 1:return n=r.sent(),null==(o=n.result)&&(o=""),this.textObj[e]={"@attributes":n.page,text:n.text,allText:o},i[e]?[3,3]:(i[e.toString()]=o.toLowerCase(),[4,t.setLocalStorageText(this.docInfo.jobId,i)]);case 2:r.sent(),r.label=3;case 3:return(a=document.getElementById("annotationlayer"+e))?[3,5]:[4,this.createContentDiv(this.textObj[e],e)];case 4:return r.sent(),[3,6];case 5:s=(this.textObj[e]["@attributes"].w*p.default.instance.getRatio(e)).toFixed(3)+"px",a.style.width!==s&&this.updatePosition(a,e),r.label=6;case 6:return[2]}}))}))},this.focusPage=function(e){return o(n,void 0,void 0,(function(){var n;return r(this,(function(i){switch(i.label){case 0:return t.isFullScreen?[3,3]:[4,this.loadTextXml(e.pageNum)];case 1:return i.sent(),this.eventObserver.searchText.notify(e),c.Util.isUseAnnotation(this.docInfo)?[4,this.getAnnotationInfosInCurPageRange()]:[3,3];case 2:n=i.sent(),this.eventObserver.loadAnnotation.notify(n),i.label=3;case 3:return[2]}}))}))},this.rePosition=function(){for(var e=n.docInfo.currentPage,i=t.DEFAULT_LOADING_CNT,o=e-i<0?0:e-i,r=e+i>n.docInfo.status.pageNum?n.docInfo.status.pageNum:e+i,a=o;a<r;a++){var s=document.getElementById("annotationlayer"+a);s&&n.updatePosition(s,a)}},this.updatePosition=function(e,t){var i=p.default.instance.getRatio(t);e.style.cssText="width:"+n.textObj[t]["@attributes"].w*i+"px;height:"+n.textObj[t]["@attributes"].h*i+"px;";var o=Array.prototype.slice.call(e.getElementsByClassName("text"));for(var r in o){var a=n.textObj[t].text[r]["@attributes"],l=a.l,c=a.t,d=a.h,u=o[r],h=getComputedStyle(u).getPropertyValue("--var-th-color");!s.Browser.instance.isIE&&h?u.style.cssText="left:"+l*i+"px;top:"+c*i+"px;font-size:"+d*i+"px;line-height:"+d*i+"px;--var-th-color: "+h+";":u.style.cssText="left:"+l*i+"px;top:"+c*i+"px;font-size:"+d*i+"px;line-height:"+d*i+"px"}},this.resizePage=function(){t.isFullScreen||(p.default.instance.init(n.docInfo.status.pageNum),n.rePosition())},this.fullScreen=function(e){e.isFullScreen?(a(".annotationlayer").addClass("annotationlayer--presentation"),t.isFullScreen=!0):(a(".annotationlayer").removeClass("annotationlayer--presentation"),window.setTimeout((function(){t.isFullScreen=!1,n.focusPage({pageNum:n.docInfo.currentPage})}),d.Page.IOS_WAITTIME_FOR_PREVENT_RELOAD))},this.parseModifiedAnnotationInfosToJson=function(e){for(var t=document.implementation.createDocument("","",null),i={},o=0,r=Object.keys(e);o<r.length;o++){var a=r[o];if(e[a]){var s=e[a],l=s.highlight,c=s.marker,d=s.memo;if(!l.length&&!c.length&&!d.length)return;var u=t.createElement("page");if(u.setAttribute("num",a),l.length)for(var h=0,m=l;h<m.length;h++){var f=m[h];n.appendXmlChildHighlightInfo(t,u,f)}if(c)for(var p=0,g=c;p<g.length;p++){var v=g[p];n.appendXmlChildMarkerInfo(t,u,v)}if(d)for(var b=0,_=d;b<_.length;b++){var E=_[b];n.appendXmlChildMemoInfo(t,u,E)}i[a]=u.outerHTML}else i[a]=""}return i},this.appendXmlChildHighlightInfo=function(e,t,n){var i=e.createElement("annots"),o=n.top,r=void 0===o?"":o,a=n.left,s=void 0===a?"":a,l=n.width,c=void 0===l?"":l,d=n.height,u=void 0===d?"":d,h=n.color,m=void 0===h?"":h,f=n.text,p=n.username,g=void 0===p?"":p,v=n.path,b=n.wpath,_=void 0===b?"":b,E=n.date,w=void 0===E?"":E;if(i.setAttribute("type","highlight"),i.setAttribute("l",s),i.setAttribute("t",r),i.setAttribute("w",c),i.setAttribute("h",u),i.setAttribute("c",m),f){var I=e.createElement("contents");I.setAttribute("d",w),I.setAttribute("t",g),I.innerHTML="<![CDATA["+f+"]]>",i.appendChild(I)}if(v){var y=e.createElement("path");y.setAttribute("w",_),y.innerHTML=v,i.appendChild(y)}t.appendChild(i)},this.appendXmlChildMarkerInfo=function(e,t,n){var i=e.createElement("annots"),o=n.top,r=void 0===o?"":o,a=n.left,s=void 0===a?"":a,l=n.width,c=void 0===l?"":l,d=n.height,u=void 0===d?"":d,h=n.color,m=void 0===h?"":h,f=n.path,p=n.wpath,g=void 0===p?"":p;if(i.setAttribute("type","marker"),i.setAttribute("l",s),i.setAttribute("t",r),i.setAttribute("w",c),i.setAttribute("h",u),i.setAttribute("c",m),f){var v=e.createElement("path");v.setAttribute("w",g),v.innerHTML=f,i.appendChild(v)}t.appendChild(i)},this.appendXmlChildMemoInfo=function(e,t,n){var i=e.createElement("annots"),o=n.top,r=void 0===o?"":o,a=n.left,s=void 0===a?"":a,l=n.width,c=void 0===l?"":l,d=n.height,u=void 0===d?"":d,h=n.color,m=void 0===h?"":h,f=n.text,p=n.username,g=void 0===p?"":p,v=n.date,b=void 0===v?"":v;if(i.setAttribute("type","memo"),i.setAttribute("l",s),i.setAttribute("t",r),i.setAttribute("w",c),i.setAttribute("h",u),i.setAttribute("c",m),f){var _=e.createElement("contents");_.setAttribute("d",b),_.setAttribute("t",g),_.innerHTML="<![CDATA["+f+"]]>",i.appendChild(_)}t.appendChild(i)},this.getModifiedAnnotationInfos=function(){for(var e={},t=1;t<=n.checkModifiedPages.length;t++)if(n.checkModifiedPages[t-1]){var i=n.annotationPopup.getHighlightInfosFromRenderedEl(t),o=n.memo.getMemoInfosFromRenderedEl(t),r=n.marker.getMarkerInfosFromRenderedEl(t);i.length||o.length||r.length?e[t]={highlight:i,memo:o,marker:r}:e[t]=null}return e},this.isActiveSaveAnnotation=!1,this.saveAnnotation=function(){if(!n.isActiveSaveAnnotation){n.isActiveSaveAnnotation=!0;var e=document.getElementById("save-annotation-btn__img");c.Util.addClass(e,"save-annotation-btn__img--on");var t=function(){c.Util.removeClass(e,"save-annotation-btn__img--on"),n.isActiveSaveAnnotation=!1},i=n.getModifiedAnnotationInfos();c.Util.getJsonPost(n.docInfo.contextPath+"/saveAnnotation/"+n.docInfo.status.id,JSON.stringify(n.parseModifiedAnnotationInfosToJson(i)),(function(e){var i=n.docInfo.contextPath+"/"+e.downloadUrl;window.open(i,"_self"),t()}),(function(){(new l.Dialog).confirmDialog("msg_fail_save_annotation"),t()}))}},this.modifyAnnotation=function(e){void 0===e&&(e=n.docInfo.currentPage),n.checkModifiedPages[e]=!0},this.eventBind=function(e){n.eventObserver=e,n.eventObserver.page.subscribe(n.focusPage),n.eventObserver.resizePage.subscribe(n.resizePage),n.eventObserver.saveAnnotation.subscribe(n.saveAnnotation),n.eventObserver.modifyAnnotation.subscribe(n.modifyAnnotation),n.eventObserver.fullScreen.subscribe(n.fullScreen)},this.load=function(e,i){return o(n,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return this.docInfo=e,this.checkReqAnnotationInfos=c.Util.fill(new Array(this.docInfo.status.pageNum+1),!1),this.checkModifiedPages=c.Util.fill(new Array(this.docInfo.status.pageNum),!1),p.default.instance.init(this.docInfo.status.pageNum),this.eventBind(i),[4,this.loadTextXml(this.docInfo.currentPage)];case 1:return r.sent(),(new f.default).load(e,i,this.textObj,this.createTextDiv),c.Util.isUseAnnotation(this.docInfo)?(n=t,[4,c.Util.getServerDpi(this.docInfo.contextPath)]):[3,4];case 2:return n.SERVER_DPI=r.sent(),t.DEFAULT_DPI="pdf"===e.skinType?72:96,t.DPI_RATIO=t.SERVER_DPI/t.DEFAULT_DPI,[4,this.getAnnotationInfosInCurPageRange()];case 3:o=r.sent(),this.annotationPopup=new u.default,this.annotationPopup.load(i,this.textObj,o),this.memo=new h.default,this.memo.load(i,o),this.marker=new m.default,this.marker.load(e,i,o),r.label=4;case 4:return[2]}}))}))}}return t.isFullScreen=!1,t.DEFAULT_LOADING_CNT=5,t.loadedText=null,t.getXml=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return r(this,(function(i){switch(i.label){case 0:return n=c.Util.isConvHtml(e)?e.resultPath+"/"+e.status.fileName+".files/"+e.status.fileName+"_"+(t+1)+".xml":e.contextPath+"/thumbnailxml/"+e.status.id+"/"+t,[4,c.Util.getThumbnailXml(n)];case 1:return[2,i.sent()]}}))}))},t.parseTextId=function(e){if(e){var t=e.split("-");return{pageNum:Number(t[1]),idx:Number(t[2])}}},t.getTextId=function(e,t){return"text-"+e+"-"+t},t.getColorInfoForArgb=function(e){var t,n=e.substring(0,2);t=Math.round(parseInt(n,16)/255*100);var i=e.substring(2),o="yellow";switch(i){case"eb008c":o="pink";break;case"26e500":o="green";break;case"ffe500":o="yellow";break;case"44c7f4":o="blue"}return{opacity:t,hexColor:i,color:o}},t.opacityToHex=function(e){void 0===e&&(e=100);return Math.round(255*e/100).toString(16)},t.hasLocalStorage=function(){try{var e="has_Synap_LocalStorage_Test_Key";localStorage.setItem(e,e);var t=localStorage.getItem(e)==e;return localStorage.removeItem(e),t&&localStorage}catch(e){return!1}},t.getLocalStorageText=function(e){var n=null;return(n=t.hasLocalStorage()?JSON.parse(localStorage.getItem(e)):t.loadedText)||(n={}),n},t.setLocalStorageText=function(e,n){return o(void 0,void 0,void 0,(function(){return r(this,(function(i){return t.hasLocalStorage()?localStorage.setItem(e,JSON.stringify(n)):t.loadedText=n,[2]}))}))},t}();t.default=g}).call(this,n(6),n(50))},,,,,,,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a,s=n(101),l=n(3),c=n(2),d=n(26),u=n(27),h=n(24),m=n(153),f=n(187),p=n(188),g=n(35),v=n(189),b=n(68),_=n(111),E=n(106),w=n(70),I=n(192),y=n(71),T=n(112),S=n(1);!function(e){e[e.HTML=0]="HTML",e[e.IMAGE=1]="IMAGE"}(r=t.CONV_TYPE||(t.CONV_TYPE={})),function(e){e[e.SERVER=0]="SERVER",e[e.MODULE=1]="MODULE"}(a=t.PRODUCT_TYPE||(t.PRODUCT_TYPE={}));var x=function(e){var t=this;this.docInfo={properties:{}},this.passTryCnt=0,this.dialog=new d.Dialog,this.skinType={xls:"cell",xlsx:"cell",csv:"cell",nxls:"cell",ppt:"slide",pptx:"slide",nppt:"slide",doc:"word",docx:"word",ndoc:"word",hwp2k:"word",hwp97:"word",txt:"word",text:"word",hwpml:"word",jpeg:"image",jpg:"image",png:"image",tiff:"image",gif:"image",bmp:"image",pdf:"pdf",odt:"word"},this.getParameter=function(){var e=document.createElement("a");e.href=window.location.href;for(var t=[],n=0,i=e.search.slice(1).split("&");n<i.length;n++){var o=i[n],r=o.split("=")[0],a=o.split("=")[1];t[r]=decodeURIComponent(a)}return t},this.doAfterGetStatusForIMAGEServer=function(e){var n={properties:{}};return n.jobId=t.id,n.contextPath=t.contextPath,n.title=e.fileName,n.downloadUrl=e.downloadUrl,n.status=e,t.setCommonDocInfo(n,e),n.productType=a.SERVER,n},this.doAfterGetStatusForHTMLServer=function(e){return i(t,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:return 0!==e.htmlErrCode?[2,this.doAfterGetStatusForIMAGEServer(e)]:(t=this.contextPath+"xml/"+this.id,[4,l.Util.getXml(t)]);case 1:return n=o.sent(),(i=this.doAfterGetStatusForHTML(n)).resultPath=this.contextPath+"result/"+i.status.resultFileName+"/",i.title=e.fileName,i.downloadUrl=e.downloadUrl,i.productType=a.SERVER,[2,i]}}))}))},this.setCommonDocInfo=function(e,n){null===n.format?e.fileType="docx":e.fileType=n.format.toLowerCase();var i=e.fileType;e.skinType=t.skinType[i],"cell"!==e.skinType?e.currentPage=0:e.currentSheet=0},this.doAfterGetStatusForHTML=function(e){var n={properties:{}};return n.jobId=t.id,n.resultPath=t.contextPath,n.title=e.index.doc_title?e.index.doc_title:t.id,n.downloadUrl=e.index.downUrl,e.format=e.index.file_type,n.status={convertType:r.HTML,single:"true"===e.index.use_single_page,fileName:e.index.file_name,format:e.index.file_type,htmlConverting:!0,htmlDone:!0,pageNum:0,imgDone:!1,resultFileName:e.index.file_name,width:e.index.width,height:e.index.height},t.setCommonDocInfo(n,e),"cell"===n.skinType||"csv"===n.skinType?n.status.pageNum=parseInt(e.index.sheet_cnt):"slide"===n.skinType?n.status.pageNum=parseInt(e.index.slide_cnt):"pdf"===n.skinType?n.status.pageNum=parseInt(e.index.pdf_cnt):"image"===n.skinType?n.status.pageNum=parseInt(e.index.image_cnt):"word"===n.skinType&&(n.status.documentWidth=parseInt(e.index.width)),n.productType=a.MODULE,n},this.sendPassword=function(){return i(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(i){switch(i.label){case 0:if(""===(e=S("#dialog-passwd").val()))return this.dialog.passwdDialog("msg_input_password",this.sendPassword,this.cancelPassword),[2];this.dialog.remove(),S("#contents").addClass("img-loading"),this.passTryCnt+=1,t=this.contextPath+"/passcode/"+this.id,(n={}).param={passcode:e},i.label=1;case 1:return i.trys.push([1,4,,5]),[4,l.Util.postJson(t,n)];case 2:return i.sent(),S("#contents").removeClass("img-loading"),[4,this.load()];case 3:return i.sent(),[3,5];case 4:return i.sent(),S("#contents").removeClass("img-loading"),this.dialog.alertDialog("help.erro_code.errorcode.255.desc1"),[3,5];case 5:return[2]}}))}))},this.cancelPassword=function(){t.dialog.openFailDialog()},this.passwordProcess=function(){t.passTryCnt>0?t.dialog.passwdDialog("msg_input_retry",t.sendPassword,t.cancelPassword):t.dialog.passwdDialog(null,t.sendPassword,t.cancelPassword)},this.getArchiveFileList=function(){return i(t,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:e=this.contextPath+"/archiveFileList/"+this.id,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l.Util.postJson(e)];case 2:return[2,t.sent()];case 3:return t.sent(),S("#contents").removeClass("img-loading"),this.dialog.alertDialog("msg_archiveFile_convFail"),[2,null];case 4:return[2]}}))}))},this.zipProcess=function(e){return i(t,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.getArchiveFileList()];case 1:return(t=n.sent())&&(S("#contents").removeClass("img-loading"),new T.FileExplorer(t,this.docInfo.title,this.contextPath,this.id,this.docInfo.status.convertType,e).archiveFileViewDialog()),[2]}}))}))},this.errProcess=function(e,n){var i="";if(3!==e){if(2===e)i="help.erro_code.errorcode.2.desc1";else if(4===e)i="help.erro_code.errorcode.4.desc1";else if(9===e)i="help.erro_code.errorcode.3.desc1";else{if(21===e)return void t.zipProcess(n);if(22===e)i="help.error_code.errorcode.22.desc1";else if(101===e)i="help.erro_code.errorcode.101.desc1";else if(134===e||148===e)i="help.erro_code.errorcode.134.desc1";else if(254===e)i="help.erro_code.errorcode.254.desc1";else if(255===e)i="help.erro_code.errorcode.255.desc1";else{if(!window.localSynap||"function"!=typeof window.localSynap.loadErrorHandler)return void(location.href=t.contextPath+"/exception?convLocale="+n);i=window.localSynap.loadErrorHandler(e)}}t.dialog.alertDialog(i)}else t.passwordProcess()},this.initConfig=function(){window.localSynap||(window.localSynap={},window.localSynap.config={})},this.localSynapSetting=function(){var e=window.localSynap;e.getCurrentPage=function(){return t.docInfo.currentPage+1},e.moveNext=function(){t.docInfo.currentPage<t.docInfo.status.pageNum-1&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(t.docInfo.currentPage+1):t.eventObserver.page.notify({pageNum:t.docInfo.currentPage+1,isScroll:!1}))},e.movePrev=function(){t.docInfo.currentPage>0&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(t.docInfo.currentPage-1):t.eventObserver.page.notify({pageNum:t.docInfo.currentPage-1,isScroll:!1}))},e.movePage=function(e){e>0&&e<=t.docInfo.status.pageNum&&(l.Util.isHtmlCellSkin(t.docInfo)?t.eventObserver.sheet.notify(e-1):t.eventObserver.page.notify({pageNum:e-1,isScroll:!1}))},window.localSynap.onLoadBody&&window.localSynap.onLoadBody instanceof Function&&window.localSynap.onLoadBody()},this.focusPage=function(){window.localSynap.onMovePage&&window.localSynap.onMovePage instanceof Function&&window.localSynap.onMovePage()},this.scroll=function(){window.localSynap.onScroll&&window.localSynap.onScroll instanceof Function&&window.localSynap.onScroll()},this.optionSettings=function(){var e=window.localSynap.config;e.ZOOM_LIST&&0!==e.ZOOM_LIST.length&&(w.Controlbar.ZOOM_LIST=e.ZOOM_LIST),e.preventPrint&&S("body").addClass("layout")},this.getConvLocale=function(e){return void 0===e.convLocale?"ko":e.convLocale},this.isModuleType=function(e){return void 0===e.key},this.getContextPath=function(e){return t.isModuleType(e)?"/"===e.rs[e.rs.length-1]?e.rs.substring(0,e.rs.length-1):e.rs:e.contextPath},this.getInfoURL=function(e){return t.isModuleType(e)?t.getContextPath(e)+"/"+t.id+".xml":t.contextPath+"/status/"+e.key},this.load=function(){return i(t,void 0,void 0,(function(){var e,t,n,i,r,a,d,T,S,x,C;return o(this,(function(o){switch(o.label){case 0:return e=this.getParameter(),this.id=this.isModuleType(e)?e.fn:e.key,this.contextPath=this.getContextPath(e),!this.contextPath&&void 0!==window.localSynap&&window.localSynap.config.contextPath&&(this.contextPath=window.localSynap.config.contextPath.trim()),[4,u.LocaleMessage.setLocale(this.getConvLocale(e))];case 1:t=o.sent(),document.documentElement.setAttribute("lang",t),document.title=u.LocaleMessage.getMessage("view_title"),this.dialog.defaultDialog(),u.LocaleMessage.setLocaleMessage(),n=this.getInfoURL(e),o.label=2;case 2:o.label=3;case 3:return o.trys.push([3,13,,14]),this.isModuleType(e)?[4,l.Util.getXml(n)]:[3,5];case 4:return r=o.sent(),[3,7];case 5:return[4,l.Util.getJson(n)];case 6:r=o.sent(),o.label=7;case 7:return(i=r).imgDone?(this.docInfo=this.doAfterGetStatusForIMAGEServer(i),[3,15]):i.htmlDone?(a=this,[4,this.doAfterGetStatusForHTMLServer(i)]):[3,9];case 8:return a.docInfo=o.sent(),[3,15];case 9:return i.index?(this.docInfo=this.doAfterGetStatusForHTML(i),[3,15]):[3,10];case 10:return[4,l.Util.sleep(1e3)];case 11:o.sent(),o.label=12;case 12:return[3,14];case 13:return"403"===o.sent().message?this.dialog.alertDialog("msg_exception_url_access_failed"):this.dialog.alertDialog("help.erro_code.errorcode.255.desc1"),[2,null];case 14:return[3,2];case 15:if(this.docInfo.status.imgDone&&this.docInfo.status.imgErrCode>0)return this.errProcess(this.docInfo.status.imgErrCode,t),[2,null];if(this.docInfo.status.htmlDone&&this.docInfo.status.htmlErrCode>0)return this.errProcess(this.docInfo.status.htmlErrCode,t),[2,null];this.initConfig(),d=[],l.Util.isHtmlSkin(this.docInfo)?"word"===this.docInfo.skinType||l.Util.useSingle(this.docInfo)?d=[new g.Head,new I.Word,new v.Presentation,new _.MobileEvent,new E.WindowEvent]:"cell"===this.docInfo.skinType?d=[new p.HtmlSheet,new g.Head,new v.Presentation,new _.MobileEvent,new E.WindowEvent,new w.Controlbar]:"slide"===this.docInfo.skinType&&(d=c.Browser.instance.isMobile?[new g.Head,new y.Slide,new v.Presentation,new b.KeyEvent,new _.MobileEvent,new E.WindowEvent,new w.Controlbar]:[new g.Head,new h.SlideThumbnail,new y.Slide,new v.Presentation,new b.KeyEvent,new _.MobileEvent,new E.WindowEvent,new w.Controlbar]):d="cell"===this.docInfo.skinType?[new f.ImageSheet,new g.Head,new v.Presentation,new _.MobileEvent,new E.WindowEvent,new w.Controlbar]:"image"===this.docInfo.skinType&&window.localSynap.config.search&&!window.localSynap.config.useAnnotation?[new g.Head,new m.ImagePage,new h.ImageThumbnail,new v.Presentation,new b.KeyEvent,new _.MobileEvent,new E.WindowEvent,new w.Controlbar]:"cell"!==this.docInfo.skinType&&(window.localSynap.config.search||window.localSynap.config.useAnnotation)?[new g.Head,new m.ImagePage,new h.ImageThumbnail,new v.Presentation,new b.KeyEvent,new _.MobileEvent,new E.WindowEvent,new w.Controlbar,new s.default]:[new g.Head,new m.ImagePage,new h.ImageThumbnail,new v.Presentation,new b.KeyEvent,new _.MobileEvent,new E.WindowEvent,new w.Controlbar],T=0,S=d,o.label=16;case 16:return T<S.length?[4,S[T].load(this.docInfo,this.eventObserver)]:[3,19];case 17:o.sent(),o.label=18;case 18:return T++,[3,16];case 19:return l.Util.isHtmlSkin(this.docInfo)||"cell"===this.docInfo.skinType||(x=this.eventObserver.resizeWindow.observers,C=x[1],x.splice(1,1),x.splice(2,0,C)),this.localSynapSetting(),this.eventObserver.page.subscribe(this.focusPage),this.eventObserver.scroll.subscribe(this.scroll),this.optionSettings(),[2]}}))}))},this.eventObserver=e};t.Init=x}).call(this,n(6))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(14),r=n(3),a=function(){function e(){this.ratioList=null}return Object.defineProperty(e,"instance",{get:function(){return i||(i=new e),i},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.ratioList=r.Util.fill(new Array(e),Number.MIN_SAFE_INTEGER)},e.prototype.getRatio=function(e){return this.ratioList?(this.ratioList[e]===Number.MIN_SAFE_INTEGER&&(this.ratioList[e]=document.getElementById("page"+e).offsetWidth/o.Page.ORIGIN_SIZE[e].width),this.ratioList[e]):(r.Util.printConsoleLog("Cannot get ratio"),1)},e}();t.default=a},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),r=n(3),a=n(28),s=n(2);!function(e){e[e.PAGEUP=33]="PAGEUP",e[e.PAGEDOWN=34]="PAGEDOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFTARROW=37]="LEFTARROW",e[e.UPARROW=38]="UPARROW",e[e.RIGHTARROW=39]="RIGHTARROW",e[e.DOWNARROW=40]="DOWNARROW",e[e.F11=122]="F11",e[e.ESC=27]="ESC",e[e.DELETE=46]="DELETE"}(i=t.keyMap||(t.keyMap={}));var l=function(){var e=this;this.eventObserver=null,this.docInfo=null,this.maxPage=null,this.keypressCnt=0,this.stopKeyTimeout=null,this.scrollContentAreaEl=s.Browser.instance.isIOS?o(document):o("#contents"),this.pageInputEventKey=new Array(i.END,i.HOME,i.LEFTARROW,i.RIGHTARROW),this.isOnePage=function(){return!(!r.Util.isHtmlSlideSkin(e.docInfo)||s.Browser.instance.isMobile)||!(!r.Util.isFullScreen()||!a.DetectZoom||100!==a.DetectZoom.getRatio())||void 0},this.pageKeyEvent=function(t){if(t.keyCode!==i.F11&&t.keyCode!==i.ESC){var n=t.target;"page__input"===n.id&&e.pageInputEventKey.indexOf(t.keyCode)>-1||(n.id.indexOf("page")>-1&&-1!==new Array(i.PAGEUP,i.PAGEDOWN,i.UPARROW,i.DOWNARROW,i.LEFTARROW,i.RIGHTARROW).indexOf(t.keyCode)&&t.preventDefault(),"thumbnailview-btn"!==n.id&&n.id.indexOf("thumb")>-1||(e.keypressCnt+=1,clearTimeout(e.stopKeyTimeout),e.keypressCnt>0&&(e.stopKeyTimeout=window.setTimeout((function(){var n=!0===e.isOnePage()?e.fullscreenGetPageNum(t.keyCode,e.keypressCnt):e.getPageNum(t.keyCode,e.keypressCnt);e.keypressCnt=0,-1!==n&&e.keyMovePage(n)}),20))))}},this.getPageNum=function(t,n){var o=e.docInfo.currentPage,r=-1;switch(t){case i.PAGEUP:var a=o-n;r=a<0?0:a;break;case i.PAGEDOWN:var s=o+n;r=s>e.maxPage-1?e.maxPage-1:s;break;case i.UPARROW:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.scrollTop()-40);break;case i.LEFTARROW:e.scrollContentAreaEl.scrollLeft(e.scrollContentAreaEl.scrollLeft()-40);break;case i.DOWNARROW:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.scrollTop()+40);break;case i.RIGHTARROW:e.scrollContentAreaEl.scrollLeft(e.scrollContentAreaEl.scrollLeft()+40);break;case i.HOME:e.scrollContentAreaEl.scrollTop(0);break;case i.END:e.scrollContentAreaEl.scrollTop(e.scrollContentAreaEl.prop("scrollHeight"));break;default:r=-1}return r},this.fullscreenGetPageNum=function(t,n){var o=e.docInfo.currentPage,r=-1;switch(t){case i.PAGEUP:case i.UPARROW:case i.LEFTARROW:var a=o-n;r=a<0?0:a;break;case i.PAGEDOWN:case i.DOWNARROW:case i.RIGHTARROW:var s=o+n;r=s>e.maxPage-1?e.maxPage-1:s;break;case i.HOME:r=0;break;case i.END:r=e.maxPage-1;break;default:r=-1}return r},this.keyMovePage=function(t){isNaN(t)||t<0||t>e.maxPage-1||1===e.maxPage?o("#page__input").val(e.docInfo.currentPage+1):e.eventObserver.page.notify({pageNum:t,isScroll:!1})},this.eventBind=function(t){e.eventObserver=t,o(window).on("keyup",(function(){e.keypressCnt=0})),o(window).on("keydown",(function(t){return e.pageKeyEvent(t.originalEvent)}))},this.load=function(e,t){this.docInfo=e,this.maxPage=this.docInfo.status.pageNum,this.eventBind(t)}};t.KeyEvent=l},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a,s=n(1),l=n(105),c=n(2),d=n(3),u=n(49),h=n(24),m=n(27),f=n(26),p=n(40);!function(e){e[e.NONE=0]="NONE",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(r=t.SEARCH_TYPE||(t.SEARCH_TYPE={})),function(e){e[e.SHOW=0]="SHOW",e[e.HIDE=1]="HIDE"}(a=t.SEARCH_DISPLAY||(t.SEARCH_DISPLAY={}));var g=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.textObj=null,this.prevSearchResult={},this.DEFAULT_SEARCH_LENGTH=10,this.dialog=new f.Dialog,this.searchText=function(t){return i(e,void 0,void 0,(function(){var e,n,i,a=this;return o(this,(function(o){if(!c.Browser.instance.isMobile&&!d.Util.isMobileMode(u.CONV_TYPE.IMAGE)&&s("#search").is(":visible")&&""!=this.jqSearchInput.val()&&void 0!==this.prevSearchResult.textId){for(e=!1,n=0;n<this.prevSearchResult.textId.length&&!(e=this.prevSearchResult.textId[n].indexOf("text"+t.pageNum)>-1);n++);i=this.jqSearchInput.val().toLowerCase(),e||(this.focusSearchText(event,i,t.pageNum),setTimeout((function(){a.focusSearchText(event,i,t.pageNum+1,r.NEXT),a.focusSearchText(event,i,t.pageNum-1,r.PREV)}),20))}return[2]}))}))},this.clearSearchResult=function(t){return i(e,void 0,void 0,(function(){var e,n,i,r,a=this;return o(this,(function(o){switch(o.label){case 0:if(0==(e=null==t.target.value?this.jqSearchInput.val().toLowerCase():t.target.value.toLowerCase()).length)return s("#search__input").blur(),[2];if(void 0!==this.prevSearchResult.textId&&this.prevSearchResult.query!=e){for(n=document.getElementsByClassName("text--highlight"),i=n.length,r=0;r<i;r++)n[0].className="text";this.prevSearchResult=[]}return this.prevSearchResult.query==e&&this.prevSearchResult?[3,2]:(this.loadSpinner(),[4,this.newSearchText(e)]);case 1:o.sent(),setTimeout((function(){a.removeSpinner()}),200),o.label=2;case 2:return 0!==this.docInfo.currentPage||this.prevSearchResult||this.prevSearchResult.textId[0]!=this.prevSearchResult.highlight?this.searchMoveBtnEnable("search-prev"):this.searchMoveBtnDisable("search-prev",!0),this.docInfo.currentPage!==this.docInfo.status.pageNum-1||this.prevSearchResult||this.prevSearchResult.highlight!=this.prevSearchResult.textId[this.prevSearchResult.textId.length-1]?this.searchMoveBtnEnable("search-next"):this.searchMoveBtnDisable("search-next",!0),[2]}}))}))},this.searchDisplay=function(t){t!=a.HIDE?e.searchResultShow():e.searchResultHide()},this.searchResultHide=function(){for(var e=document.getElementsByClassName("text--highlight"),t=e.length,n=0;n<t;n++)d.Util.addClass(e[n],"text--hide")},this.searchResultShow=function(){for(var e=document.getElementsByClassName("text--hide"),t=e.length,n=0;n<t;n++)d.Util.removeClass(e[0],"text--hide")},this.newSearchText=function(t){return i(e,void 0,void 0,(function(){var e,n,i,r,a,l,c,d,u,h,f,g,v;return o(this,(function(o){switch(o.label){case 0:e=this.docInfo.currentPage,n=e,i=this.docInfo.status.pageNum-1,r=p.default.getLocalStorageText(this.docInfo.jobId),a=[],l=!1,c=!1,o.label=1;case 1:return[4,this.search(t,n)];case 2:if(a=o.sent(),c&&0==a.length&&n<=0)return l=!0,[3,8];if(0==a.length&&n===i){if(0==e)return l=!0,[3,8];n=e,c=!0}return 0!=a.length?[3,6]:(c?n--:n++,r[n]?[3,5]:[4,p.default.getXml(this.docInfo,n)]);case 3:return null==(d=o.sent()).result?[3,1]:(this.textObj[n]={"@attributes":d.page,text:d.text,allText:d.result},r[n.toString()]=d.result.toLowerCase(),[4,p.default.setLocalStorageText(this.docInfo.jobId,r)]);case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:return[3,8];case 7:return[3,1];case 8:return l&&void 0===this.prevSearchResult.textId?(s("#search__input").addClass("search__input--notfound"),s("#search__input").val(m.LocaleMessage.getMessage("empty-searchword")),s("#search__input").blur(),[2]):document.getElementById("annotationlayer"+n)?[3,10]:[4,this.createTextDiv(n,r)];case 9:o.sent(),o.label=10;case 10:for(u=[],h=0;h<a.length;h++){for(f=a[h],g=0;g<t.length;g++)(v=s("#text-"+n+"-"+(f+g))).hasClass("text--highlight")||(v.addClass("text--highlight"),0==h&&v.addClass("text--current")),0==h&&0==g&&(this.prevSearchResult.highlight="text-"+n+"-"+f);u.push("text-"+n+"-"+f)}return 0!=u.length&&(this.prevSearchResult.query=t,this.prevSearchResult.textId=u),this.eventObserver.page.notify({pageNum:n,isScroll:!1}),[2]}}))}))},this.focusSearchText=function(t,n,a,l){return void 0===n&&(n=null),void 0===a&&(a=null),void 0===l&&(l=r.NONE),i(e,void 0,void 0,(function(){var e,i,c,d,u,h,f,g,v,b,_,E,w;return o(this,(function(o){switch(o.label){case 0:return e=null!=n?n:t.target.value.toLowerCase(),i=null==a?this.docInfo.currentPage:a,c=this.docInfo.status.pageNum-1,d=[],u=!1,h=l!=r.PREV,i<0||i>c?[2]:(f=p.default.getLocalStorageText(this.docInfo.jobId),[4,this.search(e,i)]);case 1:return 0==(d=o.sent()).length&&(u=!0),u&&void 0===this.prevSearchResult.textId?(s("#search__input").addClass("search__input--notfound"),s("#search__input").val(m.LocaleMessage.getMessage("empty-searchword")),s("#search__input").blur(),[2]):document.getElementById("annotationlayer"+i)?[3,3]:[4,this.createTextDiv(i,f)];case 2:o.sent(),o.label=3;case 3:for(g=[],v=0;v<d.length;v++){for(b=d[v],_=0;_<e.length;_++)(E=s("#text-"+i+"-"+(b+_))).hasClass("text--highlight")||E.addClass("text--highlight");g.push("text-"+i+"-"+b)}return w=p.default.parseTextId(this.prevSearchResult.highlight).pageNum>i,0!=g.length&&(this.prevSearchResult.query=e,null!=this.prevSearchResult.textId&&0!=this.prevSearchResult.textId.length&&this.prevSearchResult.textId.indexOf(g[0])<0&&(this.prevSearchResult.textId=!h||w?g.concat(this.prevSearchResult.textId):this.prevSearchResult.textId.concat(g))),[2]}}))}))},this.moveSearchText=function(t,n,a){return void 0===t&&(t=null),void 0===n&&(n=null),void 0===a&&(a=r.NEXT),i(e,void 0,void 0,(function(){var e,i,l,c,d,u,h,f,g,v,b,_,E,w,I;return o(this,(function(o){switch(o.label){case 0:e=t,i=null==n?this.docInfo.currentPage:n,l=this.docInfo.status.pageNum-1,c=p.default.getLocalStorageText(this.docInfo.jobId),d=[],u=!1,h=a!=r.PREV,o.label=1;case 1:return[4,this.search(e,i)];case 2:return 0==(d=o.sent()).length&&i===l||!h&&0==d.length&&i<=0?(u=!0,[3,8]):0!=d.length?[3,6]:(h?i++:i--,c[i]?[3,5]:[4,p.default.getXml(this.docInfo,i)]);case 3:return null==(f=o.sent()).result?[3,1]:(this.textObj[i]={"@attributes":f.page,text:f.text,allText:f.result},c[i.toString()]=f.result.toLowerCase(),[4,p.default.setLocalStorageText(this.docInfo.jobId,c)]);case 4:o.sent(),o.label=5;case 5:return[3,7];case 6:return[3,8];case 7:return[3,1];case 8:return u&&void 0===this.prevSearchResult.textId?(s("#search__input").addClass("search__input--notfound"),s("#search__input").val(m.LocaleMessage.getMessage("empty-searchword")),s("#search__input").blur(),[2]):u&&a!=r.NONE?(a==r.NEXT?(this.searchMoveBtnDisable("search-next"),1!==this.prevSearchResult.textId.length&&this.searchMoveBtnEnable("search-prev")):(this.searchMoveBtnDisable("search-prev"),1!==this.prevSearchResult.textId.length&&this.searchMoveBtnEnable("search-next")),[2]):document.getElementById("annotationlayer"+i)?[3,10]:[4,this.createTextDiv(i,c)];case 9:o.sent(),o.label=10;case 10:if(0!=d.length)for(g=p.default.parseTextId(this.prevSearchResult.highlight),_=0;_<e.length;_++)v=p.default.getTextId(g.pageNum,g.idx+_),s("#"+v).removeClass("text--current"),s("#"+v).addClass("text--highlight");for(b=[],_=0;_<d.length;_++){for(E=d[_],w=0;w<e.length;w++)(I=s("#text-"+i+"-"+(E+w))).hasClass("text--highlight")||(I.addClass("text--highlight"),0==_&&h?I.addClass("text--current"):_!=d.length-1||h||I.addClass("text--current")),0==_&&0==w&&h?this.prevSearchResult.highlight="text-"+i+"-"+E:_!=d.length-1||0!=w||h||(this.prevSearchResult.highlight="text-"+i+"-"+E);b.push("text-"+i+"-"+E)}return 0!=b.length&&(this.prevSearchResult.query=e,null!=this.prevSearchResult.textId&&0!=this.prevSearchResult.textId.length&&this.prevSearchResult.textId.indexOf(b[0])<0&&(a==r.PREV?this.prevSearchResult.textId=b.concat(this.prevSearchResult.textId):this.prevSearchResult.textId=this.prevSearchResult.textId.concat(b))),this.eventObserver.page.notify({pageNum:i,isScroll:!1}),this.prevSearchResult.textId[0]==this.prevSearchResult.highlight&&this.prevSearchResult.highlight==this.prevSearchResult.textId[this.prevSearchResult.textId.length-1]||(this.searchMoveBtnEnable("search-prev"),this.searchMoveBtnEnable("search-next")),[2]}}))}))},this.search=function(t,n){return i(e,void 0,void 0,(function(){var e,i,r,a;return o(this,(function(o){if(e=t.length,i=-e,r=[],void 0===(a=p.default.getLocalStorageText(this.docInfo.jobId)[n]))return[2,r];for(;-1!==(i=a.indexOf(t,i+e));)r.push(i);return[2,r]}))}))},this.moveSearchResult=function(t){return i(e,void 0,void 0,(function(){var e,n,i,a=this;return o(this,(function(o){switch(o.label){case 0:return t==r.NONE||0==(e=this.jqSearchInput.val().toLowerCase()).length?[2]:this.prevSearchResult.query==e&&this.prevSearchResult?[3,2]:(this.loadSpinner(),[4,this.clearSearchResult(event)]);case 1:return o.sent(),setTimeout((function(){a.removeSpinner()}),200),[2];case 2:return n=this.getSearchIndex(e,t),i=n.pageIdx,n.result?[3,4]:-1===i?(this.searchMoveBtnDisable("search-prev"),1!==this.prevSearchResult.textId.length&&this.searchMoveBtnEnable("search-next"),[2]):this.docInfo.status.pageNum===i?(this.searchMoveBtnDisable("search-next"),1!==this.prevSearchResult.textId.length&&this.searchMoveBtnEnable("search-prev"),[2]):(this.loadSpinner(),[4,this.moveSearchText(e,i,t)]);case 3:return o.sent(),setTimeout((function(){a.removeSpinner()}),200),[3,5];case 4:this._updateHighlight(e,n.updateIdx),this.docInfo.currentPage!=i&&this.eventObserver.page.notify({pageNum:i,isScroll:!1}),this.prevSearchResult.textId[0]==this.prevSearchResult.highlight&&this.prevSearchResult.highlight==this.prevSearchResult.textId[this.prevSearchResult.textId.length-1]||(this.searchMoveBtnEnable("search-prev"),this.searchMoveBtnEnable("search-next")),o.label=5;case 5:return[2]}}))}))},this._updateHighlight=function(t,n){return i(e,void 0,void 0,(function(){var e,i,r,a,l;return o(this,(function(o){for(e=p.default.parseTextId(this.prevSearchResult.highlight),a=0;a<t.length;a++)i=p.default.getTextId(e.pageNum,e.idx+a),s("#"+i).removeClass("text--current"),s("#"+i).addClass("text--highlight");for(r=p.default.parseTextId(n),a=0;a<t.length;a++)l=p.default.getTextId(r.pageNum,r.idx+a),s("#"+l).addClass("text--current");return null!=n&&(this.prevSearchResult.highlight=n),[2]}))}))},this.getSearchIndex=function(t,n){var i=!1,o=e.docInfo.currentPage,a=null;if(void 0!==e.prevSearchResult.textId&&e.prevSearchResult.query===t){var s=e.prevSearchResult.highlight,l=e.prevSearchResult.textId.indexOf(s);n==r.NEXT?(a=e.prevSearchResult.textId[l+1],o+=1):(a=e.prevSearchResult.textId[l-1],o-=1),void 0!==a&&(i=!0,o=p.default.parseTextId(a).pageNum)}return{result:i,pageIdx:o,updateIdx:a}},this.searchEvent=function(){e.jqSearchInput=s("#search__input"),e.jqSearchInput.on("keyup",(function(t){"Enter"===t.key&&e.clearSearchResult(t)})),e.jqSearchInput.on("input",(function(t){t.target.value.length>e.DEFAULT_SEARCH_LENGTH&&(e.dialog.confirmDialog("input_limit_searchword",(function(){e.jqSearchInput.trigger("focus")})),t.target.value=t.target.value.slice(0,e.DEFAULT_SEARCH_LENGTH))})),e.jqSearchInput.on("focus",(function(){s("#search__input").hasClass("search__input--notfound")&&(s("#search__input").removeClass("search__input--notfound"),s("#search__input").val(""))}));var t=s("#search__label");e.jqSearchInput.on("focus",(function(){t.hide()})),e.jqSearchInput.on("focusout",(function(){""==s("#search__input").val()&&t.show()}))},this.searchMoveBtnDisable=function(t,n){void 0===n&&(n=!1),s("#"+t+"__img").addClass(t+"--disable"),s("#"+t).removeClass("search-move--hover"),s("#"+t).prop("disabled",!0),n||e.dialog.confirmDialog("none_move_search")},this.searchMoveBtnEnable=function(e){s("#"+e+"__img").removeClass(e+"--disable"),s("#"+e).prop("disabled",!1)},this.loadSpinner=function(){var e={lines:11,length:0,width:12,radius:30,scale:1.25,corners:.5,color:"#435c85",opacity:.25,rotate:0,direction:1,speed:1,trail:65,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:h.Thumbnail.THUMB_STATUS==h.THUMB_FLAG.off?"50%":s("#thumbnail").outerWidth()+s("#contents").width()/2+"px",shadow:!1,hwaccel:!1,position:"fixed"},t=document.createElement("div");t.setAttribute("class","inner loading_spinner "),document.getElementById("contents").appendChild(t),new l(e).spin(t)},this.removeSpinner=function(){setTimeout((function(){s(".loading_spinner").remove()}),50)},this.eventBind=function(){e.eventObserver.searchNext.subscribe(e.moveSearchResult),e.eventObserver.searchText.subscribe(e.searchText),e.eventObserver.searchDisplay.subscribe(e.searchDisplay),e.searchEvent()},this.load=function(t,n,i,o){e.docInfo=t,e.eventObserver=n,e.textObj=i,e.createTextDiv=o,e.eventBind()}};t.default=g}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(1),r=n(2),a=n(34);!function(e){e[e.ZoomIn=0]="ZoomIn",e[e.ZoomOut=1]="ZoomOut",e[e.OriginSize=2]="OriginSize",e[e.PrintA4=3]="PrintA4"}(t.ZOOM_TYPE||(t.ZOOM_TYPE={}));var s=function(){function e(){var e=this;this.docInfo=null,this.eventObserver=null,this.controlbarId=null,this.fadeControlbar=function(){var t;i.Util.isMobileMode(e.docInfo.status.convertType)||i.Util.isFullScreen()||"block"===e.jsSheetModal.css("display")||a.default.isMarkerMode?(e.jsContents.off("mousemove"),e.jqControlbar.hide()):(e.jsContents.on("mousemove",(function(n){clearTimeout(t),e.jqControlbar.stop(!0,!0).show(),(!n.target.parentElement||n.target.id!==e.controlbarId&&n.target.parentElement.id!==e.controlbarId)&&(t=setTimeout((function(){e.jqControlbar.fadeOut(1e3)}),e.controlbarFadeoutTimeout))})),e.moveControlbar())},this.moveControlbar=function(){var t=function(){if(void 0===window.localSynap.config.controllbarPosition||0==Object.keys(window.localSynap.config.controllbarPosition).length)e.jqControlbar.css("left",0),e.jqControlbar.css("left",o("#thumbnail").outerWidth()+o("#contents").width()/2-o("#"+e.controlbarId).outerWidth()/2);else{var t=!!window.localSynap.config.controllbarPosition.left,n=!!window.localSynap.config.controllbarPosition.right;t&&!n?e.jqControlbar.css({left:o("#thumbnail").outerWidth()+Number(window.localSynap.config.controllbarPosition.left.replace("px",""))}):!t&&n?e.jqControlbar.css({right:document.getElementById("contents").offsetWidth-document.getElementById("contents").clientWidth+Number(window.localSynap.config.controllbarPosition.right.replace("px",""))}):(e.jqControlbar.css("left",0),e.jqControlbar.css("left",o("#thumbnail").outerWidth()+o("#contents").width()/2-o("#"+e.controlbarId).outerWidth()/2));var i=!!window.localSynap.config.controllbarPosition.bottom,r=!!window.localSynap.config.controllbarPosition.top;i&&!r?e.jqControlbar.css({bottom:window.localSynap.config.controllbarPosition.bottom}):!i&&r&&e.jqControlbar.css({top:window.localSynap.config.controllbarPosition.top,bottom:"auto"})}};r.Browser.instance.isIOS?setTimeout(t,500):t()},this.resizeWindow=function(){setTimeout((function(){e.fadeControlbar()}),150)},this.fullscreen=function(){e.fadeControlbar()},this.markerMode=function(){e.fadeControlbar()},this.sheetMove=function(){e.fadeControlbar()},this.sheetFail=function(){e.jsContents.off("mousemove"),e.jqControlbar.hide()},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.resizeWindow.subscribe(e.resizeWindow),e.eventObserver.fullScreen.subscribe(e.fullscreen),e.eventObserver.resizeContents.subscribe(e.moveControlbar),e.eventObserver.sheet.subscribe(e.sheetMove),e.eventObserver.sheetFail.subscribe(e.sheetFail),e.eventObserver.markerMode.subscribe(e.markerMode),e.fadeControlbar()},this.load=function(t,n){e.docInfo=t,e.controlbarId="cell"===e.docInfo.skinType?"cell-controlbar":"page-controlbar",e.jqControlbar=o("#"+e.controlbarId);var r=window.localSynap.config.controllbarFadeoutTimeout;if(r&&(e.controlbarFadeoutTimeout=r),i.Util.isHtmlSkin(e.docInfo)&&e.hideZoomBtn(),e.eventBind(n),"page-controlbar"===e.controlbarId){var a=e.jqControlbar.width();e.jqControlbar.css("min-width",a)}},this.hideZoomBtn=function(){o(".controlbar__seperator").hide(),o("#cell-zoomout").hide(),o("#cell-zoomin").hide(),o("#page-zoomout").hide(),o("#page-zoomin").hide(),o("#page-originsize").hide(),o("#page-pagewidthfit").hide(),o("#page-pagefit").hide(),o("#page-rotate").hide()},this.jsSheetModal=o(".sheetmodal"),this.jsContents=void 0===window.localSynap.config.controllbarPosition||0==Object.keys(window.localSynap.config.controllbarPosition).length?o("#contents"):o("#contents, #header"),this.controlbarFadeoutTimeout=3e3}return e.ZOOM_LIST=[25,50,100,150,200],e}();t.Controlbar=s},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(3),c=n(1),d=n(193),u=n(194),h=n(24),m=n(35),f=n(14),p=function(e){function t(){var n=e.call(this)||this;return n.initPageNum=5,n.SlidePageFitAction=new u.SlidePageFit,n.SlidePageScrollFitAction=new d.SlidePageScrollFit,n.loadTimeout=null,n.getDimensionHtml=function(e){return r(n,void 0,void 0,(function(){var n,i,o;return a(this,(function(r){switch(r.label){case 0:return n=e.resultPath+"/"+e.status.fileName+".xml",i=[],[4,l.Util.getXml(n)];case 1:return o=r.sent(),t.SLIDE_INFO.start=parseInt(o.index.startPage),t.SLIDE_INFO.end=parseInt(o.index.endPage),t.SLIDE_INFO.total=parseInt(o.index.slide_cnt),1===t.SLIDE_INFO.total?(i[0]=[],i[0].index=parseInt(o.index.slide_list.slide.id)-1,i[0].path=o.index.slide_list.slide.path_xhtml,i[0].width=o.index.width,i[0].height=o.index.height,t.SLIDE_LIST[0]={path:o.index.slide_list.slide.path_xhtml},[2,i]):(c.each(o.index.slide_list.slide,(function(e,n){var r=parseInt(n.id)-1,a={index:r,width:o.index.width,height:o.index.height};i[e]=a,t.SLIDE_LIST[r]={path:n.path_xhtml}})),[2,i])}}))}))},n.createContentDivInMobile=function(e){return r(n,void 0,void 0,(function(){var n,i,o,r,s,l,d;return a(this,(function(a){for(n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++)r=o[i],t.ORIGIN_SIZE[r.index]={width:r.width,height:r.height},(s=document.createElement("iframe")).id="page"+r.index,s.name=r.index,s.title="page"+(r.index+1),s.scrolling="no",s.frameBorder="no",(l=document.createElement("div")).id="page-alpha"+r.index,l.className="thumb-slide-alpha",r.index<this.initPageNum&&this.onLoadImg(s,r.index),(d=document.createElement("div")).id="page-area"+r.index,d.className="contents-page",d.appendChild(s),d.appendChild(l),n.appendChild(d);return c("#contents-area").append(n),t.ORIGIN_MARGIN={marginTop:parseInt(c(".contents-page").css("margin-top")),marginBottom:parseInt(c(".contents-page").css("margin-bottom"))},c("#page-area0").addClass("contents-page--start"),c("#page-area"+(t.SLIDE_INFO.total-1)).addClass("contents-page--end"),this.pageResizeAction.resizePage(1,null,0,this.initPageNum),[2]}))}))},n.iframeEventBindInDesktop=function(){return r(n,void 0,void 0,(function(){return a(this,(function(e){return c("#page0").on("load",(function(e){c(this).contents().on("mousewheel DOMMouseScroll",(function(e){!0!==e.ctrlKey&&(clearTimeout(t.wheelStopHandler),t.wheelStopHandler=setTimeout((function(){t.mousewheelInDesktop(e)}),300))}));var n=document.getElementById("contents-area"),i=document.getElementById("page0"),o=function(e){if(l.Util.isFullScreen())return e.preventDefault(),!1};i.contentDocument.addEventListener("contextmenu",o),i.contentDocument.addEventListener("contextmenu.fullscreen",o);i.contentDocument.addEventListener("mousemove",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("mousedown",l.Util.getMouseHandlerDispatch(n,(function(e){return l.Util.isFullScreen()}))),i.contentDocument.addEventListener("mouseup",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("click",l.Util.getMouseHandlerDispatch(n)),i.contentDocument.addEventListener("keydown",l.Util.getKeybordHandlerDispatch(n)),i.contentDocument.addEventListener("keyup",l.Util.getKeybordHandlerDispatch(n))})),[2]}))}))},n.createContentDivInDesktop=function(e){return r(n,void 0,void 0,(function(){var n,i,o,r,s,l;return a(this,(function(a){for(n=document.createDocumentFragment(),i=0,o=e;i<o.length;i++)r=o[i],t.ORIGIN_SIZE[r.index]={width:r.width,height:r.height};return(s=document.createElement("div")).id="page-area0",(l=document.createElement("iframe")).id="page0",l.name="0",l.title="content",l.scrolling="no",l.frameBorder="no",this.onLoadImg(l,0),s.appendChild(l),n.appendChild(s),c("#contents-area").append(n),this.iframeEventBindInDesktop(),[2]}))}))},n.createContentDiv=function(e){return r(n,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t=null,[4,this.getDimensionHtml(e)];case 1:return t=n.sent(),s.Browser.instance.isMobile?[4,this.createContentDivInMobile(t)]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,this.createContentDivInDesktop(t)];case 4:n.sent(),n.label=5;case 5:return[2]}}))}))},n.getPageElem=function(e){return document.getElementById("page"+e)},n.loadPageImg=function(e){if(s.Browser.instance.isMobile){var t=n.getDefaultLadingCnt(),i=e-t<0?0:e-t,o=e+t>n.docInfo.status.pageNum?n.docInfo.status.pageNum:e+t;null!=n.loadTimeout&&clearTimeout(n.loadTimeout),n.loadTimeout=window.setTimeout((function(){for(var e=0;e<i;e++){-1===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&t.contentWindow.location.replace("about:blank")}for(e=i;e<o;e++){0===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&n.onLoadImg(t,e)}for(e=o+1;e<n.docInfo.status.pageNum;e++){var t;-1===(t=n.getPageElem(e)).contentWindow.location.href.indexOf("about:blank")&&t.contentWindow.location.replace("about:blank")}}),200)}else{var r=n.getPageElem(0);n.onLoadImg(r,e)}},n.checkResizeControlBar=function(){},n.bindControlbarEvent=function(){l.Util.bindClickOrTouchEvent(c("#page-prev"),"controlbar-prev--hover",n.moveBackPage),l.Util.bindClickOrTouchEvent(c("#page-next"),"controlbar-next--hover",n.moveNextPage),n.checkMoveControlbar()},n.onLoadImg=function(e,i){l.Util.isFullScreen()?e.className=" contents-page__img img-loading-black":e.className=m.Head.bgColorMode===m.BGCOLOR_MODE.darkScreen?" contents-page__img img-loading":" contents-page__img img-loading-bright",e.src=""+l.Util.getResultPath(n.docInfo,t.SLIDE_LIST[i].path)},n.isFitAction=function(){return n.pageResizeAction===n.SlidePageScrollFitAction},n.setFitAction=function(){n.preResizeObj=f.Page.RESIZE_OBJ,n.prePageAction=n.pageResizeAction,s.Browser.instance.isMobile?(f.Page.RESIZE_OBJ={type:f.RESIZE_TYPE.PageFit,percent:0},n.pageResizeAction=n.SlidePageScrollFitAction):(f.Page.RESIZE_OBJ={type:f.RESIZE_TYPE.SlidePageFit,percent:0},n.pageResizeAction=n.SlidePageFitAction)},n.getRotateMap=function(){return null},n.isThumbnailOn=function(){return h.SlideThumbnail.THUMB_STATUS===h.THUMB_FLAG.on},n._innerResizeWindow=function(){c(".contents-page").removeAttr("style"),f.Page.ORIGIN_MARGIN={marginTop:parseInt(c(".contents-page").css("margin-top")),marginBottom:parseInt(c(".contents-page").css("margin-bottom"))},n.pageResizeAction.resizePage(1,null)},n.fullscreenAfterEvent=function(){s.Browser.instance.isIE&&11===s.Browser.instance.version&&n.resizeWindow()},n.pageMouseEventBind=function(){c("#contents-area").on("mousewheel DOMMouseScroll",(function(e){!0!==e.ctrlKey&&(clearTimeout(t.wheelStopHandler),t.wheelStopHandler=setTimeout((function(){t.mousewheelInDesktop(e)}),300))}))},n.eventBind=function(e){n.eventObserver=e,n.eventObserver.page.subscribe(n.focusPage),n.eventObserver.resizeWindow.subscribe(n.resizeWindow),n.eventObserver.fullScreen.subscribe(n.fullScreen),n.eventObserver.singleTap.subscribe(n.singleTap),n.eventObserver.orientationchange.subscribe(n.orientationchange),n.eventObserver.moveBtn.subscribe(n.checkMoveControlbar),n.eventObserver.androidVirtualKeyboard.subscribe(n.androidVirtualKeyboard),s.Browser.instance.isMobile?n.scrollEventBind():n.pageMouseEventBind(),n.mouseEventBind()},n.setTabIndex=function(){for(var e=["page__input","info-btn","thumbnailview-btn","download-btn","backgroundcolor-btn","presentation-btn"],t=0;t<e.length;t++)document.getElementById(e[t]).tabIndex=t+1;document.getElementById("fullscreen-close").tabIndex=6,document.getElementById("page-area0").tabIndex=10},n.load=function(e,t){return r(n,void 0,void 0,(function(){var n=this;return a(this,(function(i){switch(i.label){case 0:return this.docInfo=e,s.Browser.instance.isMobile?this.pageResizeAction=this.SlidePageScrollFitAction:this.pageResizeAction=this.SlidePageFitAction,s.Browser.instance.isIOS&&(c("#wrap").addClass("wrap--ios"),c("#container").addClass("wrap__container--ios"),c("#contents").addClass("wrap__contents--ios"),c("#thumbnail").addClass("wrap__thumbnail--ios"),c("#footer").addClass("wrap__footer--ios")),this.bindControlbarEvent(),[4,this.createContentDiv(this.docInfo)];case 1:return i.sent(),this.setTabIndex(),this.eventBind(t),this.eventObserver.resizeContents.notify(),this.resizeWindow(),this.docInfo.status.pageNum>this.initPageNum&&setTimeout((function(){n.pageResizeAction.resizePage(1,null,n.initPageNum,n.docInfo.status.pageNum-n.initPageNum)}),30),[2]}}))}))},n.setDefaultLadingCnt(3),n}return o(t,e),t.SLIDE_LIST=[],t.SLIDE_INFO={start:0,end:0,total:0},t.mousewheelInDesktop=function(e){(e.originalEvent.deltaY||-e.originalEvent.wheelDelta)<0?window.localSynap.movePrev():window.localSynap.moveNext()},t}(f.Page);t.Slide=p}).call(this,n(6))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(40);t.default=i.default;var o=n(69);t.SEARCH_TYPE=o.SEARCH_TYPE},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(3),c=n(1),d=n(31),u=function(e){function t(){var t=e.call(this)||this;return t.getDimensionImg=function(e,n,i,o){return r(t,void 0,void 0,(function(){var t,r,s;return a(this,(function(a){switch(a.label){case 0:return n=void 0!==n?n:0,o=void 0!==o?o:l.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"-"+i+"?dpi="+o,r=[],[4,l.Util.getJson(t)];case 1:return s=a.sent(),c.each(s,(function(e,t){var n={index:t.p,width:t.w,height:t.h};r[t.p]=n})),[2,r]}}))}))},t.retry=function(e){var n=parseInt(e.target.name),i=document.getElementById("thumb"+n);t.onLoadImg(i,n)},t.getDimensionHtml=function(e){return r(t,void 0,void 0,(function(){var t,n;return a(this,(function(i){switch(i.label){case 0:return t=e.resultPath+"/"+e.status.fileName+".xml",[4,l.Util.getXml(t)];case 1:return n=i.sent(),"image"===e.skinType?[2,l.Util.getDimensionHtmlForImage(n)]:[2,l.Util.getDimensionHtmlForPDF(n)]}}))}))},t.onLoadImg=function(e,n){e.className="thumb__img img-loading-small",e.removeEventListener("click",t.retry);var i=new Image;i.onerror=function(){e.src=t.transparentImg,e.className+=" img-retry",e.addEventListener("click",t.retry)},i.onload=function(){e.className="thumb__img"},l.Util.isConvHtml(t.docInfo)?i.src=""+l.Util.getResultPath(t.docInfo,t.THUMB_SIZE[n].path):i.src=""+l.Util.getThumbPath(t.docInfo,n,l.Util.thumbDPI),e.src=i.src},t.createThumbDiv=function(e){return r(t,void 0,void 0,(function(){var t,n,i,o,r,d,u,h,m,f,p,g,v,b,_,E,w,I;return a(this,(function(a){switch(a.label){case 0:return t=114,n=72,i=null,l.Util.isConvHtml(this.docInfo)?[4,this.getDimensionHtml(e)]:[3,2];case 1:return i=a.sent(),[3,4];case 2:return[4,this.getDimensionImg(e,0,e.status.pageNum,l.Util.thumbDPI)];case 3:i=a.sent(),a.label=4;case 4:for(o=Math.round(t/i[0].width*i[0].height),r=Math.round(n/i[0].width*i[0].height),this.THUMB_SIZE[0]={width:i[0].width,height:i[0].height,desktopHeight:o,mobileHeight:r},d=this.jqThumbnail.height(),u=this.THUMB_SIZE[0].desktopHeight,l.Util.isMobileMode(this.docInfo.status.convertType)&&(u=this.THUMB_SIZE[0].mobileHeight),this.initThumbNum=Math.ceil(d/u),h=document.createDocumentFragment(),m=0,f=i;m<f.length;m++)p=f[m],(g=document.createElement("div")).id="thumb-content"+p.index,g.className="thumb",(v=document.createElement("span")).className="thumb__span",v.textContent=p.index+1,(b=document.createElement("div")).id="thumb-area"+p.index,b.className=s.Browser.instance.isMobile?"thumb-area thumb__div thumb--nohover":"thumb-area thumb__div",b.setAttribute("data-index",p.index),(_=document.createElement("img")).id="thumb"+p.index,_.name=""+p.index,_.title="page"+(p.index+1),_.src=this.transparentImg,_.className="thumb__img img-loading-small",b.onclick=this.thumbMovePage,this.isWindowCSS&&(_.style.setProperty("--page-width",p.width),_.style.setProperty("--page-height",p.height)),l.Util.isConvHtml(this.docInfo)&&(this.THUMB_SIZE[p.index]={path:p.path}),E=0,this.isWindowCSS||(this.THUMB_SIZE[0].height!==p.height?(w=Math.round(t/p.width*p.height),I=Math.round(n/p.width*p.height),E=!0===l.Util.isMobileMode(this.docInfo.status.convertType)?I:w,c.extend(this.THUMB_SIZE[p.index],{width:p.width,height:p.height,desktopHeight:w,mobileHeight:I})):E=!0===l.Util.isMobileMode(this.docInfo.status.convertType)?this.THUMB_SIZE[0].mobileHeight:this.THUMB_SIZE[0].desktopHeight),p.index<this.initThumbNum&&(this.thumbOnOffOption()&&this.onLoadImg(_,p.index),this.isWindowCSS||(_.style.cssText="height:"+E+"px;")),b.appendChild(_),g.appendChild(v),g.appendChild(b),h.appendChild(g);return c("#wrap__index").append(h),c("#thumb-area0").removeClass("thumb--nohover"),[2]}}))}))},t.thumbOnOffOption=function(){return l.Util.isMobileMode(t.docInfo.status.convertType)?!(window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile):void 0!==window.localSynap&&window.localSynap.config.showThumbnail},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.markerMode.subscribe(t.markerMode),t.scrollEventBind(),t.thumbnailDesktop.eventBind(t.eventObserver),t.thumbnailMobile.eventBind(t.eventObserver,t.docInfo),t.webThumbnailResize(),c("#mobile-thumbnailbar").on("click",t.toggleEvent),c("#thumbnailview-btn").on("click",t.toggleEvent)},t.loadThumbDelay=function(e){return r(t,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))},t.load=function(e,n){return r(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.docInfo=e,[4,this.createThumbDiv(this.docInfo)];case 1:return t.sent(),c("#thumb-area0").addClass("thumb__focus"),s.Browser.instance.isMobile&&(c("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),c("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),this.eventBind(n),l.Util.isMobileMode(this.docInfo.status.convertType)?(this.thumbnailActions=this.thumbnailMobile,window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile?(d.Thumbnail.THUMB_STATUS=d.THUMB_FLAG.on,this.thumbnailActions.toggleAction()):(this.thumbnailActions.toggleAction(),this.setThumbnailAreaHeightForIOS())):(this.thumbnailActions=this.thumbnailDesktop,window.localSynap&&window.localSynap.config&&window.localSynap.config.showThumbnail&&this.thumbnailActions.toggleAction()),this.isWindowCSS||this.thumbSizeResize(this.initThumbNum,this.docInfo.status.pageNum,null),[2]}}))}))},t}return o(t,e),t}(d.Thumbnail);t.default=u}).call(this,n(6))},,function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(3),c=n(1),d=n(31),u=n(105),h=function(e){function t(){var n=e.call(this)||this;return n.getDimensionHtml=function(e){return r(n,void 0,void 0,(function(){var n,i,o;return a(this,(function(r){switch(r.label){case 0:return n=e.resultPath+"/"+e.status.fileName+".xml",i=[],[4,l.Util.getXml(n)];case 1:return o=r.sent(),t.SLIDE_INFO.start=parseInt(o.index.startPage),t.SLIDE_INFO.end=parseInt(o.index.endPage),t.SLIDE_INFO.total=parseInt(o.index.slide_cnt),1===t.SLIDE_INFO.total?(i[0]=[],i[0].index=parseInt(o.index.slide_list.slide.id)-1,i[0].path=o.index.slide_list.slide.path_xhtml,i[0].width=o.index.width,i[0].height=o.index.height,[2,i]):(c.each(o.index.slide_list.slide,(function(e,t){var n={index:parseInt(t.id)-1,path:t.path_xhtml,width:o.index.width,height:o.index.height};i[e]=n})),[2,i])}}))}))},n.onLoadImg=function(e,t){e.className="thumb__img img-loading-small",e.src=""+l.Util.getResultPath(n.docInfo,n.THUMB_SIZE[t].path)},n.slideRenderingSize=function(e,t,i,o){return r(n,void 0,void 0,(function(){var n,r,l,c;return a(this,(function(a){return n=Math.round(o/t*i),l=-2*t*(1-(r=o/(2*t)))/2,c=-2*i*(1-r)/2,s.Browser.instance.isIE9Lower()?e.style.cssText+="width:"+o+"px;height:"+n+"px;":e.style.cssText+="width:"+2*t+"px;height:"+2*i+"px;\n\t\t\ttransform:scale("+r+","+r+");left:"+l+"px;top:"+c+"px;",[2]}))}))},n.createThumbDiv=function(e){return r(n,void 0,void 0,(function(){var t,n,i,o,r,l,d,u,h,m,f,p,g,v;return a(this,(function(a){switch(a.label){case 0:return t=114,n=72,[4,this.getDimensionHtml(e)];case 1:for(i=a.sent(),o=Math.round(t/i[0].width*i[0].height),r=Math.round(n/i[0].width*i[0].height),this.THUMB_SIZE[0]={width:i[0].width,height:i[0].height,desktopHeight:o,mobileHeight:r},l=document.createDocumentFragment(),d=0,u=i;d<u.length;d++)h=u[d],(m=document.createElement("div")).id="thumb-content"+h.index,m.className="thumb",m.onclick=this.thumbMovePage,(f=document.createElement("span")).className="thumb__span",f.textContent=h.index+1,(p=document.createElement("div")).id="thumb-area"+h.index,p.className=s.Browser.instance.isMobile?"thumb-area thumb-slide thumb__div img-loading-small thumb--nohover":"thumb-area thumb-slide thumb__div img-loading-small thumb-area-slide",p.style.cssText="width:"+t+"px;height:"+o+"px;",(g=document.createElement("iframe")).id="thumb"+h.index,g.name=""+h.index,g.title="page"+(h.index+1),g.scrolling="no",g.frameBorder="no",(v=document.createElement("div")).className="thumb-slide-alpha",v.style.cssText="width:"+t+"px;height:"+o+"px;",v.onclick=this.thumbMovePage,v.setAttribute("data-index",h.index),this.THUMB_SIZE[h.index]={path:h.path},this.slideRenderingSize(g,h.width,h.height,t),h.index<this.initThumbNum&&this.onLoadImg(g,h.index),p.appendChild(g),p.appendChild(v),m.appendChild(f),m.appendChild(p),l.appendChild(m);return c("#wrap__index").append(l),c("#thumb-area0").removeClass("thumb--nohover"),[2]}}))}))},n.eventBind=function(e){n.eventObserver=e,n.eventObserver.page.subscribe(n.focusPage),n.eventObserver.resizeWindow.subscribe(n.resizeWindow),n.eventObserver.fullScreen.subscribe(n.fullScreen),n.scrollEventBind(),n.thumbnailDesktop.eventBind(n.eventObserver),n.thumbnailMobile.eventBind(n.eventObserver,n.docInfo),n.webThumbnailResize(),c("#mobile-thumbnailbar").on("click",n.toggleEvent),c("#thumbnailview-btn").on("click",n.toggleEvent)},n._loadThumbnail=function(e){return r(n,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.createThumbDiv(this.docInfo)];case 1:return e.sent(),c("#thumb-area0").addClass("thumb__focus"),s.Browser.instance.isMobile&&(c("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),c("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),l.Util.isMobileMode(this.docInfo.status.convertType)?(this.thumbnailActions=this.thumbnailMobile,window.localSynap&&window.localSynap.config&&!1===window.localSynap.config.showThumbnailMobile?(d.Thumbnail.THUMB_STATUS=d.THUMB_FLAG.on,this.thumbnailActions.toggleAction()):(this.thumbnailActions.toggleAction(),this.setThumbnailAreaHeightForIOS())):(this.thumbnailActions=this.thumbnailDesktop,window.localSynap&&window.localSynap.config&&window.localSynap.config.showThumbnail&&this.thumbnailActions.toggleAction()),this.isWindowCSS||this.thumbSizeResize(this.initThumbNum,this.docInfo.status.pageNum,null),[2]}}))}))},n.loadThumbDelay=function(e){return r(n,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return e%5!=0?[3,2]:[4,l.Util.sleep(100)];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.load=function(e,t){return r(n,void 0,void 0,(function(){var n=this;return a(this,(function(i){return this.docInfo=e,c(".wrap__thumbnail").addClass("wrap__thumbnail-slide"),this.eventBind(t),this.loadSpinner(),setTimeout((function(){n._loadThumbnail(t),n.removeSpinner()}),500),[2]}))}))},n.loadSpinner=function(){if(!(l.Util.isMobileMode(n.docInfo.status.convertType)||c(".loading_spinner").length>0)){var e=document.createElement("div");e.setAttribute("class","inner loading_spinner "),document.getElementById("contents-area").appendChild(e),new u({lines:11,length:0,width:12,radius:30,scale:1.25,corners:.5,color:"#435c85",opacity:.25,rotate:0,direction:1,speed:1,trail:65,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"}).spin(e)}},n.removeSpinner=function(){l.Util.isMobileMode(n.docInfo.status.convertType)||setTimeout((function(){c(".loading_spinner").remove()}),50)},n.initThumbNum=10,n}return o(t,e),t.SLIDE_INFO={start:0,end:0,total:0},t}(d.Thumbnail);t.default=h}).call(this,n(6))},function(e,t,n){e.exports=function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+n/i*100,a=Math.max(1-(1-e)/t*(100-r),e),s=l.substring(0,l.indexOf("Animation")).toLowerCase(),d=s&&"-"+s+"-"||"";return u[o]||(c.insertRule("@"+d+"keyframes "+o+"{0%{opacity:"+a+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",c.cssRules.length),u[o]=1),o}function i(e,t){var n,i,o=e.style;if(void 0!==o[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(i=0;i<d.length;i++)if(void 0!==o[n=d[i]+t])return n}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function a(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=r(e||{},s.defaults,h)}var l,c,d=["webkit","Moz","ms","O"],u={},h={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},r(s.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,r=n.el=e(null,{className:i.className});if(o(r,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!l){var a,s=0,c=(i.lines-1)*(1-i.direction)/2,d=i.fps,u=d/i.speed,h=(1-i.opacity)/(u*i.trail/100),m=u/i.lines;!function e(){s++;for(var t=0;t<i.lines;t++)a=Math.max(1-(s+(i.lines-t)*m)%u*h,i.opacity),n.opacity(r,t*i.direction+c,a,i);n.timeout=n.el&&setTimeout(e,~~(1e3/d))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,r){function s(t,n){return o(e(),{position:"absolute",width:r.scale*(r.length+r.width)+"px",height:r.scale*r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.scale*r.radius+"px,0)",borderRadius:(r.corners*r.scale*r.width>>1)+"px"})}for(var c,d=0,u=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)c=o(e(),{position:"absolute",top:1+~(r.scale*r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&n(r.opacity,r.trail,u+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(c,o(s("#000","0 0 4px #000"),{top:"2px"})),t(i,t(c,s(a(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){c=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var m=o(e("group"),{behavior:"url(#default#VML)"});!i(m,"transform")&&m.adj?function(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}c.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,i){function r(){return o(n("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function s(e,s,l){t(h,t(o(r(),{rotation:360/i.lines*e+"deg",left:~~s}),t(o(n("roundrect",{arcsize:i.corners}),{width:c,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:l}),n("fill",{color:a(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.scale*(i.length+i.width),d=2*i.scale*c,u=-(i.width+i.length)*i.scale*2+"px",h=o(r(),{position:"absolute",top:u,left:u});if(i.shadow)for(l=1;l<=i.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)s(l);return t(e,h)},s.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=(o=(o=o.childNodes[t+i])&&o.firstChild)&&o.firstChild)&&(o.opacity=n)}}():l=i(m,"animation")}return s}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(1),r=n(2);!function(e){e[e.active=0]="active",e[e.deactivating=1]="deactivating",e[e.deactive=2]="deactive"}(i=t.ANDROID_VK_MODE||(t.ANDROID_VK_MODE={}));var a=function(){var e=this;this.eventObserver=null,this.docInfo=null,this.eventBind=function(t){if(e.eventObserver=t,r.Browser.instance.isIOS)o(window).on("orientationchange",(function(){e.eventObserver.resizeWindow.notify()}));else{var n;o(window).on("resize",(function(){clearTimeout(n),n=setTimeout(a,100)}));var a=function(){e.eventObserver.resizeWindow.notify()}}if(r.Browser.instance.isMobile&&(o(window).on("orientationchange",(function(t){e.eventObserver.orientationchange.notify(t)})),r.Browser.instance.isAndroid)){var s=null;o(document.body).on("focus","textarea, input",(function(){clearTimeout(s),e.eventObserver.androidVirtualKeyboard.notify(i.active)})).on("blur","textarea, input",(function(){e.eventObserver.androidVirtualKeyboard.notify(i.deactivating),s=setTimeout((function(){e.eventObserver.androidVirtualKeyboard.notify(i.deactive)}),500)}))}},this.preventCopy=function(){o(document.body).on("contextmenu",(function(){return!1}))},this.preventDragSelect=function(){o(document.body).on("dragstart",(function(){return!1})),o(document.body).on("selectstart",(function(e){return"page__input"===e.target.id||"urlArea"===e.target.id||!(!window.localSynap.config.search&&!window.localSynap.config.useAnnotation||"text"!==e.target.className)}))},this.load=function(e,t){this.docInfo=e,this.eventBind(t),!1===window.localSynap.config.allowCopy?(this.preventDragSelect(),this.preventCopy()):this.preventDragSelect()}};t.WindowEvent=a},,,,function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(3),s=n(29),l=n(1),c=n(35),d=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.defaultSheetTabWidth=115,this.maxPage=null,this.showSheetTabIdx=0,this.startTabIdx=0,this.endTabIdx=null,this.sheetTabEventBind=function(){l(document).on("click",(function(e){l("#tablist-popup").has(e.target).length||"tabmore"===e.target.id||"tabmore"===e.target.parentElement.id||l("#tablist-popup").hide(),"header-tablist__input"!==e.target.id&&"cell-select-arrow-img"!==e.target.id&&"cell-select-arrow"!==e.target.id&&l("#tab-content").hide()})),a.Util.bindClickOrTouchEvent(l("#tabmore"),"tabmore--hover",e.sheetTabPopup),a.Util.bindClickOrTouchEvent(l("#sheet-prev"),"sheet-move--hover",e.moveSheetTab),a.Util.bindClickOrTouchEvent(l("#sheet-next"),"sheet-move--hover",e.moveSheetTab);for(var t=r.Browser.instance.isIOS,n=0;n<e.maxPage;n++)l("#sheet"+n).on("click",e.moveSheetEvent),l("#tablist"+n).on("click",e.moveSheetEvent),!t&&l("#mobileTablist"+n).on("click",(function(t){e.moveSheetEvent(t),e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC)}));t?(l("#header-tablist__input, #cell-select-arrow").on("click",(function(){document.getElementById("header-tablist__select").focus()})),document.getElementById("header-tablist__select").addEventListener("change",(function(){e.eventObserver.sheet.notify(document.getElementById("header-tablist__select").selectedIndex),e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC)}))):l("#header-tablist__input, #cell-select-arrow").on("click",(function(){if(l("#tab-content").toggle(),!l("#tab-content").is(":hidden")){var t=a.Util.isHtmlSkin(e.docInfo)?a.Util.getHeadScale(".wrap__header__container"):1;l("#tab-scroll-blind__ul").scrollTop((l("#mobileTablist"+e.docInfo.currentSheet).position().top-l("#mobileTablist0").position().top)/t),l(".tab-scroll-blind__li").removeClass("tab-scroll-blind--focus"),l("#mobileTablist"+e.docInfo.currentSheet).addClass("tab-scroll-blind--focus")}}))},this.createSheetTab=function(t){return i(e,void 0,void 0,(function(){var e,n,i,a,s,c,d,u,h,m,f,p,g;return o(this,(function(o){switch(o.label){case 0:e=document.body.clientWidth,this.showSheetTabIdx=Math.floor((e-this.defaultSheetTabWidth)/60),n=document.createDocumentFragment(),i=document.createDocumentFragment(),(a=document.createElement("ul")).id="tablist-popup__ul",a.className="tablist-popup__ul",s=r.Browser.instance.isIOS,g=0,o.label=1;case 1:return g<this.maxPage?[4,this.getTitle(t.contextPath,t.status.id,g)]:[3,4];case 2:c=o.sent(),""===(d=c)&&(d="Sheet "+(g+1)),(u=document.createElement("div")).id="sheet"+g,u.className="sheet-list__sheet-tab",u.title=d,u.textContent=d,u.setAttribute("data-index",g.toString()),n.appendChild(u),(h=document.createElement("li")).id="tablist"+g,h.className="tablist-popup__li",h.title=d,h.textContent=d,h.setAttribute("data-index",g.toString()),a.appendChild(h),s?((m=document.createElement("option")).id="mobileTablist"+g,m.value=g,m.innerHTML=d,i.appendChild(m)):((f=document.createElement("li")).id="mobileTablist"+g,f.className="tab-scroll-blind__li",f.title=d,f.textContent=d,f.setAttribute("data-index",g.toString()),i.appendChild(f)),o.label=3;case 3:return g++,[3,1];case 4:for(document.getElementById("sheet-list").appendChild(n),document.getElementById("sheet-content").appendChild(a),s?((p=document.createElement("select")).id="header-tablist__select",p.className="header-tablist__select",p.appendChild(i),document.getElementById("header-tablist").appendChild(p)):document.getElementById("tab-scroll-blind__ul").appendChild(i),g=0;g<this.maxPage;g++)g>=this.showSheetTabIdx&&l("#sheet"+g).hide();return this.endTabIdx=this.showSheetTabIdx,[2]}}))}))},this.sheetTabPopup=function(t){l("#tablist-popup").toggle(),l("#sheet-arrow").css("top",l("#sheet-content").height()+20),l("#sheet-content").is(":hidden")||(l("#tablist-popup__ul").scrollTop(l("#tablist"+e.docInfo.currentSheet).position().top-l("#tablist0").position().top),l(".tablist-popup__li").removeClass("tablist-popup--focus"),l("#tablist"+e.docInfo.currentSheet).addClass("tablist-popup--focus"))},this.moveSheetEvent=function(t){var n=parseInt(t.currentTarget.getAttribute("data-index"));e.eventObserver.sheet.notify(n)},this.moveSheet=function(t){-1!==e.validCheckSheet(t)&&e.docInfo.currentSheet!==t&&(e.loadSheet(t),e.sheetTabActive(t))},this.validCheckSheet=function(t){if(t<0||t>=e.maxPage)return-1;if(!l("#sheet"+t).is(":visible")){if(t>=e.startTabIdx){for(var n=t-e.showSheetTabIdx,i=0;i<=n;i++)l("#sheet"+(i+e.showSheetTabIdx)).show(),l("#sheet"+i).hide();e.startTabIdx=n+1,e.endTabIdx=n+e.showSheetTabIdx}else{for(i=t;i<e.docInfo.currentSheet;i++)l("#sheet"+i).is(":visible")||l("#sheet"+i).show();var o=t+e.showSheetTabIdx;for(i=o;i<e.maxPage;i++)l("#sheet"+i).is(":visible")&&l("#sheet"+i).hide();e.startTabIdx=t,e.endTabIdx=o}l("#sheet"+t).show()}},this.moveSheetTab=function(t){var n;n="sheet-next"===t.target.parentElement.id||"sheet-next"===t.target.id?e.docInfo.currentSheet+1:e.docInfo.currentSheet-1,e.eventObserver.sheet.notify(n)},this.sheetTabActive=function(e){l(".sheet-list__sheet-tab").removeClass("sheet-list__sheet-tab--on"),l("#sheet"+e).addClass("sheet-list__sheet-tab--on"),document.getElementById("header-tablist__input").textContent=l("#mobileTablist"+e).text(),r.Browser.instance.isIOS&&l("#header-tablist__select option:eq("+e+")").prop("selected",!0),l("#tablist-popup").hide()},this.loadSheetTab=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.createSheetTab(this.docInfo)];case 1:return e.sent(),l("#container").addClass("wrap__container--cell"),l("#footer").addClass("wrap__footer--cell"),this.showSheetTabIdx<this.maxPage&&l(".sheet-move").css("display","inline-block"),document.getElementById("header-tablist__input").textContent=l("#sheet0").text(),l("#header-tablist").addClass("cell-mobile"),l("#sheet"+t).addClass("sheet-list__sheet-tab--on"),this.sheetTabEventBind(),[2]}}))}))},this.checkMoveControlbar=function(){0===e.docInfo.currentSheet?(l("#cell-first").removeClass("controlbar--enable"),l("#cell-first").removeClass("controlbar-first--hover"),l("#cell-first").prop("disabled",!0),l("#cell-prev").removeClass("controlbar--enable"),l("#cell-prev").removeClass("controlbar-prev--hover"),l("#cell-prev").prop("disabled",!0)):(l("#cell-first").addClass("controlbar--enable"),l("#cell-first").prop("disabled",!1),l("#cell-prev").addClass("controlbar--enable"),l("#cell-prev").prop("disabled",!1)),e.docInfo.currentSheet===e.maxPage-1?(l("#cell-end").removeClass("controlbar--enable"),l("#cell-end").removeClass("controlbar-end--hover"),l("#cell-end").prop("disabled",!0),l("#cell-next").removeClass("controlbar--enable"),l("#cell-next").removeClass("controlbar-next--hover"),l("#cell-next").prop("disabled",!0)):(l("#cell-end").addClass("controlbar--enable"),l("#cell-end").prop("disabled",!1),l("#cell-next").addClass("controlbar--enable"),l("#cell-next").prop("disabled",!1))},this.fullScreen=function(t){"cell"===t.skinType&&(t.isFullScreen?(document.getElementById("sheetdialog").style.display="none",l(document.body).addClass("wrap__contents--cell-fullscreen"),t.isSupport||(l(".wrap__header").addClass("wrap__header--presentation"),l(".wrap__footer").addClass("wrap__footer--presentation")),l("#container").addClass("wrap__container--presentation"),l("#container").removeClass("wrap__container--cell"),l("#contents").addClass("wrap__contents--cell-fullscreen")):(document.getElementById("sheetdialog").style.display="",l(document.body).removeClass("wrap__contents--cell-fullscreen"),e.eventObserver.bgColor.notify(c.Head.bgColorMode),t.isSupport||(l(".wrap__header").removeClass("wrap__header--presentation"),l(".wrap__footer").removeClass("wrap__footer--presentation")),l("#container").removeClass("wrap__container--presentation"),l("#container").addClass("wrap__container--cell"),l("#contents").removeClass("wrap__contents--cell-fullscreen"),a.Util.isMobileMode(e.docInfo.status.convertType)&&e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC)))},this.sheetTabResize=function(){var t=document.body.clientWidth,n=Math.floor((t-e.defaultSheetTabWidth)/60);if(n>=e.maxPage)return l(".sheet-move").hide(),l(".sheet-list__sheet-tab").removeAttr("style"),void(e.showSheetTabIdx=e.maxPage);if(n!==e.showSheetTabIdx){if(l(".sheet-move").css("display","inline-block"),n>e.showSheetTabIdx){var i=e.startTabIdx+n;if(e.maxPage>=i)for(var o=e.startTabIdx;o<i;o++)l("#sheet"+o).show();else{for(a=(a=e.startTabIdx-i)-e.maxPage<0?a+e.maxPage:a-e.maxPage,o=e.startTabIdx;o>=a;o--)l("#sheet"+o).show();e.startTabIdx=a}}else if(n<e.showSheetTabIdx){var r=e.startTabIdx+n-1;if(e.docInfo.currentSheet>=r){var a;for(o=a=e.showSheetTabIdx-n+e.startTabIdx;o>=0;o--)l("#sheet"+o).hide();e.startTabIdx=a}else{var s=e.startTabIdx+n;for(o=s;o<=e.maxPage;o++)l("#sheet"+o).hide();e.endTabIdx=s}}e.showSheetTabIdx=n}},this.toggleMobileHeader=function(){a.Util.isMobileMode(e.docInfo.status.convertType)&&!a.Util.isFullScreen()&&("none"===l(".wrap__header").css("display")?e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC):e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE))}};t.Sheet=d}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),r=n(2),a=n(14);!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(i=t.SWIPE_DIRECTION||(t.SWIPE_DIRECTION={}));var s=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.isGenTouchStart=!1,this.isGenTouchMove=!1,this.isGenMultiTouch=!1,this.touchInfo={type:null,x:-1,y:-1,time:0},this.doubleTapThreshold=30,this.doubleTapInterval=500,this.singleTapInterval=550,this.swipeThreshold=50,this.swipeInterval=3e3,this.multiTouchInterval=1e3,this.onTouchStart=function(t){t.targetTouches.length>=2?e.isGenMultiTouch=!0:(e.isGenTouchStart=!0,e.startX=t.changedTouches[0].pageX,e.startY=t.changedTouches[0].pageY,e.startTime=t.timeStamp)},this.onTouchMove=function(t){!e.isGenTouchStart||t.targetTouches.length>=2?e.isGenMultiTouch=!0:e.isGenTouchMove=!0},this.onTouchEnd=function(t){if(e.isGenMultiTouch)return clearTimeout(e.multiTouchTimer),void(e.multiTouchTimer=setTimeout((function(){e.isGenMultiTouch=!1}),e.multiTouchInterval));e.isDoubleTapEvent(t)?e.doubleTapEvent(t):e.isSingleTapEvent(t)?e.singleTapEvent(t):"cell"!==e.docInfo.skinType&&o.Util.isFullScreen()&&a.Page.RESIZE_OBJ.type===a.RESIZE_TYPE.PageFit&&!o.Util.isHtmlWordSkin(e.docInfo)&&e.isSwipeEvent(t)?e.swipeEvent(t):e.touchInfo.type=null,e.isGenTouchStart=!1,e.isGenTouchMove=!1},this.isSingleTapEvent=function(t){return!e.touchInfo.type&&e.isGenTouchStart&&!e.isGenTouchMove},this.singleTapEvent=function(t){e.touchInfo.type="tap",e.touchInfo.x=t.changedTouches[0].pageX,e.touchInfo.y=t.changedTouches[0].pageY,e.touchInfo.time=t.timeStamp,e.singleTapTimer=setTimeout((function(){e.touchInfo.type=null,o.Util.isFullScreen()?e.eventObserver.fullscreenSingleTap.notify():e.eventObserver.singleTap.notify()}),e.singleTapInterval)},this.isDoubleTapEvent=function(t){return"tap"===e.touchInfo.type&&e.isGenTouchStart&&!e.isGenTouchMove&&t.timeStamp-e.touchInfo.time<=e.doubleTapInterval&&Math.abs(e.touchInfo.x-t.changedTouches[0].pageX)<=e.doubleTapThreshold&&Math.abs(e.touchInfo.y-t.changedTouches[0].pageY)<=e.doubleTapThreshold},this.doubleTapEvent=function(t){clearTimeout(e.singleTapTimer),e.touchInfo.type=null,e.eventObserver.doubleTap.notify(t),t.preventDefault(),t.stopImmediatePropagation()},this.isSwipeEvent=function(t){return!1!==(!e.touchInfo.type&&e.isGenTouchStart&&e.isGenTouchMove&&t.timeStamp-e.startTime<=e.swipeInterval)&&(e.distX=t.changedTouches[0].pageX-e.startX,e.distY=t.changedTouches[0].pageY-e.startY,e.dist=Math.sqrt(Math.pow(e.distX,2)+Math.pow(e.distY,2)),e.dist>=e.swipeThreshold)},this.swipeEvent=function(t){var n,o=180*Math.atan2(-e.distY,e.distX)/Math.PI;o>=45&&o<=135?n=i.UP:o<45&&o>-45?n=i.RIGHT:o<=-45&&o>=-135?n=i.DOWN:(o<-135&&o>=-180||o>135&&o<=180)&&(n=i.LEFT),e.eventObserver.swipe.notify(n),t.preventDefault(),t.stopImmediatePropagation()},this.touchEventBind=function(){var t="cell"===e.docInfo.skinType?"contents":"contents-area",n=document.getElementById(t),i={passive:!r.Browser.instance.isIOS};n.addEventListener("touchstart",e.onTouchStart,i),n.addEventListener("touchmove",e.onTouchMove,i),n.addEventListener("touchend",e.onTouchEnd,i)},this.preventCopy=function(){r.Browser.instance.isIOS&&(document.getElementById("wrap").className=document.getElementById("wrap").className+" notAllowCopyForIOS",r.Browser.instance.version>=9&&document.body.addEventListener("touchforcechange",(function(e){if(e.changedTouches[0].force>=.1)return e.preventDefault(),!1})))},this.load=function(e,t){this.docInfo=e,this.eventObserver=t,this.touchEventBind(),!1===window.localSynap.config.allowCopy&&this.preventCopy()}};t.MobileEvent=s},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a,s=n(1),l=n(3),c=n(195),d=n(2),u=n(14);!function(e){e.FILENAME="fileName",e.FILETYPE="fileType",e.FILESIZE="fileSize",e.NULL="null"}(r=t.SORTING_FIELD||(t.SORTING_FIELD={})),function(e){e[e.ASEC=0]="ASEC",e[e.DESC=1]="DESC",e[e.NULL=2]="NULL"}(a=t.SORTING_STATUS||(t.SORTING_STATUS={}));var h=function(e,t,n,h,m,f){var p=this;this.pathList=[],this.currentPathListIdx=0,this.selectedFilePath=null,this.totalPathWidth=parseInt(window.getComputedStyle(document.getElementById("fileExplorer-path__filePath")).width),this.maxFileNamePx=94,this.viewMode=u.VIEW_MODE.desktop,this.isDown=!1,this.childFolderList=[],this.childFileList=[],this.fileExtMap={},this.createFileExplorer=function(){var e;p.pathList.push(p.currentTree),document.getElementById("archiveFileName").textContent=""+p.fileTree.fileName,document.getElementById("archiveFileName").title=""+p.fileTree.fileName,p.createCurrentPath(p.pathList),e=p.devideToFolderAndFileList(p.fileTree.children),p.childFolderList=e[0],p.childFileList=e[1],p.currentTree.childSort.sortingStatus=a.ASEC,p.currentTree.childSort.sortingField=r.FILENAME,p.fileTreeSort(),p.setFileTreeSortArrow(),p.currentTree.children=[],p.currentTree.children=p.childFolderList.concat(p.childFileList),p.jqFileTreeFolderList.append(p.createFileTreeList(p.childFolderList)),p.jqFileTreeFileList.append(p.createFileTreeList(p.childFileList)),p.jqFolderTree.append(p.createFolderTreeList([p.fileTree]));var t=document.getElementsByClassName("fileExplorer-folderTree-div")[0];s(t).append(p.createFolderTreeList(p.childFolderList)),t.getElementsByClassName("fileExplorer-folderTree-div__name")[0].className+=" fileExplorer-folderTree-div__name--selected",p.allCountElm.textContent=p.fileTree.children.length},this.createCurrentPath=function(e){var t=s(".fileExplorer-path__filePath");t.empty();var n=0;n-=10;for(var i=0,o=p.currentPathListIdx;o>=0;o--){var r=s("<div/>",{class:"fileExplorer-path__filePath-name",id:"filePath"+i,text:e[o].fileName,title:e[o].fileName,"data-index":o});t.children().length>0?s(r).insertBefore("#arrow"+(i-1)):t.append(r);var a=Math.ceil(document.getElementById("filePath"+i).offsetWidth);if((n+=(a=a>p.maxFileNamePx?p.maxFileNamePx:a)+10)>p.totalPathWidth){s("#filePath"+i).remove(),s("#arrow"+(i-1)).remove();break}if(0!==o){var l=s("<div/>",{class:"fileExplorer-path__filePath-arrow",id:"arrow"+i});s(l).insertBefore("#filePath"+i)}i+=1}0===p.currentPathListIdx?(p.jqPrevBtn.addClass("fileExplorer-path__prevBtn--deactivate"),p.jqPrevBtn.prop("disabled",!0)):(p.jqPrevBtn.removeClass("fileExplorer-path__prevBtn--deactivate"),p.jqPrevBtn.prop("disabled",!1)),p.currentPathListIdx===p.pathList.length-1?(p.jqNextBtn.addClass("fileExplorer-path__nextBtn--deactivate"),p.jqNextBtn.prop("disabled",!0)):(p.jqNextBtn.removeClass("fileExplorer-path__nextBtn--deactivate"),p.jqNextBtn.prop("disabled",!1))},this.createFileTreeList=function(e){for(var t=document.createDocumentFragment(),n=0,i=e;n<i.length;n++){var o=i[n],r=document.createElement("div");r.className="fileExplorer-fileTree-list__div";var a=document.createElement("div");a.className="fileExplorer-fileTree-list__div-icon";var s=void 0;s=o.directory?"fileExplorer-folder-icon":p.fileExtMap[o.fileType]?p.fileExtMap[o.fileType]:p.fileExtMap.default,a.className=a.className+" "+s;var c=document.createElement("div");c.className="fileExplorer-fileTree-list__div-name",c.textContent=o.fileName,c.title=o.fileName;var d=document.createElement("div");d.className="fileExplorer-fileTree-list__div-size",d.textContent="("+l.Util.getSize(o.fileSize,o.directory)+")";var u=document.createElement("div");u.className="fileExplorer-fileTree-list__space";var h=document.createElement("div");h.className="fileExplorer-fileTree-list__div-path",h.textContent=o.filePath,r.appendChild(a),r.appendChild(c),r.appendChild(d),r.appendChild(u),r.appendChild(h),t.appendChild(r)}return t},this.createFolderTreeList=function(e){var t=document.createDocumentFragment(),n=document.createElement("div");n.className="group";for(var i=0,o=e;i<o.length;i++){var r=o[i],a=document.createElement("div");a.className="fileExplorer-folderTree-div";var s=document.createElement("div");s.className="fileExplorer-folderTreeLine-div",s.id=r.filePath;var l=document.createElement("div");l.className="fileExplorer-folderTree-div__arrow fileExplorer-folderTree-div__arrow--hidden";for(var c=0,d=r.children;c<d.length;c++)if(!0===d[c].directory){l.className=" fileExplorer-folderTree-div__arrow";break}var u=document.createElement("div");u.className="fileExplorer-folderTree-div__folder 'fileExplorer-folder-icon'";var h=document.createElement("div");h.className="fileExplorer-folderTree-div__name",h.textContent=r.fileName,h.title=r.fileName;var m=document.createElement("div");m.className="fileExplorer-folderTree-div__space",s.appendChild(l),s.appendChild(u),s.appendChild(h),s.appendChild(m),a.appendChild(s),n.appendChild(a),t.appendChild(n)}return t},this.updateTree=function(){var e;p.selectedFilePath=null,p.allCountElm.textContent=p.currentTree.children.length,s(".fileExplorer-folderTree-div__name--selected").removeClass("fileExplorer-folderTree-div__name--selected"),e=p.devideToFolderAndFileList(p.currentTree.children),p.childFolderList=e[0],p.childFileList=e[1];var t=document.getElementById(p.currentTree.filePath);0===t.parentElement.getElementsByClassName("fileExplorer-folderTree-div").length&&(t.parentElement.appendChild(p.createFolderTreeList(p.childFolderList)),t.getElementsByClassName("fileExplorer-folderTree-div__arrow")[0].className+=" folderExplorer-arrow-down");for(var n=null===t.parentElement.getElementsByClassName("group").item(0)?t.parentElement:t.parentElement.getElementsByClassName("group").item(0),i=[];"fileExplorer-folderTree"!==n.id;)"none"===n.style.display&&i.push(n),n=n.parentElement;if(i)for(var o=0,c=i;o<c.length;o++){var d=c[o];d.parentElement.getElementsByClassName("fileExplorer-folderTreeLine-div").item(0).getElementsByClassName("fileExplorer-folderTree-div__arrow").item(0).className+=" folderExplorer-arrow-down",s(d).show()}var u=t.getElementsByClassName("fileExplorer-folderTree-div__name")[0];s(u).hasClass("fileExplorer-folderTree-div__name--selected")||(u.className+=" fileExplorer-folderTree-div__name--selected"),p.currentTree.childSort.sortingStatus===a.NULL&&(p.currentTree.childSort.sortingField=r.FILENAME,p.currentTree.childSort.sortingStatus=a.ASEC,p.fileTreeSort(),p.currentTree.children=[],p.currentTree.children=p.childFolderList.concat(p.childFileList)),p.setFileTreeSortArrow(),p.jqFileTreeFolderList.empty(),p.jqFileTreeFileList.empty(),p.jqFileTreeFolderList.append(p.createFileTreeList(p.childFolderList)),p.jqFileTreeFileList.append(p.createFileTreeList(p.childFileList)),p.createCurrentPath(p.pathList),l.Util.isMobileMode(p.convertType)&&p.setArchiveFileNameWidth()},this.filePathPrevBtnEventBind=function(){s(".fileExplorer-path__prevBtn").on(d.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){s(e.target).prop("disabled")||s(e.target).addClass("fileExplorer-path__prevBtn--hover")})).on(d.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||s(e.target).removeClass("fileExplorer-path__prevBtn--hover"),"click"===e.type&&(s(e.target).prop("disabled")||p.currentPathListIdx>0&&(p.currentPathListIdx-=1,p.currentTree=p.pathList[p.currentPathListIdx],p.updateTree()))}))},this.filePathNextBtnEventBind=function(){s(".fileExplorer-path__nextBtn").on(d.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){s(e.target).prop("disabled")||s(e.target).addClass("fileExplorer-path__nextBtn--hover")})).on(d.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||s(e.target).removeClass("fileExplorer-path__nextBtn--hover"),"click"===e.type&&(s(e.target).prop("disabled")||p.currentPathListIdx<p.pathList.length-1&&(p.currentPathListIdx+=1,p.currentTree=p.pathList[p.currentPathListIdx],p.updateTree()))}))},this.filePathEventBind=function(){s(".fileExplorer-path__filePath").on(d.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){e.target.className.indexOf("fileExplorer-path__filePath-name")>-1&&s(e.target).addClass("fileExplorer-path__filePath-name--hover")})).on(d.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||e.target.className.indexOf("fileExplorer-path__filePath-name")>-1&&s(e.target).removeClass("fileExplorer-path__filePath-name--hover"),"click"===e.type&&(p.currentPathListIdx=parseInt(e.target.getAttribute("data-index")),p.currentTree=p.pathList[p.currentPathListIdx],p.updateTree())}))},this.fileTreeSortDivEventBind=function(){p.jqFileTreeSortDiv.on(d.Browser.instance.isMobile?"touchstart":"mouseover",(function(e){var t=e.target.className.indexOf("fileExplorer-fileTree-sort__div-arrow")>-1||e.target.className.indexOf("fileExplorer-fileTree-sort__div-type")>-1?e.target.parentElement:e.target.className.indexOf("fileExplorer-fileTree-sort__div")>-1?e.target:null;t.className.indexOf("fileExplorer-fileTree-sort__div")>-1&&(t.className+=" fileExplorer-fileTree-sort__div--hover")})).on(d.Browser.instance.isMobile?"touchend click":"mouseout click",(function(e){"touchend"!==e.type&&"mouseout"!==e.type||s(".fileExplorer-fileTree-sort__div--hover").removeClass("fileExplorer-fileTree-sort__div--hover")})),p.jqFileTreeSort.on("click",(function(e){p.fileTreeSortDivClick(e)}))},this.fileTreeSortDivClick=function(e){var t=e.target.className.indexOf("fileExplorer-fileTree-sort__div-arrow")>-1||e.target.className.indexOf("fileExplorer-fileTree-sort__div-type")>-1?e.target.parentElement:e.target.className.indexOf("fileExplorer-fileTree-sort__div")>-1?e.target:null;if(null!==t){var n=null;if("fileExplorer-fileTree-sort__div-fileName"===t.id)n=r.FILENAME;else if("fileExplorer-fileTree-sort__div-fileType"===t.id)n=r.FILETYPE;else{if("fileExplorer-fileTree-sort__div-fileSize"!==t.id)return;n=r.FILESIZE}p.currentTree.childSort.sortingField!==n?p.currentTree.childSort.sortingStatus=a.ASEC:p.currentTree.childSort.sortingStatus=p.currentTree.childSort.sortingStatus===a.ASEC?a.DESC:a.ASEC,p.currentTree.childSort.sortingField=n,p.fileTreeSort(),p.setFileTreeSortArrow(),p.currentTree.children=[],p.currentTree.children=p.childFolderList.concat(p.childFileList),p.jqFileTreeFolderList.empty(),p.jqFileTreeFileList.empty(),p.jqFileTreeFolderList.append(p.createFileTreeList(p.childFolderList)),p.jqFileTreeFileList.append(p.createFileTreeList(p.childFileList)),l.Util.isMobileMode(p.convertType)&&p.setArchiveFileNameWidth()}},this.fileTreeSort=function(){var e=p.currentTree.childSort.sortingField;switch(p.currentTree.childSort.sortingStatus){case a.ASEC:p.childFileList.sort((function(t,n){return t[e]<n[e]?-1:t[e]==n[e]?0:1})),p.childFolderList.sort((function(t,n){return t[e]<n[e]?-1:t[e]==n[e]?0:1}));break;case a.DESC:p.childFileList.sort((function(t,n){return n[e]<t[e]?-1:n[e]==t[e]?0:1})),p.childFolderList.sort((function(t,n){return n[e]<t[e]?-1:n[e]==t[e]?0:1}))}},this.setFileTreeSortArrow=function(){s(".fileExplorer-fileTree-sort__div-arrow").css("display","none"),s(".fileTree-sort__div-arrow-down").removeClass("fileTree-sort__div-arrow-down");var e=null;switch(p.currentTree.childSort.sortingField){case r.FILENAME:e=document.getElementById("fileExplorer-fileTree-sort__div-fileName-arrow");break;case r.FILETYPE:e=document.getElementById("fileExplorer-fileTree-sort__div-fileType-arrow");break;case r.FILESIZE:e=document.getElementById("fileExplorer-fileTree-sort__div-fileSize-arrow")}switch(p.currentTree.childSort.sortingStatus){case a.ASEC:e.className="fileExplorer-fileTree-sort__div-arrow";break;case a.DESC:e.className+=" fileTree-sort__div-arrow-down"}e.style.display="inline-block"},this.fileTreeFileListEventBind=function(){p.jqFileTreeFileList.on("click",(function(e){s(".fileExplorer-fileTree-list__div--selected").removeClass("fileExplorer-fileTree-list__div--selected");var t=e.target.parentElement.className.indexOf("fileExplorer-fileTree-fileList")>-1?e.target:e.target.parentElement;t.className+=" fileExplorer-fileTree-list__div--selected",p.selectedFilePath=t.getElementsByClassName("fileExplorer-fileTree-list__div-path")[0].textContent}))},this.fileTreeFolderListEventBind=function(){var e=0;p.jqFileTreeFolderList.on("click",(function(t){var n=(new Date).getTime();e+250>n&&p.fileTreeFolderListDoubleClick(t),e=n}));var t=0;p.jqFileTreeFolderList.on("touchstart",(function(e){var n=(new Date).getTime();t+250>n&&(e.preventDefault(),p.fileTreeFolderListDoubleClick(e)),t=n}))},this.fileTreeFolderListDoubleClick=function(e){p.isDown=!1;var t=e.target.parentElement.className.indexOf("fileExplorer-fileTree-folderList")>-1?e.target:e.target.parentElement,n=p.getCurrentPathTree(t.getElementsByClassName("fileExplorer-fileTree-list__div-path")[0].textContent,p.currentTree.children);p.currentTree=n,p.pushCurrentTree(p.currentTree),p.updateTree()},this.pushCurrentTree=function(e){var t,n=p.pathList.length;for(t=n-1;t>=0;t--){if(null===e.parent&&e===p.pathList[t])return void(p.currentPathListIdx=t);if(p.pathList[t]===e.parent){if(e===p.pathList[t+1])return void(p.currentPathListIdx=t+1);var i;for(i=t+1;i<n;i++)p.pathList.pop();return p.pathList.push(e),void(p.currentPathListIdx=p.pathList.length-1)}}p.pathList=[],p.currentPathListIdx=-1;for(var o=e;null!==o;)p.pathList.unshift(o),p.currentPathListIdx+=1,o=o.parent},this.folderTreeEventBind=function(){p.jqFolderTree.on("click",(function(e){if(e.target.className.indexOf("fileExplorer-folderTree-div__arrow")>-1){if(p.folderTreeArrowClick(e.target),0!==e.target.parentElement.parentElement.getElementsByClassName("group").length)return;if("fileExplorer-folderTree-div__arrow"===e.target.className)return}var t=e.target.className.indexOf("fileExplorer-folderTreeLine-div")<=-1?e.target.parentElement:e.target;if(!(t.className.indexOf("fileExplorer-folderTreeLine-div")<=-1)){var n=p.getCurrentPathTree(t.id,p.fileTree.children);p.currentTree=n,p.pushCurrentTree(p.currentTree),p.updateTree()}}))},this.folderTreeArrowClick=function(e){e.className.indexOf("folderExplorer-arrow-down")>-1?(e.className="fileExplorer-folderTree-div__arrow",s(e.parentElement.parentElement.getElementsByClassName("group").item(0)).hide()):(e.className+=" folderExplorer-arrow-down",s(e.parentElement.parentElement.getElementsByClassName("group").item(0)).show())},this.viewFile=function(e){return i(p,void 0,void 0,(function(){var t,n,i;return o(this,(function(o){switch(o.label){case 0:t=this.contextPath+"/viewArchiveFile/"+this.docId,(n={}).param={filePath:this.selectedFilePath,convertType:this.convertType,convertLocale:this.convLocale},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,l.Util.ajaxCall(t,"POST",n)];case 2:return i=o.sent(),e.location.href=i?this.contextPath+"/view/"+JSON.parse(i).key:this.contextPath+"/exception?convLocale="+this.convLocale,[3,4];case 3:return o.sent(),e.location.href=this.contextPath+"/exception?convLocale="+this.convLocale,[3,4];case 4:return[2]}}))}))},this.viewFileEventBind=function(){s(".fileExplorer-viewerBtn").on("click",(function(){if(p.selectedFilePath){var e=window.open(p.contextPath+"/loading");p.viewFile(e)}}))},this.setFileTreeHeight=function(){s(".fileExplorer").css("height",s("#wrap").height()-parseInt(s(".modal").css("padding-top")));var e=s(".fileExplorer").outerHeight(!0)-s(".fileExplorer-header").outerHeight(!0)-s(".fileExplorer-path").outerHeight(!0)-s(".fileExplorer-viewerBtn").outerHeight(!0);s(".fileExplorer-fileTree").css("height",e),s(".fileExplorer-fileTree-list").css("height",e-s(".fileExplorer-fileTree-sort").outerHeight(!0))},this.setFilePathWidth=function(){var e=s(".fileExplorer").outerWidth(!0)-2*s(".fileExplorer-path__prevBtn").outerWidth(!0)-28;s(".fileExplorer-path__filePath").css("width",e),p.totalPathWidth=e},this.setSortDivWidth=function(){var e=s(".fileExplorer-tree").outerWidth(!0)/3-parseInt(s(".fileExplorer-fileTree-sort__div").css("padding-left"))-parseInt(s(".fileExplorer-fileTree-sort__div").css("padding-right"))-parseInt(s(".fileExplorer-fileTree-sort__div").css("border-right-width"));s(".fileExplorer-fileTree-sort__div").css("width",e)},this.setArchiveFileHeaderWidth=function(){var e=s(".fileExplorer-header").outerWidth(!0)-parseInt(s(".fileExplorer-header").css("padding-right"))-parseInt(s(".fileExplorer-header").css("padding-left"))-parseInt(s(".fileExplorer-header__archiveFileName").css("padding-left"))-parseInt(s(".fileExplorer-header__archiveFileName").css("padding-right"))-s(".fileExplorer-header__closeBtn").outerWidth(!0);s(".fileExplorer-header__archiveFileName").css("width",e)},this.setArchiveFileNameWidth=function(){var e=s(".fileExplorer-tree").outerWidth()-s(".fileExplorer-fileTree-list__div-icon").outerWidth()-parseInt(s(".fileExplorer-fileTree-list__div").css("padding-left"))-parseInt(s(".fileExplorer-fileTree-list__div").css("padding-right"))-parseInt(s(".fileExplorer-fileTree-list__div-icon").css("margin-right"))-parseInt(s(".fileExplorer-fileTree-list__div-name").css("margin-right"))-68;s(".fileExplorer-fileTree-list__div-name").css("max-width",e)},this.resizeEvent=function(){l.Util.isMobileMode(p.convertType)&&p.viewMode!==u.VIEW_MODE.mobile?p.viewMode=u.VIEW_MODE.mobile:l.Util.isMobileMode(p.convertType)||p.viewMode===u.VIEW_MODE.desktop||(p.viewMode=u.VIEW_MODE.desktop,s(".fileExplorer").css("height",""),s(".fileExplorer-fileTree").css("height",""),s(".fileExplorer-fileTree-list").css("height",""),s(".fileExplorer-path__filePath").css("width",""),s(".fileExplorer-fileTree-sort__div").css("width",""),s(".fileExplorer-header__archiveFileName").css("width",""),s(".fileExplorer-fileTree-list__div-name").css("max-width",""),p.totalPathWidth=413),l.Util.isMobileMode(p.convertType)&&(p.setFileTreeHeight(),p.setFilePathWidth(),p.setSortDivWidth(),p.setArchiveFileHeaderWidth(),p.setArchiveFileNameWidth()),p.createCurrentPath(p.pathList)},this.resizeEventBind=function(){var e;s(window).on("resize",(function(){clearTimeout(e),e=setTimeout(p.resizeEvent,20)}))},this.closeEventBind=function(){s(".fileExplorer-header__closeBtn").on("click",(function(){self.close()}))},this.devideToFolderAndFileList=function(e){for(var t=[],n=[],i=0,o=e;i<o.length;i++){var r=o[i];!0===r.directory?t.push(l.Util.clone(r)):n.push(l.Util.clone(r))}return[t,n]},this.getCurrentPathTree=function(e,t){for(var n=e.replace(/^\/|\/$/g,"").split("/"),i=t,o=null,r=0;r<n.length;r++)for(var a=0;a<i.length;a++)if(i[a].fileName===n[r]){o=i[a],i=i[a].children;break}return null===o?p.fileTree:o},this.preventDragSelect=function(){p.jqFileExplorer.on("dragstart",(function(){return!1})),p.jqFileExplorer.on("selectstart",(function(){return!1}))},this.eventBind=function(){p.filePathEventBind(),p.fileTreeFileListEventBind(),p.fileTreeFolderListEventBind(),p.folderTreeEventBind(),p.preventDragSelect(),p.viewFileEventBind(),p.resizeEventBind(),p.closeEventBind(),p.filePathPrevBtnEventBind(),p.filePathNextBtnEventBind(),p.fileTreeSortDivEventBind()},this.archiveFileViewDialog=function(){p.eventBind(),p.jqFileExplorer.show(),p.jqModal.show(),l.Util.isMobileMode(p.convertType)&&(p.setFileTreeHeight(),p.setFilePathWidth(),p.setSortDivWidth(),p.setArchiveFileHeaderWidth(),p.setArchiveFileNameWidth()),d.Browser.instance.isMobile&&s(".fileExplorer-header__closeBtn").hide()},this.hasChildDirectory=function(){return p.currentTree.children.reduce((function(e,t){return!(e||!t.directory)||e}),!1)},this.contextPath=n,this.docId=h,this.convertType=m,this.convLocale=f,this.fileTree=new c.ZipTree(e,t).getZipTree(),this.currentTree=this.fileTree,this.jqModal=s(".modal"),this.jqFileExplorer=s(".fileExplorer"),this.jqFolderTree=s("#fileExplorer-folderTree"),this.jqFileTree=s(".fileExplorer-fileTree"),this.jqFileTreeFolderList=s(".fileExplorer-fileTree-folderList"),this.jqFileTreeFileList=s(".fileExplorer-fileTree-fileList"),this.jqFileTreeFolderAndFileList=s(".fileExplorer-fileTree-folderList, .fileExplorer-fileTree-fileList"),this.allCountElm=document.getElementById("fileExplorer-allCount__num"),this.jqPrevBtn=s(".fileExplorer-path__prevBtn"),this.jqNextBtn=s(".fileExplorer-path__nextBtn"),this.jqFileTreeSort=s(".fileExplorer-fileTree-sort"),this.jqFileTreeSortDiv=s(".fileExplorer-fileTree-sort__div"),this.fileExtMap.xls="fileExplorer-cell-icon",this.fileExtMap.xlsx="fileExplorer-cell-icon",this.fileExtMap.csv="fileExplorer-cell-icon",this.fileExtMap.nxls="fileExplorer-cell-icon",this.fileExtMap.ppt="fileExplorer-slide-icon",this.fileExtMap.pptx="fileExplorer-slide-icon",this.fileExtMap.nppt="fileExplorer-slide-icon",this.fileExtMap.doc="fileExplorer-word-icon",this.fileExtMap.docx="fileExplorer-word-icon",this.fileExtMap.ndoc="fileExplorer-word-icon",this.fileExtMap.hwp="fileExplorer-hwp-icon",this.fileExtMap.hml="fileExplorer-hwp-icon",this.fileExtMap.odt="fileExplorer-odt-icon",this.fileExtMap.pdf="fileExplorer-pdf-icon",this.fileExtMap.bmp="fileExplorer-img-icon",this.fileExtMap.gif="fileExplorer-img-icon",this.fileExtMap.jpg="fileExplorer-img-icon",this.fileExtMap.jpeg="fileExplorer-img-icon",this.fileExtMap.png="fileExplorer-img-icon",this.fileExtMap.pbm="fileExplorer-img-icon",this.fileExtMap.tif="fileExplorer-img-icon",this.fileExtMap.tiff="fileExplorer-img-icon",this.fileExtMap.txt="fileExplorer-txt-icon",this.fileExtMap.htm="fileExplorer-txt-icon",this.fileExtMap.html="fileExplorer-txt-icon",this.fileExtMap.xml="fileExplorer-txt-icon",this.fileExtMap.zip="fileExplorer-zip-icon",this.fileExtMap.default="fileExplorer-nosupport-icon",this.createFileExplorer(),this.hasChildDirectory()&&(document.getElementsByClassName("fileExplorer-folderTree-div__arrow")[0].className="fileExplorer-folderTree-div__arrow folderExplorer-arrow-down")};t.FileExplorer=h}).call(this,n(6))},,function(e,t,n){n(115),n(199),n(215),n(218),n(220),e.exports=n(222)},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(49),s=n(196),l={page:new s.Observable,sheet:new s.Observable,resizeWindow:new s.Observable,resizePage:new s.Observable,resizeContents:new s.Observable,fullScreen:new s.Observable,mobileHeader:new s.Observable,mobileHeaderHover:new s.Observable,mobileThumb:new s.Observable,scroll:new s.Observable,singleTap:new s.Observable,fullscreenSingleTap:new s.Observable,doubleTap:new s.Observable,swipe:new s.Observable,bgColor:new s.Observable,moveBtn:new s.Observable,orientationchange:new s.Observable,printbefore:new s.Observable,printafter:new s.Observable,androidVirtualKeyboard:new s.Observable,saveAnnotation:new s.Observable,modifyAnnotation:new s.Observable,loadAnnotation:new s.Observable,searchNext:new s.Observable,searchText:new s.Observable,searchDisplay:new s.Observable,sheetFail:new s.Observable,markerMode:new s.Observable};r((function(){return i(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),[4,new a.Init(l).load()];case 1:return e.sent(),[2]}}))}))}))}).call(this,n(6))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),r=n(27),a=n(29),s=n(31),l=n(2),c=function(e){var t=this;this.eventObserver=null,this.protectedObj=null,this.eventBind=function(e,n){t.docInfo=n,l.Browser.instance.isMobile&&(i("#web-thumbnailbar").addClass("thumbnailbar--touch-expand"),i("#mobile-thumbnailbar").addClass("thumbnailbar--touch-expand")),t.eventObserver=e,t.eventObserver.mobileThumb.subscribe(t.mobileThumb),t.mouseoverEventBind()},this.toggleAction=function(){s.Thumbnail.THUMB_STATUS===s.THUMB_FLAG.off?(s.Thumbnail.THUMB_STATUS=s.THUMB_FLAG.on,t.showThumb(),t.actionMobileThumbBtn(a.ShowActionType.SHOW),t.eventObserver.mobileHeader.notify(a.ShowActionType.SHOW)):(s.Thumbnail.THUMB_STATUS=s.THUMB_FLAG.off,t.hideThumb(),t.actionMobileThumbBtn(a.ShowActionType.HIDE3SEC),t.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC))},this.initThumb=function(){i("#mobile-thumbnailbar").removeClass("mobile-thumbnailbar__img--close"),t.jqThumbnail.css("display",""),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--mobile-on"),document.getElementById("mobile-thumbnailbar").title=r.LocaleMessage.getMessage("icon_thumbnail_close")},this.showThumb=function(){t.jqThumbnail.show(),i("#mobile-thumbnailbar").addClass("mobile-thumbnailbar__img--close"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--mobile-on")},this.hideThumb=function(){t.initThumb(),document.getElementById("mobile-thumbnailbar").title=r.LocaleMessage.getMessage("icon_thumbnail_open")},this.changeMode=function(e){s.Thumbnail.THUMB_STATUS===s.THUMB_FLAG.on?(t.showThumb(),t.actionMobileThumbBtn(a.ShowActionType.SHOW),t.eventObserver.mobileHeader.notify(a.ShowActionType.SHOW)):(t.hideThumb(),t.actionMobileThumbBtn(a.ShowActionType.HIDE3SEC),t.eventObserver.mobileHeader.notify(a.ShowActionType.HIDE3SEC)),t.eventObserver.page.notify({pageNum:e,isScroll:!1}),setTimeout((function(){document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+e).offsetTop-1}),150)},this.mobileThumb=function(e){switch(e){case a.ShowActionType.SHOW:t.jqThumbnail.show(),t.actionMobileThumbBtn(a.ShowActionType.SHOW);break;case a.ShowActionType.HIDE3SEC:case a.ShowActionType.HIDE:t.jqThumbnail.css("display",""),t.actionMobileThumbBtn(e)}},this.mouseoverEventBind=function(){i(".wrap__header").on("mouseover.head",(function(){o.Util.isMobileMode(t.docInfo.status.convertType)&&!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display")&&t.mobileHeaderHover("mouseover")})).on("mouseleave.head",(function(){o.Util.isMobileMode(t.docInfo.status.convertType)&&!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display")&&t.mobileHeaderHover("mouseleave")}))},this.mobileHeaderHover=function(e){if(!o.Util.isFullScreen()&&"none"===t.jqThumbnail.css("display"))switch(e){case"mouseover":t.actionMobileThumbBtn(a.ShowActionType.SHOW),t.jqThumbnailBar.show();break;case"mouseleave":t.actionMobileThumbBtn(a.ShowActionType.HIDE3SEC)}},this.actionMobileThumbBtn=function(e){switch(clearTimeout(t.protectedObj.timer),e){case a.ShowActionType.SHOW:t.jqThumbnailBar.show();break;case a.ShowActionType.HIDE:t.jqThumbnailBar.hide();break;case a.ShowActionType.HIDE3SEC:t.jqThumbnailBar.show(),t.protectedObj.timer=window.setTimeout((function(){t.jqThumbnailBar.hide()}),3e3)}},this.protectedObj=e,this.jqThumbnail=i("#thumbnail"),this.jqThumbnailBar=i("#thumbnailbar")};t.ThumbnailMobile=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(27),r=n(31),a=function(e){var t=this;this.eventObserver=null,this.protectedObj=null,this.eventBind=function(e){t.eventObserver=e,i("#web-thumbnailbar").on("dragstart",(function(){return!1}))},this.toggleAction=function(){r.Thumbnail.THUMB_STATUS===r.THUMB_FLAG.off?(r.Thumbnail.THUMB_STATUS=r.THUMB_FLAG.on,t.showThumb()):(r.Thumbnail.THUMB_STATUS=r.THUMB_FLAG.off,t.hideThumb()),t.eventObserver.resizeContents.notify(),t.eventObserver.resizeWindow.notify()},this.initThumb=function(){t.jqThumbnailButton.removeClass("thumbnail-btn__img--on"),document.getElementById("thumbnailview-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_open"),document.getElementById("thumbnail-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_open"),t.jqThumbnail.removeClass("wrap__thumbnail--on"),t.jqThumbnailBar.removeClass("wrap__thumbnailbar--on"),t.jqContents.removeClass("wrap__contents--thumb-on"),t.jqThumbnail.css({width:"","overflow-y":""}),t.jqThumbnailBar.css("left",""),t.jqContents.css("left","")},this.showThumb=function(){t.jqThumbnailButton.addClass("thumbnail-btn__img--on"),t.jqThumbnail.css("overflow-y","scroll"),t.jqThumbnail.addClass("wrap__thumbnail--on"),t.jqThumbnailBar.addClass("wrap__thumbnailbar--on"),t.jqContents.addClass("wrap__contents--thumb-on"),document.getElementById("thumbnailview-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_close"),document.getElementById("thumbnail-btn").title=o.LocaleMessage.getMessage("icon_thumbnail_close")},this.hideThumb=function(){t.initThumb()},this.changeMode=function(e){clearTimeout(t.protectedObj.timer),t.jqThumbnail.css("display",""),t.jqThumbnailBar.show(),r.Thumbnail.THUMB_STATUS===r.THUMB_FLAG.on?t.showThumb():t.hideThumb(),t.eventObserver.page.notify({pageNum:e,isScroll:!1}),setTimeout((function(){document.getElementById("thumbnail").scrollTop=document.getElementById("thumb-content"+e).offsetTop-1}),150)},this.protectedObj=e,this.jqThumbnail=i("#thumbnail"),this.jqThumbnailButton=i("#thumbnail-btn"),this.jqThumbnailBar=i("#thumbnailbar"),this.jqContents=i("#contents")};t.ThumbnailDesktop=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n(2),r=n(1),a=n(14),s=function(){function e(){var e=this;this.thisUrl=document.location.href,this.isEnabled=!1,this.snsDesktopDialog=function(t){r("#sns-btn__img").addClass("sns-btn__img--on"),e.initSnsDialog(t),t.jqContent.html(""+i.LocaleMessage.getMessage("sns_title")),e.addInputArea(t,!0),e.addSnsArea(t),e.horzCtrAlign(t),t.jqCancelButton.on("click",(function(){e.closeEvent(t)}))},this.snsMobileDialog=function(t){e.initSnsDialog(t),t.jqContent.html(""+i.LocaleMessage.getMessage("sns_title")),e.addSnsArea(t),t.jqDialog.css("width","auto"),e.addInputArea(t,!1),e.horzCtrAlign(t),t.jqCancelButton.on("click",(function(){e.closeEvent(t)}))}}return e.prototype.createDivElement=function(e){var t=document.createElement("div");return t.className=e,t},e.prototype.createAElement=function(e,t,n,i,o){var r=document.createElement("a");return r.href=e,r.id=t,r.className=n,r.title=i,void 0!==o&&(r.onclick=function(){o()}),r},e.prototype.allowAuth=function(e){return!(!window.clipboardData||window.clipboardData.getData("Text")!==e)},e.prototype.clipboardCopy=function(e){if(o.Browser.instance.isIOS){var t=e.contentEditable,n=e.readOnly;e.contentEditable="true",e.readOnly=!1;var r=document.createRange();r.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(r),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=n}else e.focus(),e.select();if(!o.Browser.instance.isIOS||o.Browser.instance.getIOSVersion()>=10)try{!document.execCommand("copy",null,null)||o.Browser.instance.isIE&&!this.allowAuth(e.value)||(o.Browser.instance.isIOS&&e.blur(),alert(""+i.LocaleMessage.getMessage("sns_url_copy_completed")))}catch(e){alert(e)}},e.prototype.sendSns=function(e,t,n){var r=window.localSynap.config.kakaoAPIKey;if(void 0!==r)try{Kakao.init(r)}catch(e){}var a=encodeURIComponent(t),s=encodeURIComponent(n),l=encodeURIComponent("\r\n"),c={};switch(e){case"facebook":c.method="popup",c.url="http://www.facebook.com/sharer/sharer.php?u="+a;break;case"twitter":c.method="popup",c.url="http://twitter.com/intent/tweet?text="+s+"&url="+a;break;case"kakaostory":c.method="popup",c.url="https://story.kakao.com/share?url="+a;break;case"band":o.Browser.instance.isMobile?(c.method="web2app",c.param="bandapp://create/post?text="+s+l+a,c.a_store="itms-apps://itunes.apple.com/app/id542613198",c.g_store="market://details?id=com.nhn.android.band"):(c.method="popup",c.url="http://www.band.us/plugin/share?body="+a);break;case"kakaotalk":try{Kakao.Link.sendDefault({objectType:"text",text:""+i.LocaleMessage.getMessage("view_title"),link:{mobileWebUrl:t,webUrl:t},installTalk:!0})}catch(e){}return!0;default:return!1}switch(c.method){case"popup":window.open(c.url);break;case"web2app":if(o.Browser.instance.isAndroid)if(-1!==o.Browser.instance.getChromeVersion())location.href="intent:"+c.param+"#Intent;package=com.nhn.android.band;end;";else{var d=document.createElement("iframe");d.style.display="none",d.src=c.param,document.body.appendChild(d),document.body.removeChild(d)}else o.Browser.instance.isIOS&&(location.href=c.param)}},e.prototype.initSnsDialog=function(e){e.jqPassword.hide(),e.jqMessage.hide(),r(".dialog-buttons__commit").hide(),r(".dialog-buttons__cancel").show(),e.jqDialog.show(),e.jqModal.show(),this.isEnabled=!0},e.prototype.setUrlAreaWidth=function(){var e=r(".dialog-contents__content__inputArea").width()-r("#urlBtn").innerWidth()-(r("#urlArea").outerWidth()-r("#urlArea").width())-1;r("#urlArea").css("width",e+"px")},e.prototype.addInputArea=function(e,t){var n=this,a=this.createDivElement("dialog-contents__content__inputArea"),s=document.createElement("input");s.type="text",s.id="urlArea",s.className="dialog-contents__content__inputArea__urlArea",s.value=this.thisUrl,s.readOnly=!0;var l=o.Browser.instance.isIOS&&o.Browser.instance.getIOSVersion()<10?""+i.LocaleMessage.getMessage("sns_url_select"):""+i.LocaleMessage.getMessage("sns_url_copy"),c=this.createAElement("#","urlBtn","dialog-contents__content__inputArea__urlBtn",l,(function(){n.clipboardCopy(s)}));c.appendChild(document.createTextNode(l)),a.appendChild(s),a.appendChild(c),e.jqContent.append(a),this.setUrlAreaWidth(),o.Browser.instance.isSafari||o.Browser.instance.isIOS?(r(".dialog-contents__content__inputArea").css("display","table"),r("#urlArea").css("display","table-cell"),r("#urlBtn").css("display","table-cell")):r("#urlBtn").css("vertical-align","sub")},e.prototype.addSnsArea=function(e){for(var t=this,n=this.createDivElement("dialog-contents__content__snsArea"),i=function(i){if("kakaotalk"===i&&(void 0===window.localSynap.config.kakaoAPIKey||""===window.localSynap.config.kakaoAPIKey))return"continue";var r=i,a=o.createAElement("#",r,"dialog-contents__content__snsArea__"+r,r,(function(){t.sendSns(i,t.thisUrl,""),t.closeEvent(e)}));a.title=i,a.className="dialog-contents__content__snsArea__"+r,n.appendChild(a)},o=this,r=0,a=["facebook","twitter","kakaotalk","band"];r<a.length;r++){i(a[r])}e.jqContent.append(n)},e.prototype.closeEvent=function(e){r("#sns-btn__img").removeClass("sns-btn__img--on"),e.jqDialog.css("width",""),this.isEnabled=!1,e.remove()},e.prototype.horzCtrAlign=function(e){var t=document.getElementById("dialog").clientWidth/2;e.jqDialog.css("margin-left","-"+t+"px")},e.prototype.getIsEnabled=function(){return this.isEnabled},e.prototype.resizeDialog=function(e,t){e===a.VIEW_MODE.desktop?(r("#sns-btn__img").addClass("sns-btn__img--on"),t.jqDialog.css("width",""),r("#dialog").css("margin-left","-182px"),r(".dialog-contents__content__snsArea").insertAfter(".dialog-contents__content__inputArea")):(r("#urlArea").css("width","0px"),t.jqDialog.css("width","auto"),this.horzCtrAlign(t),r(".dialog-contents__content__inputArea").insertAfter(".dialog-contents__content__snsArea")),this.setUrlAreaWidth()},e}();t.Sns=s},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(3),s=n(1),l=n(40),c=n(51),d=n(2),u=n(24),h=n(26);!function(e){e[e.TEXT=0]="TEXT",e[e.MEMO=1]="MEMO"}(r||(r={}));var m=function(){var t=this;this.eventObserver=null,this.selectedTextIdListOfPages=[],this.popupWidth=72,this.popupHeight=37,this.colorPickerWidth=175,this.colorPickerHeight=37,this.memoWidth=300,this.memoHeight=200,this.memoIconWidth=10,this.memoIconHeight=9,this.distMemoIconAndText=-2,this.memoCharLimit=512,this.dialog=new h.Dialog,this.annotationPopupBtnClassSelector="annotation-popup__item",this.annotationColorPickerClassSelector="annotation-color-picker__item",this.annotationMemoClassSelector="annotation-th-memo",this.memoDeleteDialogClassSelector="dialog",this.memoDeleteDialogModalClassSelector="modal",this.isNewTexthl=!1,this.isNewMemo=!1,this.idOfLatestClickedEl=null,this.lastTextHlIdx=0,this.lastMemoIdx=0,this.memoList={},this.idsPerPage={},this.IOS_POPUP_DIST=43,this.ANDROID_POPUP_DIST=10,this.MOBILE_FINISH_SELECT_TIME=500,this.DEFAULT_OVERLAP_PERCENT=60,this.CAUTION_WORD_OVERLAP_PERCENT=40,this.TH_CAUTION_SPECIAL_PATTERN=/[,._^'"`]/,this.DEFAULT_HIGHLIGHT_COLOR="ffe500",this.getPageNumFromSelectedTextIdList=function(e){return parseInt(t.selectedTextIdListOfPages[e][0].split("-")[1])+1},this.isSelected=function(){return!!t.selectedTextIdListOfPages.length},this.showAnnotationPopup=function(){var e=t.getPopupRectOfSelectedText(t.popupWidth,t.popupHeight);if(e){var n=document.getElementById("annotation-popup"),i=0;d.Browser.instance.isIOS?i=t.IOS_POPUP_DIST:d.Browser.instance.isAndroid&&(i=t.ANDROID_POPUP_DIST),n.style.cssText="left: "+e.left+"px; top: "+(e.top+i)+"px",a.Util.removeClass(n,"annotation-popup--hide")}},this.hideAnnotationPopup=function(){var e=document.getElementById("annotation-popup");a.Util.addClass(e,"annotation-popup--hide")},this.isShowAnnotationPopup=function(){var e=document.getElementById("annotation-popup");return!a.Util.hasClass(e,"annotation-popup--hide")},this.showAnnotationColorPicker=function(e){var n=e?t.getPopupRect(e,t.colorPickerWidth,t.colorPickerHeight):t.getPopupRectOfSelectedText(t.colorPickerWidth,t.colorPickerHeight);if(n){var i=document.getElementById("annotation-color-picker");i.style.cssText="left: "+n.left+"px; top: "+n.top+"px",a.Util.removeClass(i,"annotation-color-picker--hide")}},this.hideAnnotationColorPicker=function(){var e=document.getElementById("annotation-color-picker");a.Util.addClass(e,"annotation-color-picker--hide")},this.isShowAnnotationColorPicker=function(){var e=document.getElementById("annotation-color-picker");return!a.Util.hasClass(e,"annotation-color-picker--hide")},this.showAnnotationMemo=function(e){var n=e?t.getPopupRect(e,t.memoWidth,t.memoHeight):t.getPopupRectOfSelectedText(t.memoWidth,t.memoHeight);n&&(t.memoEl.style.cssText="left: "+n.left+"px; top: "+n.top+"px",t.showMemoDimmed(),t.showMemoContentCnt(),a.Util.removeClass(t.memoEl,"annotation-th-memo--hide"))},this.hideAnnotationMemo=function(){t.hideMemoDimmed(),a.Util.addClass(t.memoEl,"annotation-th-memo--hide")},this.isShowAnnotationMemo=function(){return!a.Util.hasClass(t.memoEl,"annotation-th-memo--hide")},this.showMemoDimmed=function(){a.Util.removeClass(document.getElementById("th-memo-dimmed"),"th-memo-dimmed--hide")},this.hideMemoDimmed=function(){a.Util.addClass(document.getElementById("th-memo-dimmed"),"th-memo-dimmed--hide")},this.getTextRect=function(e){var t=e.offsetLeft,n=e.offsetTop,i=e.offsetHeight,o=e.offsetWidth,r=e.parentElement,a=r.offsetLeft,s=r.offsetTop,l=r.parentElement,c=l.offsetLeft;return{top:l.offsetTop+s+n,left:c+a+t,h:i,w:o}},this.getPopupRectOfSelectedText=function(e,n){if(!t.isSelected())return null;var i=t.selectedTextIdListOfPages[t.selectedTextIdListOfPages.length-1],o=i[i.length-1],r=document.getElementById(o);return t.getPopupRect(r,e,n)},this.addIdToIdsPerPage=function(e){var n=t.parseId(e).pageNum;t.idsPerPage[n]||(t.idsPerPage[n]={}),t.idsPerPage[n][e]=!0},this.removeIdToIdsPerPage=function(e){var n=t.parseId(e).pageNum;t.idsPerPage[n]&&t.idsPerPage[n][e]&&delete t.idsPerPage[n][e]},this.getPopupRect=function(e,n,i){var o,r=t.getTextRect(e),a=r.top,s=r.left,l=a+r.h,c=s-n/2,u=l+i,h=c+n,m=e.parentElement.parentElement.getBoundingClientRect(),f=m.left,p=m.right,g=Math.abs(f),v=Math.abs(p);if(c<g?c=g:h>v&&(c=v-n),d.Browser.instance.isIOS)o=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight;else{var b=document.getElementById("contents");o=b.scrollTop+b.offsetHeight}return u>o&&(l=o-i),{top:l,left:c}},this.getHighlightType=function(e){switch(e.split("-")[0]){case"texthl":return r.TEXT;case"memohl":return r.MEMO;default:return null}},this.getTextHlId=function(e,n){var i="texthl-"+e+"-"+n+"-"+t.lastTextHlIdx++;return t.addIdToIdsPerPage(i),i},this.getMemoId=function(e,n){var i="memohl-"+e+"-"+n+"-"+t.lastMemoIdx++;return t.addIdToIdsPerPage(i),i},this.parseId=function(e){var t=e.split("-");return{pageNum:parseInt(t[1]),color:t[2]}},this.createMemoIcon=function(e,n){var i=t.getTextRect(e),o=i.left,r=i.top,s=document.createElement("div");s.id=n,s.className="memo-highlight-icon",s.style.cssText="left: "+o+"px; top: "+(r-t.memoIconHeight+t.distMemoIconAndText)+"px",s.setAttribute("text-id",e.id),s.addEventListener("click",(function(i){var o=i.target;a.Util.cancelSelection(),t.hideAnnotationPopup();var r=document.getElementById("annotation-th-memo__content"),s=document.getElementById("annotation-th-memo__author-input");r.value=t.memoList[n].text,s.value=t.memoList[n].author,r.setAttribute("data-memo-id",n),t.showAnnotationMemo(e),t.idOfLatestClickedEl=o.id})),document.getElementById("memo-highlight-icon-list").appendChild(s)},this.addTextHighlightToElement=function(e,n){d.Browser.instance.isIE?a.Util.addClass(e,"text-highlight--"+n):(a.Util.addClass(e,"text-highlight"),e.style.cssText+="--var-th-color: "+t.getBlendColorInHighlightOrder(e)+";")},this.pushToHighlightOrder=function(e,t){var n=JSON.parse(e.getAttribute("data-hl-order"));n.push(t),e.setAttribute("data-hl-order",JSON.stringify(n))},this.removeElementOfHighlightOrder=function(e,t){var n=JSON.parse(e.getAttribute("data-hl-order")),i=n.indexOf(t);return i<0||(n.splice(i,1),e.setAttribute("data-hl-order",JSON.stringify(n))),n},this.getTopElementOfHighlightOrder=function(e){var t=JSON.parse(e.getAttribute("data-hl-order"));return t&&t.length?t[t.length-1]:null},this.getBlendColorInHighlightOrder=function(e){var n=JSON.parse(e.getAttribute("data-hl-order"));if(!n||!n.length)return null;for(var i="#"+t.parseId(n[0]).color,o=1;o<n.length;o++){var r="#"+t.parseId(n[o]).color;i=a.Util.blendColors(i,r,.5)}return i},this.highlightPrevHl=function(e){var n=t.getTopElementOfHighlightOrder(e);if(n){var i=t.getHighlightType(n);if(d.Browser.instance.isIE&&i===r.MEMO)a.Util.addClass(e,"memo-highlight");else{var o=t.parseId(n).color;t.addTextHighlightToElement(e,o)}}},this.addTempHighlightsOfSelectedText=function(){a.Util.cancelSelection();for(var e=0,n=t.selectedTextIdListOfPages;e<n.length;e++)for(var i=0,o=n[e];i<o.length;i++){var r=o[i];a.Util.addClass(document.getElementById(r),"tmp-highlight")}},this.removeTempHighlightsOfSelectedText=function(e){if(void 0===e&&(e=0),!(e>=t.selectedTextIdListOfPages.length))for(var n=e;n<t.selectedTextIdListOfPages.length;n++)for(var i=0,o=t.selectedTextIdListOfPages[n];i<o.length;i++){var r=o[i];t.removeTempHighlight(document.getElementById(r))}},this.removeTempHighlight=function(e){return a.Util.removeClass(e,"tmp-highlight")},this.removeHighlight=function(e){if(e){for(var t=["text-highlight","memo-highlight"],n="",i=0,o=e.className.trim().split(" ");i<o.length;i++){for(var r=o[i],a=!1,s=0,l=t;s<l.length;s++){var c=l[s];if(r.indexOf(c)>-1){a=!0;break}}a||(n+=r+" ")}e.className=n.trim(),d.Browser.instance.isIE||e.style.removeProperty("--var-th-color")}},this.handleStartSelect=function(e){var n=e.target;a.Util.hasClassForEventTargetEl(n,t.annotationPopupBtnClassSelector)||a.Util.hasClassForEventTargetEl(n,t.annotationColorPickerClassSelector)||a.Util.hasClassForEventTargetEl(n,t.annotationMemoClassSelector)||a.Util.hasClassForEventTargetEl(n,t.memoDeleteDialogClassSelector)||a.Util.hasClassForEventTargetEl(n,t.memoDeleteDialogModalClassSelector)||(t.removeTempHighlightsOfSelectedText(),a.Util.cancelSelection(),t.hideAnnotationPopup(),t.hideAnnotationColorPicker())},this.handleFinishSelect=function(){if(a.Util.isSelected()){var e=a.Util.getSelectedTextElIdRange();if(e){var n=e.startTextId,i=e.endTextId;l.default.parseTextId(n).pageNum===l.default.parseTextId(i).pageNum?t.renewSelectedTextIdListAboutSinglePage(n,i):t.renewSelectedTextIdListAboutMultiplePages(n,i),t.showAnnotationPopup()}else t.hideAnnotationPopup()}},this.renewSelectedTextIdListAboutSinglePage=function(e,n){for(var i=l.default.parseTextId(e),o=i.pageNum,r=i.idx,a=l.default.parseTextId(n).idx,s=[],c=r;c<=a;c++)s.push(l.default.getTextId(o,c));t.selectedTextIdListOfPages=[],t.selectedTextIdListOfPages.push(s)},this.renewSelectedTextIdListAboutMultiplePages=function(e,n){t.selectedTextIdListOfPages=[];for(var i=l.default.parseTextId(e),o=i.pageNum,r=i.idx,a=l.default.parseTextId(n),s=a.pageNum,c=a.idx,d=[],u=r;u<t.textObj[o].text.length;u++)d.push(l.default.getTextId(o,u));t.selectedTextIdListOfPages.push(d);for(var h=o+1;h<s;h++){for(d=[],u=0;u<t.textObj[h].text.length;u++)d.push(l.default.getTextId(h,u));t.selectedTextIdListOfPages.push(d)}for(d=[],u=0;u<=c;u++)d.push(l.default.getTextId(s,u));t.selectedTextIdListOfPages.push(d)},this.handleClickTextHighlightBtn=function(){t.hideAnnotationPopup(),t.addTempHighlightsOfSelectedText(),t.isNewTexthl=!0,t.showAnnotationColorPicker()},this.handleClickMemoBtn=function(e){var n=e.target;t.isNewMemo=!0,t.idOfLatestClickedEl=n.id,a.Util.cancelSelection(),t.hideAnnotationPopup(),t.showAnnotationMemo(),t.addTempHighlightsOfSelectedText()},this.handleClickHighlight=function(e){var n=e.target;t.isNewTexthl=!1,t.idOfLatestClickedEl=n.id;var i=t.getTopElementOfHighlightOrder(n);if(i){var o=t.getHighlightType(i);if(o===r.MEMO){var a=document.getElementById("annotation-th-memo__content"),s=document.getElementById("annotation-th-memo__author-input");a.value=t.memoList[i].text,s.value=t.memoList[i].author,a.setAttribute("data-memo-id",i),t.showAnnotationMemo(n)}else o===r.TEXT&&t.showAnnotationColorPicker(n)}},this.addNewTextHighlight=function(e,n){var i=t.getPageNumFromSelectedTextIdList(0),o=t.getTextHlId(i,n);t.eventObserver.modifyAnnotation.notify(i-1);for(var r=0;r<t.selectedTextIdListOfPages.length;r++){for(var a=0,s=t.selectedTextIdListOfPages[r];a<s.length;a++){var l=s[a],c=document.getElementById(l);t.removeTempHighlight(c),e||(t.removeHighlight(c),t.renderTextHighlight(c,o,n))}!e&&r+1<t.selectedTextIdListOfPages.length&&(i=t.getPageNumFromSelectedTextIdList(r+1),o=t.getTextHlId(i,n),t.eventObserver.modifyAnnotation.notify(i-1))}},this.modifyTextHighlight=function(e,n){var i=document.getElementById(t.idOfLatestClickedEl),o=t.getTopElementOfHighlightOrder(i),r=t.parseId(o),s=r.pageNum,l=r.color,c=s-1;if(e){t.removeIdToIdsPerPage(o);var d="js-"+o;document.querySelectorAll("."+d).forEach((function(e){a.Util.removeClass(e,d),t.removeHighlight(e),t.removeElementOfHighlightOrder(e,o).length?t.highlightPrevHl(e):e.removeEventListener("click",t.handleClickHighlight)})),t.eventObserver.modifyAnnotation.notify(c)}else if(l!==n){var u=parseInt(i.id.split("-")[1])+1,h=t.getTextHlId(u,n);t.removeIdToIdsPerPage(o);var m="js-"+o;document.querySelectorAll("."+m).forEach((function(e){a.Util.removeClass(e,m),t.removeHighlight(e),t.removeElementOfHighlightOrder(e,o),t.pushToHighlightOrder(e,h),t.addTextHighlightToElement(e,n),a.Util.addClass(e,"js-"+h)})),t.eventObserver.modifyAnnotation.notify(c)}},this.handleClickColorBtn=function(e){var n=e.target.id.split("-"),i=n[n.length-1],o="transparent"===i;d.Browser.instance.isIE||(i=t.highlightColorToHex(i)),t.isNewTexthl?t.addNewTextHighlight(o,i):t.modifyTextHighlight(o,i),t.isNewTexthl=!1,t.hideAnnotationColorPicker()},this.handleClickMemoSaveBtn=function(){var e=document.getElementById("annotation-th-memo__content"),n=document.getElementById("annotation-th-memo__author-input");if(t.isNewMemo){for(var i=t.selectedTextIdListOfPages[0],o=t.getPageNumFromSelectedTextIdList(0),r=t.getMemoId(o,t.DEFAULT_HIGHLIGHT_COLOR),a=!0,s=0,l=i;s<l.length;s++){var c=l[s];t.renderMemo(document.getElementById(c),a,r,t.DEFAULT_HIGHLIGHT_COLOR,e.value,n.value),a=!1}t.selectedTextIdListOfPages.length>1&&t.removeTempHighlightsOfSelectedText(1),t.eventObserver.modifyAnnotation.notify(o-1)}else{var d=e.getAttribute("data-memo-id");t.memoList[d]={text:e.value,author:n.value};var u=t.parseId(d).pageNum-1;t.eventObserver.modifyAnnotation.notify(u)}e.value="",n.value="",e.removeAttribute("data-memo-id"),t.isNewMemo=!1,t.idOfLatestClickedEl=null,t.hideAnnotationMemo()},this.handleClickMemoDeleteBtn=function(){var e=document.getElementById("annotation-th-memo__content");if(t.isNewMemo)t.removeTempHighlightsOfSelectedText();else{var n=e.getAttribute("data-memo-id");t.removeIdToIdsPerPage(n);var i=document.getElementById(n);i.parentElement.removeChild(i);var o="js-"+n;document.querySelectorAll("."+o).forEach((function(e){a.Util.removeClass(e,o),t.removeHighlight(e),t.removeElementOfHighlightOrder(e,n)?t.highlightPrevHl(e):e.removeEventListener("click",t.handleClickHighlight)})),delete t.memoList[n];var r=t.parseId(n).pageNum-1;t.eventObserver.modifyAnnotation.notify(r)}e.value="",document.getElementById("annotation-th-memo__author-input").value="",t.isNewMemo=!1,t.idOfLatestClickedEl=null,t.hideAnnotationMemo()},this.handleClickMemoDimmed=function(){t.handleClickMemoSaveBtn(),t.hideMemoAuthorEdit()},this.hideMemoAuthorEdit=function(){var e=document.getElementById("annotation-th-memo__author-icon"),t=document.getElementById("annotation-th-memo__author-label"),n=document.getElementById("annotation-th-memo__author-input");a.Util.removeClass(e,"annotation-th-memo__author-icon--edit"),a.Util.removeClass(t,"annotation-th-memo__author-label--edit"),a.Util.removeClass(n,"annotation-th-memo__author-input--edit")},this.showMemoAuthorEdit=function(){var e=document.getElementById("annotation-th-memo__author-icon"),t=document.getElementById("annotation-th-memo__author-label"),n=document.getElementById("annotation-th-memo__author-input");a.Util.addClass(e,"annotation-th-memo__author-icon--edit"),a.Util.addClass(t,"annotation-th-memo__author-label--edit"),a.Util.addClass(n,"annotation-th-memo__author-input--edit")},this.handleClickMemoAuthorEdit=function(e){var n=e.target;if(n&&("annotation-th-memo__author-input"===n.id||"annotation-th-memo__author-label"===n.id||"annotation-th-memo__author-icon"===n.id))return document.getElementById("annotation-th-memo__author-input").focus(),void t.showMemoAuthorEdit();t.hideMemoAuthorEdit()},this.showMemoContentCnt=function(){var e=document.getElementById("annotation-th-memo__content"),n=e.textLength,i=document.getElementById("annotation-th-memo__char-cnt");n>=t.memoCharLimit?(a.Util.addClass(i,"annotation-th-memo__char-cnt--limit"),n=t.memoCharLimit,e.value=e.value.substring(0,t.memoCharLimit)):a.Util.removeClass(i,"annotation-th-memo__char-cnt--limit"),i.innerText=n+" / "+t.memoCharLimit},this.markerMode=function(){d.Browser.instance.isMobile||u.Thumbnail.THUMB_STATUS!==u.THUMB_FLAG.on||t.rePositionMemoIcon()},this.rePositionMemoIcon=function(){for(var e=0,n=Array.prototype.slice.call(document.getElementsByClassName("memo-highlight-icon"));e<n.length;e++){var i=n[e],o=document.getElementById(i.id),r=o.getAttribute("text-id"),a=document.getElementById(r),s=t.getTextRect(a),l=s.left,c=s.top;o.style.cssText="left: "+l+"px; top: "+(c-t.memoIconHeight+t.distMemoIconAndText)+"px"}},this.rePosition=function(){a.Util.isFullScreen()||(t.rePositionMemoIcon(),t.isShowAnnotationPopup()?t.showAnnotationPopup():t.isShowAnnotationColorPicker()?t.showAnnotationColorPicker(!t.idOfLatestClickedEl&&document.getElementById(t.idOfLatestClickedEl)):t.isShowAnnotationMemo()&&t.showAnnotationMemo(!t.idOfLatestClickedEl&&document.getElementById(t.idOfLatestClickedEl)))},this.isOverlapRect=function(e,t){return e.left<t.right&&e.top<t.bottom&&e.right>t.left&&e.bottom>t.top},this.getOverlapPercent=function(e,n){return t.isOverlapRect(e,n)?(Math.min(e.right,n.right)-Math.max(e.left,n.left))*(Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top))/((n.right-n.left)*(n.bottom-n.top))*100:0},this.getRect=function(e,t,n,i){return{left:t,right:t+n,top:e,bottom:e+i}},this.getRectsForHighlightInfo=function(e){var t=l.default.DPI_RATIO,n=[],i=e.path.replace(/M/gi,"").split("Z");i.pop();for(var o=0,r=i;o<r.length;o++){var a=r[o],s=void 0,c=void 0,d=void 0,u=void 0;s=d=Number.MAX_SAFE_INTEGER,c=u=Number.MIN_SAFE_INTEGER;for(var h=0,m=a.split("L");h<m.length;h++){var f=m[h].trim().split(" "),p=parseInt(f[0]);d=Math.min(d,p),u=Math.max(u,p);var g=parseInt(f[1]);s=Math.min(s,g),c=Math.max(c,g)}n.push({top:s*t,left:d*t,right:u*t,bottom:c*t})}return n},this.getRectForTextInfo=function(e){var n=parseFloat(e.l),i=parseFloat(e.t),o=parseFloat(e.w),r=parseFloat(e.h);return t.getRect(i,n,o,r)},this.renderMemo=function(e,n,i,o,r,s){n&&(t.memoList[i]={text:r,author:s},t.createMemoIcon(e,i)),t.getTopElementOfHighlightOrder(e)||e.addEventListener("click",t.handleClickHighlight),t.pushToHighlightOrder(e,i),t.removeTempHighlight(e),t.removeHighlight(e),a.Util.addClass(e,"js-"+i),t.addTextHighlightToElement(e,o)},this.renderTextHighlight=function(e,n,i){t.getTopElementOfHighlightOrder(e)||e.addEventListener("click",t.handleClickHighlight),t.pushToHighlightOrder(e,n),a.Util.addClass(e,"js-"+n),t.addTextHighlightToElement(e,i)},this.isTextHighlightTarget=function(e,n,i){var o=t.getOverlapPercent(e,n);return o>t.DEFAULT_OVERLAP_PERCENT||t.TH_CAUTION_SPECIAL_PATTERN.test(i)&&o>t.CAUTION_WORD_OVERLAP_PERCENT},this.getHighlightBoxInfos=function(e){for(var n=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.text?r.MEMO:r.TEXT,c=d.Browser.instance.isIE?l.default.getColorInfoForArgb(a.color).color:l.default.getColorInfoForArgb(a.color).hexColor,u=t.getRectsForHighlightInfo(a);u.length&&n.push({type:s,color:c,rects:u,text:a.text,username:a.username})}return n},this.renderHighlight=function(e,n,i){for(var o=t.getHighlightBoxInfos(i),a={},s=0;s<n.length;s++)for(var c=n[s],d=c.text,u=t.getRectForTextInfo(c["@attributes"]),h=0;h<o.length;h++)for(var m=o[h],f=m.type,p=m.color,g=m.rects,v=m.text,b=m.username,_=0,E=g;_<E.length;_++){var w=E[_];if(t.isTextHighlightTarget(w,u,d)){var I=l.default.getTextId(e-1,s),y=document.getElementById(I),T=a[h],S=!1;f===r.MEMO?(T||(T=t.getMemoId(e,p),a[h]=T,S=!0),t.renderMemo(y,S,T,p,v,b)):f===r.TEXT&&(T||(T=t.getTextHlId(e,p),a[h]=T),t.renderTextHighlight(y,T,p));break}}},this.loadHighlight=function(n){return i(t,void 0,e,(function(){var e,t,i,r;return o(this,(function(o){for(e in n)t=this.textObj[parseInt(e)-1].text,i=n[e],(r=i.highlight)&&this.renderHighlight(parseInt(e),t,r);return[2]}))}))},this.fullScreen=function(e){var t=document.getElementById("memo-highlight-icon-list");e.isFullScreen?t.style.display="none":t.style.display=""},this.getXMLPosInfo=function(e,t,n,i,o){var r=Math.ceil(e*o)+1,a=Math.ceil(t*o)+-2,s=Math.ceil(n*o),l=Math.ceil(i*o)+2;return{top:r,left:a,bottom:s,right:l,path:"M "+a+" "+r+" L "+l+" "+r+" L "+l+" "+s+" L "+a+" "+s+" L "+a+" "+r+" Z"}},this.highlightColorToHex=function(e){var t="";switch(e){case"pink":t="eb008c";break;case"green":t="26e500";break;case"yellow":t="ffe500";break;case"blue":t="44c7f4";break;default:t="ffe500"}return t},this.getHighlightInfosFromRenderedEl=function(e){var n=[],i=l.default.DEFAULT_DPI/(l.default.SERVER_DPI*c.default.instance.getRatio(e-1));if(t.idsPerPage[e]&&Object.keys(t.idsPerPage[e]).length)for(var o=0,r=Object.keys(t.idsPerPage[e]);o<r.length;o++){var a=r[o],s=t.getHighlightInfoFromRenderedEl(a,i);n&&n.push(s)}return n},this.getHighlightInfoFromRenderedEl=function(e,n){var i=document.querySelectorAll(".js-"+e);if(!i.length)return null;var o,a,s,c,u,h,m,f,p,g,v,b=t.getHighlightType(e),_="";o=s=h=Number.MAX_SAFE_INTEGER,a=c=u=m=Number.MIN_SAFE_INTEGER,f=p=Number.MAX_SAFE_INTEGER,v=g=Number.MIN_SAFE_INTEGER;for(var E=function(e,t,n,i){f=Math.min(f,e),p=Math.min(p,t),g=Math.max(g,i),v=Math.max(v,n)},w=0;w<i.length;w++){var I=i[w],y=void 0,T=void 0,S=void 0,x=parseFloat(I.style.fontSize.replace("px",""));if(x){if(y=parseFloat(I.style.left.replace("px","")),S=(T=parseFloat(I.style.top.replace("px","")))+x,m>y||u>S||h<T){var C=t.getXMLPosInfo(o,s,a,c,n),M=C.top,P=C.left,k=C.bottom,B=C.right;_+=" "+C.path,E(M,P,k,B),o=s=h=Number.MAX_SAFE_INTEGER,a=c=u=m=Number.MIN_SAFE_INTEGER}o=Math.min(o,T),s=Math.min(s,y),c=Math.max(c,y+I.offsetWidth),a=Math.max(a,S)}if(!(w+1<i.length)){var O=t.getXMLPosInfo(o,s,a,c,n);M=O.top,P=O.left,k=O.bottom,B=O.right,_+=" "+O.path,E(M,P,k,B);var A=t.createHighlightInfo(_,""+f,""+p,""+(g-p).toFixed(2),""+(v-f).toFixed(2)),N=t.parseId(e).color;return d.Browser.instance.isIE&&(N=t.highlightColorToHex(N)),A.color=l.default.opacityToHex()+N,b===r.MEMO&&(A.text=t.memoList[e].text,A.text||(A.text=" "),A.username=t.memoList[e].author),A}y&&T&&S&&(m=y,u=T,h=S)}return null},this.createHighlightInfo=function(e,t,n,i,o,r,a,s,l,c){return void 0===r&&(r=""),void 0===a&&(a=""),void 0===s&&(s=""),void 0===l&&(l="1"),void 0===c&&(c=""),{path:e,top:t,left:n,width:i,height:o,color:r,text:a,username:s,wpath:l,date:c}},this.memoDeleteDialog=function(){t.dialog.deleteMarkerDialog("msg_delete_selected_memo",(function(){t.handleClickMemoDeleteBtn()}))},this.eventBind=function(e){if(t.eventObserver=e,t.eventObserver.resizePage.subscribe(t.rePosition),t.eventObserver.loadAnnotation.subscribe(t.loadHighlight),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.markerMode.subscribe(t.markerMode),d.Browser.instance.isMobile){document.addEventListener("touchstart",t.handleStartSelect,!1);var n=null;document.addEventListener("selectionchange",(function(){clearTimeout(n),n=setTimeout((function(){t.handleFinishSelect()}),t.MOBILE_FINISH_SELECT_TIME)}),!1)}else document.addEventListener("mousedown",t.handleStartSelect,!1),document.addEventListener("mouseup",t.handleFinishSelect,!1);a.Util.bindClickOrTouchEvent(s("#annotation-popup__highlight"),"annotation-popup__item--hover",t.handleClickTextHighlightBtn),a.Util.bindClickOrTouchEvent(s("#annotation-popup__memo"),"annotation-popup__item--hover",t.handleClickMemoBtn),Array.prototype.slice.call(document.getElementsByClassName("annotation-color-picker__color")).forEach((function(e){a.Util.bindClickOrTouchEvent(s(e),"annotation-color-picker__item--hover",t.handleClickColorBtn)})),document.getElementById("annotation-th-memo__delete-btn").addEventListener("click",t.memoDeleteDialog),document.getElementById("th-memo-dimmed").addEventListener("click",t.handleClickMemoDimmed),document.getElementById("annotation-th-memo").addEventListener("click",t.handleClickMemoAuthorEdit),document.getElementById("annotation-th-memo__content").addEventListener("keyup",t.showMemoContentCnt)},this.load=function(e,n,i){t.textObj=n,t.eventBind(e),t.loadHighlight(i)},this.memoEl=document.getElementById("annotation-th-memo")};t.default=m}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(2),r=n(26),a=n(40),s=n(51),l=n(24),c=function(){var e=this;this.eventObserver=null,this.lastMemoIdx=0,this.memoCharLimit=512,this.dialog=new r.Dialog,this.memoInfosPerPage={},this.getMemoId=function(t){return"memo-"+t+"-"+e.lastMemoIdx++},this.getPageNum=function(e){return Number.parseInt(e.split("-")[1])},this.getMemoInfo=function(t){var n=e.getPageNum(t);return e.memoInfosPerPage[n][t]?e.memoInfosPerPage[n][t]:null},this.addMemoInfo=function(t,n){var i=e.getPageNum(t);e.memoInfosPerPage[i]||(e.memoInfosPerPage[i]={}),e.memoInfosPerPage[i][t]=n},this.deleteMemoInfo=function(t){var n=e.getPageNum(t);e.memoInfosPerPage[n]&&e.memoInfosPerPage[n][t]&&delete e.memoInfosPerPage[n][t]},this.modifyMemoAuthor=function(t,n){var i=e.getPageNum(t);e.memoInfosPerPage[i][t]&&(e.memoInfosPerPage[i][t].username=n)},this.modifyMemoContent=function(t,n){var i=e.getPageNum(t);e.memoInfosPerPage[i][t]&&(e.memoInfosPerPage[i][t].text=n)},this.getPageNumFromMemoId=function(e){var t=e.split("-");return parseInt(t[1])},this.isShowMemo=function(){return!i.Util.hasClass(e.memoEl,"annotation-memo--hide")},this.showDimmed=function(){i.Util.removeClass(document.getElementById("memo-dimmed"),"memo-dimmed--hide")},this.hideDimmed=function(){i.Util.addClass(document.getElementById("memo-dimmed"),"memo-dimmed--hide"),e.hideMemoAuthorEdit()},this.showMemo=function(t){var n=e.getMemoRect(t);if(n){var o=document.getElementById("annotation-memo__content"),r=document.getElementById("annotation-memo__author-input"),a=e.getMemoInfo(t.id),s=a.text,l=a.username;o.value=s,r.value=l,o.setAttribute("data-memo-id",t.id),e.memoEl.style.cssText="left: "+n.left+"px; top: "+n.top+"px",e.showDimmed(),e.showMemoContentCnt(),i.Util.removeClass(e.memoEl,"annotation-memo--hide")}},this.hideMemo=function(){var t=document.getElementById("annotation-memo__content"),n=document.getElementById("annotation-memo__author-input");t.value="",n.value="",t.removeAttribute("data-memo-id"),i.Util.addClass(e.memoEl,"annotation-memo--hide"),e.hideDimmed()},this.getMemoIconRect=function(e,t,n,i){var o=document.getElementById("page-area"+(e-1)),r=o.offsetLeft,a=o.offsetTop,s=document.getElementById("annotationlayer"+(e-1)),l=s.offsetLeft;return{top:a+s.offsetTop+t*i,left:r+l+n*i}},this.getMemoRect=function(t){var n,i=t.offsetLeft,r=t.offsetTop+t.offsetHeight,a=i-150,s=r+200,l=a+300,c=e.getPageNumFromMemoId(t.id),d=document.getElementById("page-area"+(c-1)).getBoundingClientRect(),u=d.left,h=d.right,m=Math.abs(u),f=Math.abs(h);if(a<m?a=m:l>f&&(a=f-300),o.Browser.instance.isIOS)n=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight;else{var p=document.getElementById("contents");n=p.scrollTop+p.offsetHeight}return s>n&&(r=n-200),{top:r,left:a}},this.createMemoIcon=function(t,n){var i=document.createElement("div");i.id=n,i.className="memo-icon",i.style.cssText="left: "+t.left+"px; top: "+t.top+"px",i.addEventListener("click",(function(t){var n=t.target;return e.showMemo(n)})),document.getElementById("memo-icon-list").appendChild(i)},this.renderMemo=function(t,n){for(var i=s.default.instance.getRatio(t-1)*a.default.DPI_RATIO,o=0,r=n;o<r.length;o++){var l=r[o],c=e.getMemoId(t);e.addMemoInfo(c,l);var d=l.top,u=l.left,h=e.getMemoIconRect(t,parseFloat(d),parseFloat(u),i);e.createMemoIcon(h,c)}},this.loadMemo=function(t){for(var n in t){var i=t[n],o=i.memo;i&&o&&o&&e.renderMemo(parseInt(n),o)}},this.showMemoContentCnt=function(){var t=document.getElementById("annotation-memo__content"),n=t.textLength,o=document.getElementById("annotation-memo__char-cnt");n>=e.memoCharLimit?(i.Util.addClass(o,"annotation-memo__char-cnt--limit"),n=e.memoCharLimit,t.value=t.value.substring(0,e.memoCharLimit)):i.Util.removeClass(o,"annotation-memo__char-cnt--limit"),o.innerText=n+" / "+e.memoCharLimit},this.rePositionMemoIcon=function(){for(var t=0,n=Array.from(document.getElementsByClassName("memo-icon"));t<n.length;t++){var i=n[t].id,o=e.getPageNumFromMemoId(i),r=document.getElementById(i),l=e.getMemoInfo(i),c=l.top,d=l.left,u=s.default.instance.getRatio(o-1)*a.default.DPI_RATIO,h=e.getMemoIconRect(o,parseFloat(c),parseFloat(d),u);r.style.cssText="left: "+h.left+"px; top: "+h.top+"px"}},this.markerMode=function(){o.Browser.instance.isMobile||l.Thumbnail.THUMB_STATUS!==l.THUMB_FLAG.on||e.rePositionMemoIcon()},this.rePosition=function(){if(!a.default.isFullScreen&&(e.rePositionMemoIcon(),e.isShowMemo())){var t=document.getElementById("annotation-memo__content").getAttribute("data-memo-id");e.showMemo(document.getElementById(t))}},this.fullScreen=function(e){var t=document.getElementById("memo-icon-list");e.isFullScreen?i.Util.addClass(t,"hide"):i.Util.removeClass(t,"hide")},this.handleDeleteMemo=function(){var t=document.getElementById("annotation-memo__content").getAttribute("data-memo-id");e.deleteMemoInfo(t);var n=document.getElementById(t);n.parentElement.removeChild(n);var i=e.getPageNumFromMemoId(t)-1;e.eventObserver.modifyAnnotation.notify(i),e.hideMemo()},this.handleSaveMemo=function(){var t=document.getElementById("annotation-memo__content"),n=document.getElementById("annotation-memo__author-input"),i=t.getAttribute("data-memo-id");e.modifyMemoAuthor(i,n.value),e.modifyMemoContent(i,t.value);var o=e.getPageNumFromMemoId(i)-1;e.eventObserver.modifyAnnotation.notify(o),e.hideMemo()},this.hideMemoAuthorEdit=function(){var e=document.getElementById("annotation-memo__author-icon"),t=document.getElementById("annotation-memo__author-label"),n=document.getElementById("annotation-memo__author-input");i.Util.removeClass(e,"annotation-memo__author-icon--edit"),i.Util.removeClass(t,"annotation-memo__author-label--edit"),i.Util.removeClass(n,"annotation-memo__author-input--edit")},this.showMemoAuthorEdit=function(){var e=document.getElementById("annotation-memo__author-icon"),t=document.getElementById("annotation-memo__author-label"),n=document.getElementById("annotation-memo__author-input");i.Util.addClass(e,"annotation-memo__author-icon--edit"),i.Util.addClass(t,"annotation-memo__author-label--edit"),i.Util.addClass(n,"annotation-memo__author-input--edit")},this.handleClickMemoAuthorEdit=function(t){var n=t.target;if(n&&("annotation-memo__author-input"===n.id||"annotation-memo__author-label"===n.id||"annotation-memo__author-icon"===n.id))return document.getElementById("annotation-memo__author-input").focus(),void e.showMemoAuthorEdit();e.hideMemoAuthorEdit()},this.getMemoInfosFromRenderedEl=function(t){var n=e.memoInfosPerPage[t];if(!n)return[];for(var i=[],o=0,r=Object.keys(n);o<r.length;o++){var a=r[o];i.push(e.getMemoInfo(a))}return i},this.memoDeleteDialog=function(){e.dialog.deleteMarkerDialog("msg_delete_selected_memo",(function(){e.handleDeleteMemo()}))},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.resizePage.subscribe(e.rePosition),e.eventObserver.fullScreen.subscribe(e.fullScreen),e.eventObserver.loadAnnotation.subscribe(e.loadMemo),e.eventObserver.markerMode.subscribe(e.markerMode),document.getElementById("annotation-memo").addEventListener("click",e.handleClickMemoAuthorEdit),document.getElementById("annotation-memo__delete-btn").addEventListener("click",e.memoDeleteDialog),document.getElementById("memo-dimmed").addEventListener("click",e.handleSaveMemo),document.getElementById("annotation-memo__content").addEventListener("keyup",e.showMemoContentCnt)},this.load=function(t,n){e.eventBind(t),e.loadMemo(n)},this.memoEl=document.getElementById("annotation-memo")};t.default=c},function(e,t,n){"use strict";(function(e,i){var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},s=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),c=n(3),d=n(1),u=n(70),h=n(184),m=n(185),f=n(186),p=n(24),g=n(35),v=n(14),b=function(e){function t(){var t=e.call(this)||this;return t.initPageNum=3,t.rotateMap=new i,t.pageFitAction=new h.PageFit,t.pageWidthFitAction=new m.PageWidthFit,t.pageZoomAction=new f.PageZoom,t.dpi=c.Util.normalDPI,t.getDimensionImg=function(e,n,i,o){return a(t,void 0,void 0,(function(){var t,r,a;return s(this,(function(s){switch(s.label){case 0:return n=void 0!==n?n:0,o=void 0!==o?o:c.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"-"+i+"?dpi="+o,r=[],[4,c.Util.getJson(t)];case 1:return a=s.sent(),d.each(a,(function(e,t){var n={index:t.p,width:t.w,height:t.h};r[t.p]=n})),[2,r]}}))}))},t.getDimensionHtml=function(e){return a(t,void 0,void 0,(function(){var t,n;return s(this,(function(i){switch(i.label){case 0:return t=e.resultPath+"/"+e.status.fileName+".xml",[4,c.Util.getXml(t)];case 1:return n=i.sent(),"image"===e.skinType?[2,c.Util.getDimensionHtmlForImage(n)]:[2,c.Util.getDimensionHtmlForPDF(n)]}}))}))},t.createContentDiv=function(e){return a(t,void 0,void 0,(function(){var t,n,i,o,r,a,l;return s(this,(function(s){switch(s.label){case 0:return t=null,c.Util.isConvHtml(this.docInfo)?[4,this.getDimensionHtml(e)]:[3,2];case 1:return t=s.sent(),[3,4];case 2:return[4,this.getDimensionImg(e,0,e.status.pageNum,this.dpi)];case 3:t=s.sent(),s.label=4;case 4:for(n=document.createDocumentFragment(),i=0,o=t;i<o.length;i++)r=o[i],v.Page.ORIGIN_SIZE[r.index]={width:r.width,height:r.height},(a=document.createElement("img")).className="contents-page__img img-loading",a.src=this.transparentImg,c.Util.isConvHtml(this.docInfo)&&(v.Page.ORIGIN_SIZE[r.index].path=r.path),r.index<this.initPageNum&&this.onLoadImg(a,r.index),(l=document.createElement("div")).id="page-area"+r.index,l.className="contents-page img-loading",a.id="page"+r.index,a.title="page"+(r.index+1),a.setAttribute("data-index",r.index.toString()),l.appendChild(a),n.appendChild(l);return d("#contents-area").append(n),v.Page.ORIGIN_MARGIN={marginTop:parseInt(d(".contents-page").css("margin-top")),marginBottom:parseInt(d(".contents-page").css("margin-bottom"))},d("#page-area0").addClass("contents-page--start"),d("#page-area"+(this.docInfo.status.pageNum-1)).addClass("contents-page--end"),this.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,this.rotateMap,0,this.initPageNum),this.checkResizeControlBar(),[2]}}))}))},t._zoomCalculation=function(e,n){for(var i=Number(document.getElementById("page0").style.width.replace("px","")),o=v.Page.RESIZE_OBJ.percent,r=l.Browser.instance.isMobile||100===t.curZoomFactor?1:t.curZoomFactor/100,a=0,s=e;a<s.length;a++){var c=s[a],d=c/100*v.Page.ORIGIN_SIZE[0].width*r;if(n(d,i)&&!(Math.abs(d-i)<1)){o=c;break}}return o},t._zoomCalculationForPrint=function(){var e=l.Browser.instance.isMobile||100===t.curZoomFactor?1:t.curZoomFactor/100;return 794/(v.Page.ORIGIN_SIZE[0].width*e)*100},t.zoomPage=function(e){var n=null;switch(e){case u.ZOOM_TYPE.ZoomOut:n=t._zoomCalculation(u.Controlbar.ZOOM_LIST.slice().reverse(),(function(e,t){return e<t}));break;case u.ZOOM_TYPE.ZoomIn:n=t._zoomCalculation(u.Controlbar.ZOOM_LIST,(function(e,t){return e>t}));break;case u.ZOOM_TYPE.OriginSize:n=100;break;case u.ZOOM_TYPE.PrintA4:n=t._zoomCalculationForPrint()}n!==v.Page.RESIZE_OBJ.percent&&(v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:n},t.pageResizeAction=t.pageZoomAction,t.pageResizeAction.resizePage(n,t.rotateMap),t.eventObserver.resizePage.notify(),t.checkResizeControlBar(),t.lastTop=null)},t.loadPageImg=function(e){for(var n=t.getDefaultLadingCnt(),i=e-n<0?e:e-n,o=e+n>t.docInfo.status.pageNum?t.docInfo.status.pageNum:e+n,r=t.getLoadingClassSelector(),a=i;a<o;a++){var s=document.getElementById("page"+a);s.parentElement.className.indexOf(r)>-1&&t.onLoadImg(s,a)}},t.getLoadingClassSelector=function(){return g.Head.bgColorMode===g.BGCOLOR_MODE.lightScreen?"img-loading-bright":"img-loading"},t.rotatePage=function(){var e=t.docInfo.currentPage,n=t.rotateMap.get(e);t.rotateMap.set(e,void 0===n?90:(n+90)%360);var i=t.rotateMap.get(e);d("#page"+e).removeClass("transform0 transform90 transform180 transform270"),d("#page"+e).css({margin:"",marginTop:"",marginBottom:""}),d("#page"+e).addClass("transform"+i),t.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,t.rotateMap,e,1),t.checkResizeControlBar(),t.lastTop=null},t.rotateEvent=function(){c.Util.bindClickOrTouchEvent(d("#page-rotate"),"controlbar-rotate--hover",(function(){t.rotatePage(),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit&&t.scrollContentAreaEl.scrollTop(t.getPageScrollTop(t.docInfo.currentPage))}))},t.checkResizeControlBar=function(){var e=v.Page.RESIZE_OBJ.percent;v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageWidthFit||(e=Number(document.getElementById("page0").style.width.replace("px",""))/v.Page.ORIGIN_SIZE[0].width*100);e<=u.Controlbar.ZOOM_LIST[0]?(d("#page-zoomout").removeClass("controlbar--enable"),d("#page-zoomout").removeClass("controlbar-zoomout--hover"),d("#page-zoomout").prop("disabled",!0)):(d("#page-zoomout").addClass("controlbar--enable"),d("#page-zoomout").prop("disabled",!1)),e>=u.Controlbar.ZOOM_LIST[u.Controlbar.ZOOM_LIST.length-1]?(d("#page-zoomin").removeClass("controlbar--enable"),d("#page-zoomin").removeClass("controlbar-zoomin--hover"),d("#page-zoomin").prop("disabled",!0)):(d("#page-zoomin").addClass("controlbar--enable"),d("#page-zoomin").prop("disabled",!1)),v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageWidthFit&&100===e?(d("#page-originsize").addClass("controlbar-originsize--hover"),d("#page-originsize").prop("disabled",!0)):(d("#page-originsize").removeClass("controlbar-originsize--hover"),d("#page-originsize").prop("disabled",!1)),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit?(d("#page-pagefit").addClass("controlbar-pagefit--hover"),d("#page-pagefit").prop("disabled",!0)):(d("#page-pagefit").removeClass("controlbar-pagefit--hover"),d("#page-pagefit").prop("disabled",!1)),v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageWidthFit?(d("#page-pagewidthfit").addClass("controlbar-pagewidthfit--hover"),d("#page-pagewidthfit").prop("disabled",!0)):(d("#page-pagewidthfit").removeClass("controlbar-pagewidthfit--hover"),d("#page-pagewidthfit").prop("disabled",!1))},t.bindControlbarEvent=function(){c.Util.bindClickOrTouchEvent(d("#page-pagefit"),"controlbar-pagefit--hover",(function(){v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction,t.pageResizeAction.resizePage(0,t.rotateMap),t.checkResizeControlBar(),t.lastTop=null,t.scrollContentAreaEl.scrollTop(t.getPageScrollTop(t.docInfo.currentPage)),t.eventObserver.resizePage.notify()}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(d("#page-pagewidthfit"),"controlbar-pagewidthfit--hover",(function(){v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageWidthFit,percent:0},t.pageResizeAction=t.pageWidthFitAction,t.pageResizeAction.resizePage(0,t.rotateMap),t.checkResizeControlBar(),t.lastTop=null,t.eventObserver.resizePage.notify()}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(d("#page-originsize"),"controlbar-originsize--hover",(function(){t.zoomPage(u.ZOOM_TYPE.OriginSize)}),(function(){t.checkResizeControlBar()})),c.Util.bindClickOrTouchEvent(d("#page-zoomout"),"controlbar-zoomout--hover",(function(){t.zoomPage(u.ZOOM_TYPE.ZoomOut)})),c.Util.bindClickOrTouchEvent(d("#page-zoomin"),"controlbar-zoomin--hover",(function(){t.zoomPage(u.ZOOM_TYPE.ZoomIn)})),c.Util.bindClickOrTouchEvent(d("#page-prev"),"controlbar-prev--hover",t.moveBackPage),c.Util.bindClickOrTouchEvent(d("#page-next"),"controlbar-next--hover",t.moveNextPage),t.checkMoveControlbar(),"image"===t.docInfo.skinType&&(d("#page-docfit").removeClass("controlbar__end-block").addClass("controlbar__block"),d("#rotate-seperator").removeClass("controlbar--hide"),d("#page-rotate").removeClass("controlbar--hide"),t.rotateEvent())},t.onLoadImg=function(e,n){var i=new Image;c.Util.isConvHtml(t.docInfo)?i.src=""+c.Util.getResultPath(t.docInfo,v.Page.ORIGIN_SIZE[n].path):i.src=c.Util.getThumbPath(t.docInfo,n,t.dpi)+"&w="+v.Page.ORIGIN_SIZE[n].width+"&h="+v.Page.ORIGIN_SIZE[n].height,i.onload=function(){c.Util.removeClass(e.parentElement,t.getLoadingClassSelector()),e.className="contents-page__img"},e.removeEventListener("click",t.retry),i.onerror=function(){c.Util.removeClass(e.parentElement,t.getLoadingClassSelector()),e.src=t.transparentImg,e.className+=" img-retry contents-page__img--error",e.addEventListener("click",t.retry)},e.src=i.src},t.retry=function(e){var n=parseInt(e.target.getAttribute("data-index")),i=document.getElementById("page"+n);c.Util.addClass(i.parentElement,t.getLoadingClassSelector()),t.onLoadImg(i,n)},t.isFitAction=function(){return t.pageResizeAction===t.pageFitAction},t.setFitAction=function(){t.preResizeObj=v.Page.RESIZE_OBJ,t.prePageAction=t.pageResizeAction,v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction},t.getRotateMap=function(){return t.rotateMap},t.isThumbnailOn=function(){return p.Thumbnail.THUMB_STATUS===p.THUMB_FLAG.on},t._innerResizeWindow=function(){d(".contents-page").removeAttr("style"),v.Page.ORIGIN_MARGIN={marginTop:parseInt(d(".contents-page").css("margin-top")),marginBottom:parseInt(d(".contents-page").css("margin-bottom"))},t.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,t.rotateMap)},t.doubleTap=function(){return a(t,void 0,void 0,(function(){var e,t=this;return s(this,(function(n){switch(n.label){case 0:return l.Browser.instance.isIOS&&c.Util.isFullScreen()&&v.Page.RESIZE_OBJ.type!==v.RESIZE_TYPE.PageFit&&document.body.clientWidth/window.innerWidth*100!=100?[2]:(v.Page.RESIZE_OBJ.type===v.RESIZE_TYPE.PageFit?(v.Page.RESIZE_OBJ.type=v.RESIZE_TYPE.PageWidthFit,this.pageResizeAction=this.pageWidthFitAction):(v.Page.RESIZE_OBJ.type=v.RESIZE_TYPE.PageFit,this.pageResizeAction=this.pageFitAction),l.Browser.instance.isIOS?(e=this.docInfo.currentPage,d("#contents-area").css("visibility","hidden"),d("#wrap__index").css("visibility","hidden"),d("#page__input").css("color","#333333"),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop("0")),[4,this.syncTimer((function(){return t.pageResizeAction.resizePage(0,t.rotateMap)}),200)]):[3,3]);case 1:return n.sent(),this.scrollContentAreaEl.scrollTop(this.getPageScrollTop(e)),[4,this.syncTimer((function(){d("#contents-area").css("visibility",""),d("#wrap__index").css("visibility",""),d("#page__input").css("color","")}),100)];case 2:return n.sent(),this.checkResizeControlBar(),this.lastTop=null,[3,4];case 3:this.pageResizeAction.resizePage(0,this.rotateMap),this.checkResizeControlBar(),this.lastTop=null,n.label=4;case 4:return this.eventObserver.resizePage.notify(),[2]}}))}))},t.fullscreenAfterEvent=function(){},t.printBeforeEvent=function(){t.setFitAction(),t.zoomPage(u.ZOOM_TYPE.PrintA4)},t.printAfterEvent=function(){v.Page.RESIZE_OBJ=t.preResizeObj,t.pageResizeAction=t.prePageAction,t.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,t.rotateMap),t.checkResizeControlBar()},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.page.subscribe(t.focusPage),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.eventObserver.doubleTap.subscribe(t.doubleTap),t.eventObserver.orientationchange.subscribe(t.orientationchange),t.eventObserver.moveBtn.subscribe(t.checkMoveControlbar),t.eventObserver.androidVirtualKeyboard.subscribe(t.androidVirtualKeyboard),t.eventObserver.markerMode.subscribe(t.markerMode),t.eventObserver.printbefore.subscribe(t.printBeforeEvent),t.eventObserver.printafter.subscribe(t.printAfterEvent),t.scrollEventBind(),t.mouseEventBind()},t.setTabIndex=function(){for(var e=["page__input","info-btn","thumbnailview-btn","download-btn","backgroundcolor-btn","presentation-btn"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=6;for(n=0;n<t.docInfo.status.pageNum;n++)document.getElementById("page-area"+n).tabIndex=10},t.setCustomConfig=function(){if(!l.Browser.instance.isMobile)switch(window.localSynap.config.loadingPageFitType){case 1:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageWidthFit,percent:0},t.pageResizeAction=t.pageWidthFitAction;break;case 2:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:100},t.pageResizeAction=t.pageZoomAction;break;case 0:default:v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageFit,percent:0},t.pageResizeAction=t.pageFitAction}},t.load=function(e,n){return a(t,void 0,void 0,(function(){var t,i,o,r,a,u,h,m,f,p=this;return s(this,(function(s){switch(s.label){case 0:return this.docInfo=e,this.pageResizeAction=this.pageFitAction,l.Browser.instance.isIOS&&(d("#wrap").addClass("wrap--ios"),d("#container").addClass("wrap__container--ios"),d("#contents").addClass("wrap__contents--ios"),d("#thumbnail").addClass("wrap__thumbnail--ios"),d("#footer").addClass("wrap__footer--ios")),this.bindControlbarEvent(),this.setCustomConfig(),l.Browser.instance.isMobile||!c.Util.isConvImg(this.docInfo)||"image"!=this.docInfo.skinType?[3,2]:(t=100!==this.curZoomFactor?this.curZoomFactor/100:1,i=l.Browser.instance.isIOS&&c.Util.isFullScreen()?window.innerHeight:d("#contents").height(),o=d("#contents").width(),r=[o,i],[4,this.getDimensionImg(e,0,1,this.dpi)]);case 1:a=s.sent(),u=this.pageResizeAction.getResizeResult(!1,a[0].width,a[0].height,r),h=u[0],m=u[1],h=(f=[h*t,m*t])[0],m=f[1],"tiff"!==this.docInfo.fileType&&a[0].width<h&&a[0].height<m&&(v.Page.RESIZE_OBJ={type:v.RESIZE_TYPE.PageZoom,percent:100},this.pageResizeAction=this.pageZoomAction),s.label=2;case 2:return[4,this.createContentDiv(this.docInfo)];case 3:return s.sent(),this.setTabIndex(),this.eventBind(n),this.eventObserver.resizeContents.notify(),this.docInfo.status.pageNum>this.initPageNum&&setTimeout((function(){p.pageResizeAction.resizePage(v.Page.RESIZE_OBJ.percent,p.rotateMap,p.initPageNum,p.docInfo.status.pageNum-p.initPageNum)}),30),[2]}}))}))},t.setDefaultLadingCnt(5),t}return r(t,e),t}(v.Page);t.ImagePage=b}).call(this,n(6),n(107))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),r=n(14),a=n(28),s=n(2),l=function(){var e=this;this.rotateSize=[0,0],this.noneRotateSize=[0,0],this.scrollContentAreaEl=s.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,l,c){var d,u,h;void 0===l&&(l=0),void 0===c&&(c=0);var m=s.Browser.instance.isMobile||100===a.DetectZoom.getRatio()?1:a.DetectZoom.getRatio()/100,f=i("#page-area0").height(),p=e.scrollContentAreaEl.scrollTop(),g=i(".contents-page").length,v=0===c||c>g?g:l+c,b=i("#contents").width(),_=0;_=s.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight,o.Util.isFullScreen()&&(r.Page.isOutFullscreen=!0),e.rotateSize=[_,b],e.noneRotateSize=[b,_];for(var E=l;E<v;++E){var w=n.get(E),I=void 0,y=void 0;if(void 0===w)I=(d=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[E].width,r.Page.ORIGIN_SIZE[E].height))[0],y=d[1];else if(w%180!=0){I=(u=e.getResizeResult(!0,r.Page.ORIGIN_SIZE[E].width,r.Page.ORIGIN_SIZE[E].height))[0];var T=(_-(y=u[1]))*m/2;i("#page"+E).css({"margin-top":T,"margin-bottom":T})}else I=(h=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[E].width,r.Page.ORIGIN_SIZE[E].height))[0],y=h[1];if(o.Util.isFullScreen())if(1===m){var S=(_-y*m)/2;void 0===w||w%180==0?i("#page"+E).css({"margin-top":S,"margin-bottom":S}):i("#page"+E).css("margin",S+"px auto")}else void 0!==w&&w%180!=0||i("#page"+E).css({"margin-top":"","margin-bottom":""});else r.Page.isOutFullscreen&&(void 0!==w&&w%180!=0||i("#page"+E).css({"margin-top":"","margin-bottom":""}));i("#page"+E).css({width:I*m,height:y*m}),r.Page.CURRENT_SIZE[E]={width:I*m,height:y*m}}r.Page.isOutFullscreen=o.Util.isFullScreen(),e.setPageMargin(m),!s.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(p*(i("#page-area0").height()/f))},this.getResizeResult=function(t,n,i,o){var r;void 0===o&&(o=null);var a=t?e.rotateSize:null===o?e.noneRotateSize:o,s=a[0],l=a[1],c=s/n,d=l/i;return[n*(r=l<s&&n*d<s||l>s&&i*c>l?d:c),i*r]},this.setPageMargin=function(e){var t=i("#page-area0").height()/r.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageFit=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),r=n(14),a=n(28),s=n(2),l=function(){var e=this;this.contentAreaWidth=0,this.scrollContentAreaEl=s.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,l,c){void 0===l&&(l=0),void 0===c&&(c=0);var d=s.Browser.instance.isMobile||100===a.DetectZoom.getRatio()?1:a.DetectZoom.getRatio()/100,u=i("#page-area0").height(),h=e.scrollContentAreaEl.scrollTop(),m=i(".contents-page").length,f=0===c||c>m?m:l+c;e.contentAreaWidth=i("#contents").width();for(var p=l;p<f;++p){var g=n.get(p),v=e.getResizeResult(!1,r.Page.ORIGIN_SIZE[p].width,r.Page.ORIGIN_SIZE[p].height),b=v[0],_=v[1];if(g&&g%180!=0){var E=(b-_)*d/2;if(e.contentAreaWidth<_){var w=(_-e.contentAreaWidth)*d/2;i("#page"+p).css("margin",E+"px "+w+"px")}else i("#page"+p).css("margin",E+"px auto")}r.Page.isOutFullscreen&&(void 0!==g&&g%180!=0||i("#page"+p).css({"margin-top":"","margin-bottom":""})),i("#page"+p).css({width:b*d,height:_*d}),r.Page.CURRENT_SIZE[p]={width:b*d,height:_*d}}r.Page.isOutFullscreen=o.Util.isFullScreen(),e.setPageMargin(d),!s.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(h*(i("#page-area0").height()/u))},this.getResizeResult=function(t,n,i){var o=e.contentAreaWidth/n;return[n*o,i*o]},this.setPageMargin=function(e){o.Util.isFullScreen()&&i(".contents-page__img").css({"margin-top":"","margin-bottom":""});var t=i("#page-area0").height()/r.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageWidthFit=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(14),r=n(28),a=n(2),s=function(){var e=this;this.scrollContentAreaEl=a.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,s,l){void 0===s&&(s=0),void 0===l&&(l=0);for(var c=a.Browser.instance.isMobile||100===r.DetectZoom.getRatio()?1:r.DetectZoom.getRatio()/100,d=i("#page-area0").height(),u=e.scrollContentAreaEl.scrollTop(),h=e.scrollContentAreaEl.scrollLeft(),m=i(".contents-page").length,f=0===l||l>m?m:s+l,p=s;p<f;++p){var g=n.get(p),v=t/100,b=[o.Page.ORIGIN_SIZE[p].width*v,o.Page.ORIGIN_SIZE[p].height*v],_=b[0],E=b[1];if(g&&g%180!=0){var w=(_-E)*c/2;if(i("#contents").width()<E){var I=(E-_)*c/2;i("#page"+p).css("margin",w+"px "+I+"px")}else i("#page"+p).css("margin",w+"px auto")}i("#page"+p).css({width:_*c,height:E*c}),o.Page.CURRENT_SIZE[p]={width:_*c,height:E*c}}e.setPageMargin(c);var y=i("#page-area0").height()/d;e.scrollContentAreaEl.scrollTop(u*y),e.scrollContentAreaEl.scrollLeft(h*y)},this.getResizeResult=function(e,t,n){},this.setPageMargin=function(e){var t=i("#page-area0").height()/o.Page.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",o.Page.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",o.Page.ORIGIN_MARGIN.marginBottom*t)}};t.PageZoom=s},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(28),l=n(2),c=n(3),d=n(70),u=n(29),h=n(1),m=n(35),f=n(110),p=n(26),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dpi=96,t.defaultCellWidth=1e3,t.defaultCellHeight=1e3,t.sheetWidth=null,t.sheetHeight=null,t.maxRow=null,t.maxCol=null,t.resizePercent=100,t.cellPageRE=/cellpage(\d+)_(\d+)/,t.maxBrowserTop=-1,t.transparentImg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.scrollContentAreaEl=l.Browser.instance.isIOS?h(document):h("#contents"),t.scrollSheetEventBind=function(){var e;t.scrollContentAreaEl.on("scroll",(function(){clearTimeout(e),e=setTimeout(t.scrollEvent,100),t.eventObserver.scroll.notify()}))},t.getTitle=function(e,n,i){return r(t,void 0,void 0,(function(){var t,o;return a(this,(function(r){switch(r.label){case 0:"",t=e+"/title/"+n+"/"+i,o=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.Util.ajaxCall(t,"GET")];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),c.Util.printConsoleLog("fail to call api - /title"),[3,4];case 4:return[2,o.replace(/^\s+|\s+$/g,"")]}}))}))},t.getDimension=function(e,n,i){return r(t,void 0,void 0,(function(){var t,o,r,s,l,d,u;return a(this,(function(a){switch(a.label){case 0:n=void 0!==n?n:0,i=void 0!==i?i:c.Util.normalDPI,t=e.contextPath+"/dimension/"+e.status.id+"/"+n+"?dpi="+i,r=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,c.Util.getJson(t)];case 2:if(r=a.sent(),s=r[0].w,l=r[0].h,0===s&&0===l)throw Error;return window.localSynap.config.sheetMinSize&&window.localSynap.config.sheetMinSize.length>1&&(d=window.localSynap.config.sheetMinSize[0],u=window.localSynap.config.sheetMinSize[1],d>s&&(s=d>1e5?1e5:d),u>l&&(l=u>1e5?1e5:u)),o={sheetWidth:s,sheetHeight:l},[3,4];case 3:return a.sent(),this.eventObserver.sheetFail.notify(),[2,!1];case 4:return[2,o]}}))}))},t.sheetAlertDialogShow=function(){c.Util.printConsoleLog("fail to call api - /dimension"),(new p.Dialog).sheetAlertDialog("msg_sheet_convFail")},t.scrollEvent=function(){t.addContentDiv(),t.resizeCell(t.resizePercent)},t.createContentDiv=function(e){t.sheetWidth=e.sheetWidth,t.sheetHeight=e.sheetHeight,t.maxCol=Math.ceil(t.sheetWidth/t.defaultCellWidth),t.maxRow=Math.ceil(t.sheetHeight/t.defaultCellHeight);var n=t.defaultCellHeight*(t.resizePercent/100),i=t.defaultCellHeight*(t.resizePercent/100),o='<div id="sheet" name="sheet"> <div id="cell-common" name="cell-common" class="cell-common" style="width:'+t.sheetWidth+"px;height:"+t.sheetHeight+'px;"></div></div>';document.getElementById("contents-area").innerHTML=o;var r=(t.maxRow-1)*n;if(t.maxBrowserTop<r&&-1!==t.maxBrowserTop){var a=t.maxBrowserTop/t.defaultCellHeight,s=t.maxCol-1,l=t.sheetCreateElement(a,s,t.maxBrowserTop,s*i,t.lastRowHeight,t.lastColWidth);h("#cell-common").append(l)}},t.addContentDiv=function(e){void 0===e&&(e=0);var n=document.getElementById("contents").offsetWidth,i=document.getElementById("contents").offsetHeight,o=t.defaultCellHeight*(t.resizePercent/100),r=t.defaultCellHeight*(t.resizePercent/100),a=2;e>0&&e<100&&(a=2*Math.ceil(100/e));var s=Math.ceil(t.scrollContentAreaEl.scrollTop()/o),l=(s=s>2?s-2:0)+Math.ceil(i/r);l=l+a>t.maxRow?t.maxRow:l+a;var c=Math.ceil(t.scrollContentAreaEl.scrollLeft()/o),d=(c=c>2?c-2:0)+Math.ceil(n/o);d=d+a>t.maxCol?t.maxCol:d+a;var u=h("#cell-common");t.lastColWidth=t.sheetWidth%t.defaultCellWidth==0?t.defaultCellWidth:t.sheetWidth%t.defaultCellWidth,t.lastRowHeight=t.sheetHeight%t.defaultCellHeight==0?t.defaultCellHeight:t.sheetHeight%t.defaultCellHeight;for(var m=document.createDocumentFragment(),f=s;f<l;++f)for(var p=c;p<d;++p)if(0===h("#cellpage"+f+"_"+p,u).length){var g=f*o,v=p*r,b=t.defaultCellWidth,_=t.defaultCellHeight;f===t.maxRow-1&&(_=t.lastRowHeight),p===t.maxCol-1&&(b=t.lastColWidth);var E=t.sheetCreateElement(f,p,g,v,b,_);m.appendChild(E)}document.getElementById("cell-common").appendChild(m)},t.sheetCreateElement=function(e,n,i,o,r,a){var s=document.createElement("div");s.id="cellpage"+e+"_"+n,s.className="cell__div",s.style.cssText="top:"+i+"px;left:"+o+"px;";var l=document.createElement("img");l.id="piece"+e+"_"+n,c.Util.isFullScreen()?l.className="cell__piece img-loading-black":l.className=m.Head.bgColorMode===m.BGCOLOR_MODE.darkScreen?"cell__piece img-loading":"cell__piece img-loading-bright",l.style.cssText="width:"+r+"px;height:"+a+"px",l.src=t.transparentImg;var d=document.getElementById("sheet"+t.docInfo.currentSheet).textContent;l.alt=d+" sheet image";var u={x:""+(n*t.defaultCellWidth+1),y:""+(e*t.defaultCellHeight+1),w:r,h:a},h=c.Util.getThumbPath(t.docInfo,t.docInfo.currentSheet,t.dpi,u);return l.onerror=function(){l.setAttribute("src",t.transparentImg),l.className+=" img-retry",l.onclick=function(){c.Util.isFullScreen()?l.className="cell__piece img-loading-black":l.className=m.Head.bgColorMode===m.BGCOLOR_MODE.darkScreen?"cell__piece img-loading":"cell__piece img-loading-bright",l.src=h}},l.src=h,s.appendChild(l),s},t._zoomCalculation=function(e,n){for(var i=t.resizePercent,o=document.getElementById("cell-common").getElementsByTagName("div")[0].id,r=0,a=e;r<a.length;r++){var s=a[r],l=t.cellPageRE.exec(o).slice(1,3).map((function(e){return parseInt(e,10)})),c=l[0],d=l[1],u=s/100*(d===t.maxCol-1?t.lastColWidth:t.defaultCellWidth),h=document.getElementById("piece"+c+"_"+d).clientWidth;if(n(u,h)&&!(Math.abs(u-h)<1)){i=s;break}}return i},t.zoomCell=function(e){var n=null;"zoomOut"===e?(n=t._zoomCalculation(d.Controlbar.ZOOM_LIST.slice().reverse(),(function(e,t){return e<t})),t.addContentDiv(n)):n=t._zoomCalculation(d.Controlbar.ZOOM_LIST,(function(e,t){return e>t})),n!==t.resizePercent&&t.resizeCell(n)},t.resizeCell=function(e){t.resizePercent=e;var n=e/100,i=t.defaultCellWidth*n,o=t.defaultCellHeight*n,r=t.lastColWidth*n,a=t.lastRowHeight*n,s=t.sheetWidth*n,l=t.sheetHeight*n,c=document.getElementById("contents").scrollTop,d=document.getElementById("contents").scrollLeft,u=h("#piece0_0").height();h("#cell-common").css({width:s,height:l});for(var m=document.getElementById("cell-common").children,f=0;f<m.length;f++){var p=m[f].id,g=t.cellPageRE.exec(p).slice(1,3).map((function(e){return parseInt(e,10)})),v=g[0],b=g[1],_=o*v;t.maxBrowserTop<_&&-1!==t.maxBrowserTop?h("#"+p).css({top:t.maxBrowserTop,left:i*b}):h("#"+p).css({top:_,left:i*b}),b===t.maxCol-1?h("#piece"+v+"_"+b).css("width",r):h("#piece"+v+"_"+b).css("width",i),v===t.maxRow-1?h("#piece"+v+"_"+b).css("height",a):h("#piece"+v+"_"+b).css("height",o)}var E=h("#piece0_0").height();if(u!==E){var w=E/u;t.scrollContentAreaEl.scrollTop(c*w),t.scrollContentAreaEl.scrollLeft(d*w),t.checkResizeControlBar()}},t.loadSheet=function(e){return r(t,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this.docInfo.currentSheet=e,this.resizePercent=100,h("#contents-area").empty(),(new p.Dialog).removeSheetDialog(),[4,this.getDimension(this.docInfo,e,this.dpi.toString())];case 1:return(t=n.sent())?(this.createContentDiv(t),this.addContentDiv(),l.Browser.instance.isMobile&&(this.resizePercent=50,this.resizeCell(this.resizePercent)),this.checkMoveControlbar(),this.checkResizeControlBar(),document.getElementById("contents-area").focus(),[2]):[2]}}))}))},t.checkResizeControlBar=function(){t.resizePercent===d.Controlbar.ZOOM_LIST[0]?(h("#cell-zoomout").removeClass("controlbar--enable"),h("#cell-zoomout").removeClass("controlbar-zoomout--hover"),h("#cell-zoomout").prop("disabled",!0)):(h("#cell-zoomout").addClass("controlbar--enable"),h("#cell-zoomout").prop("disabled",!1)),t.resizePercent===d.Controlbar.ZOOM_LIST[d.Controlbar.ZOOM_LIST.length-1]?(h("#cell-zoomin").removeClass("controlbar--enable"),h("#cell-zoomin").removeClass("controlbar-zoomin--hover"),h("#cell-zoomin").prop("disabled",!0)):(h("#cell-zoomin").addClass("controlbar--enable"),h("#cell-zoomin").prop("disabled",!1))},t.bindControlbarEvent=function(){c.Util.bindClickOrTouchEvent(h("#cell-first"),"controlbar-first--hover",(function(){t.eventObserver.sheet.notify(0)})),c.Util.bindClickOrTouchEvent(h("#cell-end"),"controlbar-end--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.status.pageNum-1)})),c.Util.bindClickOrTouchEvent(h("#cell-prev"),"controlbar-prev--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet-1)})),c.Util.bindClickOrTouchEvent(h("#cell-next"),"controlbar-next--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet+1)})),c.Util.bindClickOrTouchEvent(h("#cell-zoomout"),"controlbar-zoomout--hover",(function(){t.zoomCell("zoomOut")})),c.Util.bindClickOrTouchEvent(h("#cell-zoomin"),"controlbar-zoomin--hover",(function(){t.zoomCell("zoomIn")}))},t.resizeWindow=function(){h("#contents").removeAttr("style"),c.Util.isMobileMode(t.docInfo.status.convertType)&&(h("#tablist-popup").hide(),c.Util.isFullScreen()||t.eventObserver.mobileHeader.notify(u.ShowActionType.HIDE3SEC)),c.Util.isFullScreen()||c.Util.isFullScreen()||(t.sheetTabResize(),s.DetectZoom.getRatio()<100&&t.addContentDiv())},t.singleTap=function(){t.toggleMobileHeader()},t.mouseEventBind=function(){h("#contents").on("click",(function(){l.Browser.instance.isMobile||t.toggleMobileHeader()}))},t.eventObserverBind=function(e){t.eventObserver=e,t.eventObserver.sheet.subscribe(t.moveSheet),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.eventObserver.sheetFail.subscribe(t.sheetAlertDialogShow)},t.eventBind=function(){t.scrollSheetEventBind(),t.mouseEventBind()},t.setMaxBrowserTop=function(){var e=l.Browser.instance;e.isMobile||(e.isIE||e.isEdge?t.maxBrowserTop=1535e3:e.isFirefox&&(t.maxBrowserTop=17895e3))},t.setTabIndex=function(){for(var e=["info-btn","download-btn","backgroundcolor-btn","presentation-btn","contents-area","tabmore"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=4;for(n=0;n<t.maxPage;n++)document.getElementById("sheet"+n).tabIndex=7},t.load=function(e,n){return r(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return this.docInfo=e,this.maxPage=this.docInfo.status.pageNum,h("#wrap").addClass("wrap--cell"),l.Browser.instance.isIOS&&(h("#wrap").addClass("wrap--ios"),h("#container").addClass("wrap__container--ios"),h("#contents").addClass("wrap__contents--ios"),h("#footer").addClass("wrap__footer--ios")),h("#header-title-text").addClass("wrap__title--cell"),h("#contents-area").addClass("wrap__contents-area"),this.setMaxBrowserTop(),this.bindControlbarEvent(),this.eventObserverBind(n),[4,this.loadSheetTab(this.docInfo.currentSheet)];case 1:return t.sent(),[4,this.loadSheet(this.docInfo.currentSheet)];case 2:return t.sent(),this.setTabIndex(),this.eventBind(),document.getElementById("contents-area").focus(),[2]}}))}))},t}return o(t,e),t}(f.Sheet);t.ImageSheet=g}).call(this,n(6))},function(e,t,n){"use strict";(function(e){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},a=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=n(3),c=n(29),d=n(1),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sheetIdList=[],t.getSheet=function(e){return t.docInfo.status.sheetList[e]},t.getTitle=function(e,n,i){return r(t,void 0,void 0,(function(){return a(this,(function(e){return[2,this.getSheet(i).title]}))}))},t.loadSheet=function(e){return r(t,void 0,void 0,(function(){var t;return a(this,(function(n){return this.docInfo.currentSheet=e,t=this.docInfo.resultPath+"/"+this.getSheet(e).path,d(".wrap__innerWrap").get(0).setAttribute("src",t),this.checkMoveControlbar(),document.getElementById("contents-area").focus(),[2]}))}))},t.bindControlbarEvent=function(){l.Util.bindClickOrTouchEvent(d("#cell-first"),"controlbar-first--hover",(function(){t.eventObserver.sheet.notify(0)})),l.Util.bindClickOrTouchEvent(d("#cell-end"),"controlbar-end--hover",(function(){t.eventObserver.sheet.notify(t.maxPage-1)})),l.Util.bindClickOrTouchEvent(d("#cell-prev"),"controlbar-prev--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet-1)})),l.Util.bindClickOrTouchEvent(d("#cell-next"),"controlbar-next--hover",(function(){t.eventObserver.sheet.notify(t.docInfo.currentSheet+1)}))},t.resizeWindow=function(){d("#contents").removeAttr("style"),l.Util.isMobileMode(t.docInfo.status.convertType)&&(d("#tablist-popup").hide(),l.Util.isFullScreen()||t.eventObserver.mobileHeader.notify(c.ShowActionType.HIDE3SEC)),l.Util.isFullScreen()||l.Util.isFullScreen()||t.sheetTabResize()},t.mouseEventBind=function(){d("#contents-area").on("click",(function(){s.Browser.instance.isMobile||t.toggleMobileHeader()})),d("#innerWrap").on("load",(function(){var e=document.getElementById("contents-area"),t=document.getElementById("innerWrap");t.contentDocument.addEventListener("mousemove",l.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("click",l.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("touchstart",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchmove",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchend",l.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("keydown",l.Util.getKeybordHandlerDispatch(e)),t.contentDocument.addEventListener("keyup",l.Util.getKeybordHandlerDispatch(e))}))},t.singleTap=function(){t.toggleMobileHeader()},t.iosSheetTabEventBind=function(){s.Browser.instance.isIOS&&d("#header-tablist__input, #cell-select-arrow").on("click",(function(){var e=document.createElement("div");e.id="dimmed",e.style.width="100%",e.style.height="100%",e.style.position="fixed",e.style.zIndex="30",e.addEventListener("click",(function(){document.getElementById("dimmed").remove()})),document.getElementById("header-tablist__select").addEventListener("change",(function(){document.getElementById("dimmed").remove()})),document.getElementsByTagName("body")[0].appendChild(e)}))},t.syncSheetTab=function(){var e=t;d("#innerWrap").on("load",(function(){var t=e.docInfo.status.sheetList;"number"==typeof this.contentWindow.sheetIndex&&t[e.docInfo.currentSheet].id!==this.contentWindow.sheetIndex&&(e.docInfo.currentSheet=e.sheetIdList[this.contentWindow.sheetIndex],e.checkMoveControlbar(),e.sheetTabActive(e.docInfo.currentSheet))}))},t.eventBind=function(e){t.eventObserver=e,t.eventObserver.sheet.subscribe(t.moveSheet),t.eventObserver.resizeWindow.subscribe(t.resizeWindow),t.eventObserver.fullScreen.subscribe(t.fullScreen),t.eventObserver.singleTap.subscribe(t.singleTap),t.mouseEventBind(),t.iosSheetTabEventBind(),t.syncSheetTab()},t.getDimensionHtml=function(){return r(t,void 0,void 0,(function(){var e,t,n,i,o=this;return a(this,(function(r){switch(r.label){case 0:return e=this.docInfo.resultPath+"/"+this.docInfo.status.fileName+".xml",t=[],[4,l.Util.getXml(e)];case 1:return n=r.sent(),1===parseInt(n.index.sheet_cnt)?(t[0]=[],t[0].id=parseInt(n.index.sheet_list.sheet.id),t[0].title=n.index.sheet_list.sheet.title,t[0].path=n.index.sheet_list.sheet.path_xhtml,this.sheetIdList[t[0].id]=0):(i=0,d.each(n.index.sheet_list.sheet,(function(e,n){if(n.title){var r={id:parseInt(n.id),title:n.title,path:n.path_xhtml};t[i]=r,o.sheetIdList[r.id]=i,i++}}))),[2,t]}}))}))},t.setTabIndex=function(){for(var e=["info-btn","download-btn","presentation-btn","tabmore"],n=0;n<e.length;n++)document.getElementById(e[n]).tabIndex=n+1;document.getElementById("fullscreen-close").tabIndex=3;for(n=0;n<t.maxPage;n++)document.getElementById("sheet"+n).tabIndex=5},t.load=function(e,n){return r(t,void 0,void 0,(function(){var t,i,o;return a(this,(function(r){switch(r.label){case 0:return this.docInfo=e,t=this.docInfo.status,i="sheetList",[4,this.getDimensionHtml()];case 1:return t[i]=r.sent(),this.maxPage=this.docInfo.status.pageNum=this.docInfo.status.sheetList.length,d("#wrap").addClass("wrap--cell"),s.Browser.instance.isIOS&&(d("#wrap").addClass("wrap--ios"),d("#container").addClass("wrap__container--ios"),d("#contents").addClass("wrap__contents--ios"),d("#footer").addClass("wrap__footer--ios")),d("#header-title-text").addClass("wrap__title--cell"),d("#contents-area").addClass("wrap__contents-area"),this.bindControlbarEvent(),o=this.createIframe(),document.getElementById("contents-area").appendChild(o),[4,this.loadSheetTab(this.docInfo.currentSheet)];case 2:return r.sent(),[4,this.loadSheet(this.docInfo.currentSheet)];case 3:return r.sent(),this.setTabIndex(),this.eventBind(n),[2]}}))}))},t.createIframe=function(){var e=document.createElement("iframe");return e.id="innerWrap",e.className="wrap__innerWrap",e.title="content",e.style.backgroundColor="#ffffff",e},t}return o(t,e),t}(n(110).Sheet);t.HtmlSheet=u}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(190),o=n(191),r=n(1),a=n(3),s=n(28),l=n(14),c=n(111),d=n(2),u=n(68),h=n(34),m=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.maxPage=null,this.scrollContentAreaEl=d.Browser.instance.isIOS?r(document):r("#contents"),this.isSupport=!1,this.isPage=!0,this.isSheet=!1,this.isClickedFullscreenCloseBtn=!1,this.supportFullscreen=new o.SupportFullscreen,this.notSupportFullscreen=new i.NotSupportFullscreen,this.fullScreenChangeEvent=function(){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach((function(t){return document.addEventListener(t,(function(){if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){var t=e.isSupport;e.isSupport=!1,e.isClickedFullscreenCloseBtn||e.fullScreenCloseBtnEvent(),e.isSupport=t,e.isClickedFullscreenCloseBtn=!1}}),!1)}))},this.isFullScreenSupport=function(){return!(a.Util.isHtmlSkin(e.docInfo)&&d.Browser.instance.isMobile)},this.fullScreenBtnEvent=function(t){if(!h.default.isMarkerMode){r(".fullscreen-close").show();var n=d.Browser.instance;n.isMobile&&e.isPage||a.Util.isHtmlWordSkin(e.docInfo)||(r(".fullscreen-move").show(),e.pageScrollEventBind(),e.checkFullscreenMoveBtn()),e.isFullScreenSupport()&&"keydown"===t.type&&n.isIE&&11===n.version&&(e.isSupport=!1),e.isPage&&!a.Util.isHtmlWordSkin(e.docInfo)&&(!n.isMobile&&e.pageMouseEventBind(),e.presentationActions===e.notSupportFullscreen&&e.changePageDocScrollStyle(),n.isIOS&&e.iosMobileEventBind()),e.presentationActions.fullscreenON(e.docInfo.skinType,e.isSupport);var i=e.scrollContentAreaEl.scrollTop(),o=e.scrollContentAreaEl.scrollLeft();"cell"===e.docInfo.skinType&&(document.getElementById("contents-area").focus(),e.scrollContentAreaEl.scrollTop(i),e.scrollContentAreaEl.scrollLeft(o))}},this.fullScreenCloseBtnEvent=function(){r(".fullscreen-close").removeAttr("style");var t=d.Browser.instance;t.isMobile&&e.isPage||(r(".fullscreen-move").removeAttr("style"),e.pageScrollEventUnbind()),!t.isIOS&&r("#contents").css({"overflow-x":"","overflow-y":"","-ms-overflow-x":"","-ms-overflow-y":""}),e.isPage&&(!t.isMobile&&e.pageMouseEventUnbind(),t.isIOS&&e.iosMobileEventUnbind());var n=e.scrollContentAreaEl.scrollTop(),i=e.scrollContentAreaEl.scrollLeft();e.presentationActions.fullscreenOFF(e.docInfo.skinType,e.isSupport),"cell"===e.docInfo.skinType&&(document.getElementById("contents-area").focus(),e.scrollContentAreaEl.scrollTop(n),e.scrollContentAreaEl.scrollLeft(i))},this.fullScreenEventBind=function(){r("#presentation-btn").on(a.Util.getClickEventName(),(function(t){e.fullScreenBtnEvent(t)})),e.fullScreenChangeEvent(),r("#fullscreen").on(a.Util.getClickEventName(),(function(t){e.fullScreenBtnEvent(t)})),r(".fullscreen-close").on(a.Util.getClickEventName(),(function(){e.isClickedFullscreenCloseBtn=!0,e.fullScreenCloseBtnEvent()})),e.isActiveFullscreenMoveBtn()&&(a.Util.bindClickOrTouchEvent(r("#fullscreen-prev"),"fullscreen-prev--hover",(function(){if("cell"===e.docInfo.skinType)e.eventObserver.sheet.notify(e.docInfo.currentSheet-1);else{if(0===e.docInfo.currentPage)return;e.eventObserver.page.notify({pageNum:e.docInfo.currentPage-1,isScroll:!1})}e.checkFullscreenMoveBtn()})),a.Util.bindClickOrTouchEvent(r("#fullscreen-next"),"fullscreen-next--hover",(function(){if("cell"===e.docInfo.skinType)e.eventObserver.sheet.notify(e.docInfo.currentSheet+1);else{if(e.docInfo.currentPage===e.docInfo.status.pageNum-1)return;e.eventObserver.page.notify({pageNum:e.docInfo.currentPage+1,isScroll:!1})}e.checkFullscreenMoveBtn()}))),r(window).on("keydown",(function(t){return e.fullScreenKeyDownEvent(t.originalEvent)}))},this.fullScreenKeyDownEvent=function(t){t.keyCode===u.keyMap.F11&&(t.preventDefault(),t.stopPropagation(),a.Util.isFullScreen()?(e.isClickedFullscreenCloseBtn=!0,e.fullScreenCloseBtnEvent()):e.fullScreenBtnEvent(t)),t.keyCode===u.keyMap.ESC&&a.Util.isFullScreen()&&(t.preventDefault(),t.stopPropagation(),e.fullScreenCloseBtnEvent())},this.checkFullscreenMoveBtn=function(){var t=r("#fullscreen-prev");("cell"===e.docInfo.skinType?0===e.docInfo.currentSheet:0===e.docInfo.currentPage)?(t.removeClass("fullscreen-prev--enable"),t.removeClass("fullscreen-prev--hover"),t.prop("disabled",!0)):(t.addClass("fullscreen-prev--enable"),t.prop("disabled",!1));var n=r("#fullscreen-next");("cell"===e.docInfo.skinType?e.docInfo.currentSheet===e.docInfo.status.pageNum-1:e.docInfo.currentPage===e.docInfo.status.pageNum-1)?(n.removeClass("fullscreen-next--enable"),n.removeClass("fullscreen-next--hover"),n.prop("disabled",!0)):(n.addClass("fullscreen-next--enable"),n.prop("disabled",!1))},this.isActiveFullscreenMoveBtn=function(){return!(d.Browser.instance.isMobile&&"cell"!==e.docInfo.skinType||a.Util.isHtmlWordSkin(e.docInfo)||a.Util.useSingle(e.docInfo))},this.pageMouseEventBind=function(){document.oncontextmenu=function(){return!1};var t=r("#contents-area");t.on("mousedown.fullscreen",(function(t){if(a.Util.isHtmlSlideSkin(e.docInfo)||!s.DetectZoom||100===s.DetectZoom.getRatio()){var n=-1;if(t&&t instanceof Object&&void 0!==t.button?n=t.button:window.event&&void 0!==window.event.button&&(n=window.event.button),0===n||2===n){var i=-1;switch(n){case 0:i=e.docInfo.currentPage+1;break;case 2:i=e.docInfo.currentPage-1}e.movePage(i)}}})),a.Util.isHtmlSlideSkin(e.docInfo)||t.on("wheel.fullscreen",(function(t){if(!s.DetectZoom||100===s.DetectZoom.getRatio()){var n=-1;n=t.originalEvent.deltaY<0?e.docInfo.currentPage-1:e.docInfo.currentPage+1,e.movePage(n)}}))},this.pageMouseEventUnbind=function(){!0===window.localSynap.config.allowCopy&&(document.oncontextmenu=function(){return!0});var e=r("#contents-area");e.off("mousedown.fullscreen"),e.off("wheel.fullscreen"),e.off("scroll.fullscreen")},this.pageScrollEventBind=function(){var t;"cell"!==e.docInfo.skinType&&e.scrollContentAreaEl.on("scroll.fullscreen",(function(){a.Util.isFullScreen()&&(clearTimeout(t),t=setTimeout(e.checkFullscreenMoveBtn,80))}))},this.pageScrollEventUnbind=function(){e.scrollContentAreaEl.off("scroll.fullscreen")},this.movePage=function(t){isNaN(t)||t<0||t>e.maxPage-1||e.eventObserver.page.notify({pageNum:t,isScroll:!1})},this.resizeWindow=function(){((document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled)&&!d.Browser.instance.isEdge?document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement:a.Util.isFullScreen())&&e.changePageDocScrollStyle()},this.changePageDocScrollStyle=function(){if("cell"!==e.docInfo.skinType&&!a.Util.isHtmlWordSkin(e.docInfo))return!d.Browser.instance.isMobile&&(void 0===s.DetectZoom||100===s.DetectZoom.getRatio())||d.Browser.instance.isMobile&&l.Page.RESIZE_OBJ.type===l.RESIZE_TYPE.PageFit?(!d.Browser.instance.isIOS&&r("#contents").css({"overflow-y":"hidden","overflow-x":"auto"}),void e.movePage(e.docInfo.currentPage)):void(d.Browser.instance.isIOS||!d.Browser.instance.isMobile&&a.Util.isHtmlSlideSkin(e.docInfo)||(r("#contents").css({"overflow-y":"auto","overflow-x":"auto"}),r(".contents-page > img").css("overflow-x","scroll")))},this.doubleTap=function(){a.Util.isFullScreen()&&"cell"!==e.docInfo.skinType&&(d.Browser.instance.isIOS||l.Page.RESIZE_OBJ.type!==l.RESIZE_TYPE.PageFit||e.scrollContentAreaEl.scrollTop(document.getElementById("page-area"+e.docInfo.currentPage).offsetTop),e.changePageDocScrollStyle())},this.swipe=function(t){switch(t){case c.SWIPE_DIRECTION.LEFT:case c.SWIPE_DIRECTION.UP:e.movePage(e.docInfo.currentPage+1);break;case c.SWIPE_DIRECTION.RIGHT:case c.SWIPE_DIRECTION.DOWN:e.movePage(e.docInfo.currentPage-1)}if(!d.Browser.instance.isiPad&&d.Browser.instance.getIOSVersion()>=11){document.getElementById("fullscreen-close").style.top="";var n=r("#fullscreen-close").position().top;n<0&&(document.getElementById("fullscreen-close").style.top=Math.abs(n)+"px")}},this.fullscreenSingleTap=function(){"cell"===e.docInfo.skinType?(e.eventObserver.sheet.notify(e.docInfo.currentSheet+1),e.checkFullscreenMoveBtn()):e.movePage(e.docInfo.currentPage+1)},this.iosMobileEventBind=function(){document.documentElement.addEventListener("touchmove",e.iosTouchMoveEvent,a.Util.nonPassiveEventListenerOption)},this.iosMobileEventUnbind=function(){document.documentElement.removeEventListener("touchmove",e.iosTouchMoveEvent,a.Util.nonPassiveEventListenerOption)},this.iosTouchMoveEvent=function(e){l.Page.RESIZE_OBJ.type===l.RESIZE_TYPE.PageFit&&e.preventDefault()},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.resizeWindow.subscribe(e.resizeWindow),e.eventObserver.doubleTap.subscribe(e.doubleTap),e.eventObserver.swipe.subscribe(e.swipe),e.eventObserver.fullscreenSingleTap.subscribe(e.fullscreenSingleTap),e.eventObserver.moveBtn.subscribe(e.checkFullscreenMoveBtn),e.fullScreenEventBind(),e.presentationActions.eventBind(e.eventObserver)},this.load=function(t,n){e.docInfo=t,e.maxPage=e.docInfo.status.pageNum;var i=d.Browser.instance;(i.isChrome||i.isFirefox||i.isSafari||i.isAndroid||i.isIE&&11===i.version)&&e.isFullScreenSupport()?(e.isSupport=!0,e.presentationActions=e.supportFullscreen):e.presentationActions=e.notSupportFullscreen,"cell"===e.docInfo.skinType&&(e.isPage=!1,e.isSheet=!0),e.eventBind(n)}};t.Presentation=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(){var e=this;this.eventObserver=null,this.eventBind=function(t){e.eventObserver=t},this.fullscreenON=function(t,n){void 0===n&&(n=!1),i("#wrap").addClass("fullscreen-hidden"),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!0,isSupport:n}),i("#wrap").removeClass("fullscreen-hidden")}),100)},this.fullscreenOFF=function(t,n){void 0===n&&(n=!1),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!1,isSupport:n})}),100)}};t.NotSupportFullscreen=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(1),r=function(){var e=this;this.eventObserver=null,this.eventBind=function(t){e.eventObserver=t},this.fullscreenON=function(t,n){void 0===n&&(n=!0);var r=function(){var e=o("#container")[0],t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;t&&t.call(e)};o("#wrap").addClass("fullscreen-hidden"),i.Browser.instance.isChrome?setTimeout((function(){r()}),5):r(),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!0,isSupport:n}),o("#wrap").removeClass("fullscreen-hidden")}),100)},this.fullscreenOFF=function(t,n){void 0===n&&(n=!0);var i=top.document,o=i.exitFullscreen||i.mozCancelFullScreen||i.webkitExitFullscreen||i.msExitFullscreen,r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;o&&r&&o.call(i),setTimeout((function(){e.eventObserver.fullScreen.notify({skinType:t,isFullScreen:!1,isSupport:n})}),100)}};t.SupportFullscreen=r},function(e,t,n){"use strict";(function(e){var i=this&&this.__awaiter||function(t,n,i,o){return new(i||(i=e))((function(e,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(3),s=n(29),l=n(1),c=function(){var e=this;this.docInfo=null,this.eventObserver=null,this.createIframe=function(){var t=document.createElement("iframe");t.id="innerWrap",t.className="wrap__innerWrap",t.title="content";var n=a.Util.useSingle(e.docInfo)?e.docInfo.resultPath+"/"+e.docInfo.status.fileName+".xhtml":e.docInfo.resultPath+"/"+e.docInfo.status.fileName+".view.xhtml";return t.src=r.Browser.instance.isIE9Lower()?encodeURI(n):n,t},this.load=function(t,n){e.docInfo=t,r.Browser.instance.isIOS&&(l("#wrap").addClass("wrap--ios"),l("#container").addClass("wrap__container--ios"),l("#contents").addClass("wrap__contents--ios"));var i=e.createIframe();document.getElementById("contents-area").appendChild(i),e.setTabIndex(),e.eventBind(n)},this.eventBind=function(t){e.eventObserver=t,e.eventObserver.fullScreen.subscribe(e.fullScreen),e.eventObserver.singleTap.subscribe(e.singleTap),e.mouseEventBind()},this.toggleMobileHeader=function(){a.Util.isMobileMode(e.docInfo.status.convertType)&&!a.Util.isFullScreen()&&("none"===l(".wrap__header").css("display")?e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE3SEC):e.eventObserver.mobileHeader.notify(s.ShowActionType.HIDE))},this.mouseEventBind=function(){l("#contents-area").on("click",(function(){r.Browser.instance.isMobile||e.toggleMobileHeader()})),l("#innerWrap").on("load",(function(){var e=document.getElementById("contents-area"),t=document.getElementById("innerWrap");t.contentDocument.addEventListener("touchstart",a.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchmove",a.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("touchend",a.Util.getTouchHandlerDispatch(e)),t.contentDocument.addEventListener("click",a.Util.getMouseHandlerDispatch(e)),t.contentDocument.addEventListener("keydown",a.Util.getKeybordHandlerDispatch(e)),t.contentDocument.addEventListener("keyup",a.Util.getKeybordHandlerDispatch(e))}))},this.fullScreen=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){return t.isFullScreen?(l(".wrap__innerWrap").css("background-color","#000000"),l("#container").addClass("wrap__container--presentation"),t.isSupport||l(".wrap__header").addClass("wrap__header--presentation")):(l(".wrap__innerWrap").css("background-color",""),l("#container").removeClass("wrap__container--presentation"),t.isSupport||l(".wrap__header").removeClass("wrap__header--presentation")),[2]}))}))},this.singleTap=function(){e.toggleMobileHeader()},this.setTabIndex=function(){for(var e=["page__input","info-btn","download-btn","backgroundcolor-btn","presentation-btn"],t=0;t<e.length;t++)document.getElementById(e[t]).tabIndex=t+1;document.getElementById("fullscreen-close").tabIndex=5,document.querySelector(".wrap__innerWrap").tabIndex=10}};t.Word=c}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),r=n(71),a=n(2),s=function(){var e=this;this.noneRotateSize=[0,0],this.scrollContentAreaEl=a.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,s,l){var c;void 0===s&&(s=0),void 0===l&&(l=0);var d=i("#page-area0").height(),u=e.scrollContentAreaEl.scrollTop(),h=i(".contents-page").length,m=0===l||l>h?h:s+l,f=0;f=a.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight;var p=i("#contents").width();e.noneRotateSize=[p,f];for(var g=s;g<m;++g){var v,b;if(v=(c=e.getResizeResult(!1,r.Slide.ORIGIN_SIZE[g].width,r.Slide.ORIGIN_SIZE[g].height))[0],b=c[1],o.Util.isFullScreen()){var _=0;_=(f-b)/2,i("#page"+g).css({"margin-top":_,"margin-bottom":_}),i("#page-alpha"+g).css({"margin-top":_,"margin-bottom":_})}else i("#page-alpha"+g).css({"margin-top":0,"margin-bottom":0});i("#page"+g).css({width:1*v,height:1*b}),i("#page-alpha"+g).css({width:1*v,height:1*b}),r.Slide.CURRENT_SIZE[g]={width:1*v,height:1*b}}e.setPageMargin(1),!a.Browser.instance.isIOS&&e.scrollContentAreaEl.scrollTop(u*(i("#page-area0").height()/d))},this._getRatio=function(t,n){var i=e.noneRotateSize,o=i[0],r=i[1],a=o/t,s=r/n;return r<o&&t*s<o||r>o&&n*a>r?s:a},this.getResizeResult=function(t,n,i,o){void 0===o&&(o=null);var r=e._getRatio(n,i);return[n*r,i*r]},this.setPageMargin=function(e){var t=i("#page-area0").height()/r.Slide.ORIGIN_SIZE[0].height*e;i(".contents-page").css("margin-top",r.Slide.ORIGIN_MARGIN.marginTop*t),i(".contents-page").css("margin-bottom",r.Slide.ORIGIN_MARGIN.marginBottom*t),i(".thumb-slide-alpha").css("left",i("#page0").offset().left)}};t.SlidePageScrollFit=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(3),r=n(71),a=n(2),s=function(){var e=this;this.noneRotateSize=[0,0],this.scrollContentAreaEl=a.Browser.instance.isIOS?i(document):i("#contents"),this.resizePage=function(t,n,s,l){void 0===s&&(s=0),void 0===l&&(l=0),i("#contents").css("overflow","hidden"),i("#contents-area").css("overflow","hidden");var c=0;c=a.Browser.instance.isIOS&&o.Util.isFullScreen()?window.innerHeight:document.getElementById("contents").offsetHeight;var d=i("#contents").width();e.noneRotateSize=[d,c];var u=s,h=r.Slide.ORIGIN_SIZE[u].width,m=r.Slide.ORIGIN_SIZE[u].height,f=e._getRatio(h,m);i("#contents-area").css({width:d,height:c}),i("#page"+u).css({width:2*h,height:2*m}),r.Slide.CURRENT_SIZE[u]={width:1*h,height:1*m},i("#page"+u).css("transform","scale("+f/2+")").css("margin-left",h*(f-2)/2+(d-h*f)/2+"px").css("margin-top",m*(f-2)/2+(c-m*f)/2+"px"),e.setPageMargin(1)},this._getRatio=function(t,n){var i=e.noneRotateSize,o=i[0],r=i[1],a=.95*o/t;return r/o<n/t&&(a=.95*r/n),a},this.getResizeResult=function(t,n,i,o){void 0===o&&(o=null);var r=e._getRatio(n,i);return[n*r,i*r]},this.setPageMargin=function(e){i(".contents-page").css("margin-top",0),i(".contents-page").css("margin-bottom",0)}};t.SlidePageFit=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(112),o=function(e,t){var n=this;this.arrangeIntoTree=function(e){for(var t=[],o=function(e){for(var o=e.pathArr,r=[],a=t,s=function(t){var s=o[t],l=n.findWhere(a,"fileName",s);if(l)a=l.children,r=l;else{var c=void 0;c=t===o.length-1?{filePath:e.filePath,fileName:s,fileType:e.fileType,fileSize:e.fileSize,directory:e.directory,parent:r,children:[],childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}}:{filePath:function(){for(var e="",n=0;n<=t;n++)e+=o[n]+"/";return e}(),fileName:s,fileType:null,fileSize:0,directory:!0,parent:r,children:[],childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}},a.push(c),r=c,a=c.children}},l=0;l<o.length;l++)s(l)},r=0,a=e;r<a.length;r++)o(a[r]);return t},this.findWhere=function(e,t,n){for(var i=0;i<e.length&&e[i][t]!==n;)i++;return i<e.length&&e[i]},this.getZipTree=function(){return n.zipTree};for(var o=[],r=0;r<e.length;r++){var a=e[r].fileName.replace(/^\/|\/$/g,"").split("/");o[r]={pathArr:a,filePath:e[r].fileName,fileType:e[r].directory||null===e[r].fileType?null:e[r].fileType.toLowerCase(),fileSize:e[r].fileSize,directory:e[r].directory}}this.zipTree=this.arrangeIntoTree(o);for(var s={filePath:"/",fileName:t,fileType:"",fileSize:0,directory:!0,parent:null,children:this.zipTree,childSort:{sortingField:i.SORTING_FIELD.NULL,sortingStatus:i.SORTING_STATUS.NULL}},l=0,c=s.children;l<c.length;l++)c[l].parent=s;this.zipTree=s};t.ZipTree=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.unsubscribe=function(e){this.observers=this.observers.filter((function(t){return t!==e}))},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();t.Observable=i},,,function(e,t){},,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){}]);